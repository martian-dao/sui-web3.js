{"version":3,"sources":["../src/index.ts","../src/cryptography/utils.ts","../src/cryptography/signature.ts","../src/builder/bcs.ts","../src/bcs/index.ts","../src/builder/type-tag-serializer.ts","../src/utils/sui-types.ts","../src/keypairs/secp256r1/publickey.ts","../src/cryptography/publickey.ts","../src/cryptography/intent.ts","../src/keypairs/secp256k1/publickey.ts","../src/keypairs/ed25519/publickey.ts","../src/cryptography/multisig.ts","../src/keypairs/ed25519/keypair.ts","../src/cryptography/mnemonics.ts","../src/keypairs/ed25519/ed25519-hd-key.ts","../src/cryptography/keypair.ts","../src/keypairs/secp256k1/keypair.ts","../src/types/checkpoints.ts","../src/types/objects.ts","../src/types/common.ts","../src/types/transactions.ts","../src/types/events.ts","../src/types/normalized.ts","../src/types/validator.ts","../src/types/coin.ts","../src/types/epochs.ts","../src/types/name-service.ts","../src/types/dynamic_fields.ts","../src/types/metrics.ts","../src/keypairs/secp256r1/keypair.ts","../src/rpc/client.ts","../src/version.ts","../src/rpc/errors.ts","../src/rpc/websocket-client.ts","../src/providers/json-rpc-provider.ts","../src/rpc/connection.ts","../src/builder/TransactionBlock.ts","../src/builder/Transactions.ts","../src/builder/utils.ts","../src/builder/Inputs.ts","../src/types/option.ts","../src/framework/framework.ts","../src/builder/serializer.ts","../src/builder/TransactionBlockData.ts","../src/builder/hash.ts","../src/faucet/index.ts","../src/signers/raw-signer.ts","../src/signers/signer-with-provider.ts","../src/utils/verify.ts","../src/utils/format.ts","../src/framework/sui-system-state.ts","../src/wallet-client.ts","../src/nft-client.ts","../src/stakeHelperFunctions.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromExportedKeypair } from './cryptography/utils';\nimport {\n  ECMHLiveObjectSetDigest,\n  ExecutionDigests,\n} from './types/checkpoints';\nimport { MIST_PER_SUI, SUI_DECIMALS } from './types/objects';\nimport {\n  AuthorityQuorumSignInfo,\n  GenericAuthoritySignature,\n  SuiTransactionBlockKind,\n} from './types/transactions';\n\n// all exports deprecated, non-deprecated imports exported separately below\nexport * from './types/index';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/keypairs/ed5519` instead */\n  type Ed25519KeypairData,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/ed5519` instead */\n  Ed25519Keypair,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/ed5519` instead */\n  Ed25519PublicKey,\n} from './keypairs/ed25519/index';\nexport {\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256k1` instead */\n  DEFAULT_SECP256K1_DERIVATION_PATH,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256k1` instead */\n  type Secp256k1KeypairData,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256k1` instead */\n  Secp256k1Keypair,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256k1` instead */\n  Secp256k1PublicKey,\n} from './keypairs/secp256k1/index';\nexport {\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256r1` instead */\n  DEFAULT_SECP256R1_DERIVATION_PATH,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256r1` instead */\n  type Secp256r1KeypairData,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256r1` instead */\n  Secp256r1Keypair,\n  /** @deprecated Import from `@mysten/sui.js/keypairs/secp256k1` instead */\n  Secp256r1PublicKey,\n} from './keypairs/secp256r1/index';\nexport {\n  /** @deprecated Signing methods are now available on the KeyPair classes */\n  BaseSigner,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type ExportedKeypair,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  Keypair,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  LEGACY_PRIVATE_KEY_SIZE,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  PRIVATE_KEY_SIZE,\n} from './cryptography/keypair';\nexport {\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  type CompressedSignature,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  MAX_SIGNER_IN_MULTISIG,\n  /** @deprecated Use the MultiSigStruct from `@mysten/sui.js/multisig` instead */\n  type MultiSig,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  type MultiSigPublicKey,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  type PubkeyEnumWeightPair,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  type PubkeyWeightPair,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  type PublicKeyEnum,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  combinePartialSigs,\n  /** @deprecated Use the parseSerializedSignature from `@mysten/sui.js/cryptography` instead */\n  decodeMultiSig,\n  /** @deprecated Use the MultiSigPublicKey class from `@mysten/sui.js/multisig` instead */\n  toMultiSigAddress,\n} from './cryptography/multisig';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  PublicKey,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type PublicKeyInitData,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  bytesEqual,\n} from './cryptography/publickey';\nexport {\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  isValidBIP32Path,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  isValidHardenedPath,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  mnemonicToSeed,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  mnemonicToSeedHex,\n} from './cryptography/mnemonics';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  SIGNATURE_FLAG_TO_SCHEME,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  SIGNATURE_SCHEME_TO_FLAG,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  SIGNATURE_SCHEME_TO_SIZE,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type SerializeSignatureInput,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type SerializedSignature,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type SignatureFlag,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type SignatureScheme,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  parseSerializedSignature,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  toSerializedSignature,\n} from './cryptography/signature';\n\nexport {\n  /** @deprecated This type will be removed because it cant accurately represent parsed signatures */\n  type SignaturePubkeyPair,\n  /** @deprecated use `publicKeyFromRawBytes` from `@mysten/sui.j/verify` instead */\n  publicKeyFromSerialized,\n  /** @deprecated use `parseSerializedSignature` from `@mysten/sui.j/cryptography` instead */\n  toParsedSignaturePubkeyPair,\n  /** @deprecated use `parseSerializedSignature` from `@mysten/sui.j/cryptography` instead */\n  toSingleSignaturePubkeyPair,\n} from './cryptography/utils';\nexport {\n  /** @deprecated Use `SuiClient` from `@mysten/sui.js/client` instead */\n  JsonRpcProvider,\n  /** @deprecated Import from `@mysten/sui.js/client` instead */\n  type OrderArguments,\n  /** @deprecated Import from `@mysten/sui.js/client` instead */\n  type PaginationArguments,\n  /** @deprecated Use `SuiClientOptions` from `@mysten/sui.js/client` instead */\n  type RpcProviderOptions,\n} from './providers/json-rpc-provider';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/client` instead */\n  type HttpHeaders,\n  /** @deprecated This client will not be exported in the future */\n  JsonRpcClient,\n} from './rpc/client';\n\nexport {\n  /** @deprecated Use `getFullnodeUrl` from `@mysten/sui.js/client` instead */\n  Connection,\n  /** @deprecated Use `getFullnodeUrl` from `@mysten/sui.js/client` instead */\n  devnetConnection,\n  /** @deprecated Use `getFullnodeUrl` from `@mysten/sui.js/client` instead */\n  localnetConnection,\n  /** @deprecated Use `getFullnodeUrl` from `@mysten/sui.js/client` instead */\n  mainnetConnection,\n  /** @deprecated Use `getFullnodeUrl` from `@mysten/sui.js/client` instead */\n  testnetConnection,\n} from './rpc/connection';\n\nexport {\n  /** @deprecated This will not be exported from future version of this package */\n  TypeTagSerializer,\n} from './builder/type-tag-serializer';\n\nexport {\n  /** @deprecated Use KeyPair classes from `@mysten/sui.js/keypairs/*` instead */\n  type Signer,\n} from './signers/signer';\nexport {\n  /** @deprecated Use KeyPair classes from `@mysten/sui.js/keypairs/*` instead */\n  RawSigner,\n} from './signers/raw-signer';\nexport {\n  /** @deprecated Use KeyPair classes from `@mysten/sui.js/keypairs/*` instead */\n  SignerWithProvider,\n} from './signers/signer-with-provider';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  AppId,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  type Intent,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  IntentScope,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  IntentVersion,\n  /** @deprecated Import from `@mysten/sui.js/cryptography` instead */\n  messageWithIntent,\n} from './cryptography/intent';\n\nexport {\n  /** @deprecated Use verify methods on PublicKey classes from `@mysten/sui.js/keypairs/*` instead */\n  verifyMessage,\n} from './utils/verify';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/client` instead */\n  RPCValidationError,\n} from './rpc/errors';\n\nexport {\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  fromB64,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  toB64,\n} from '@mysten/bcs';\n\nexport {\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_ADDRESS_LENGTH,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  isValidSuiAddress,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  isValidSuiObjectId,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  isValidTransactionDigest,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  normalizeStructTag,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  normalizeSuiAddress,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  normalizeSuiObjectId,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  parseStructTag,\n} from './utils/sui-types';\n\nexport {\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  formatAddress,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  formatDigest,\n} from './utils/format';\n\nexport {\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  is,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  assert,\n} from 'superstruct';\n\nexport {\n  /** @deprecated this will be removed in future versions of the SDK */\n  DEFAULT_CLIENT_OPTIONS,\n  /** @deprecated this will be removed in future versions of the SDK */\n  WebsocketClient,\n  /** @deprecated this will be removed in future versions of the SDK */\n  type WebsocketClientOptions,\n  /** @deprecated this will be removed in future versions of the SDK */\n  getWebsocketUrl,\n} from './rpc/websocket-client';\n\nexport {\n  /** @deprecated messages are now signed through the KeyPair classes */\n  type SignedMessage,\n  /**\n   * @deprecated transactions are now signed through the KeyPair classes\n   * or signed and executed directly using the SuiClient\n   */\n  type SignedTransaction,\n} from './signers/types';\n\nexport {\n  /** @deprecated Import from `@mysten/sui.js/transactions` instead */\n  builder,\n  /** @deprecated Import from `@mysten/sui.js/transactions` instead */\n  Transactions,\n  /** @deprecated Import from `@mysten/sui.js/transactions` instead */\n  Inputs,\n  /** @deprecated Import from `@mysten/sui.js/transactions` instead */\n  TransactionBlock,\n  /** @deprecated Import from `@mysten/sui.js/transactions` instead */\n  TransactionArgument,\n\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ARGUMENT,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ARGUMENT_INNER,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  BuilderCallArg,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  CALL_ARG,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  COMPRESSED_SIGNATURE,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ENUM_KIND,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  MULTISIG,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  MULTISIG_PK_MAP,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  MULTISIG_PUBLIC_KEY,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  MakeMoveVecTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  MergeCoinsTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  MoveCallTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  OBJECT_ARG,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  OPTION,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ObjectCallArg,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ObjectTransactionArgument,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  type Option,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PROGRAMMABLE_CALL,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PROGRAMMABLE_CALL_INNER,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PROGRAMMABLE_TX_BLOCK,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PUBLIC_KEY,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PublishTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PureCallArg,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PureTransactionArgument,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  SplitCoinsTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  TRANSACTION,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  TRANSACTION_INNER,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  TYPE_TAG,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  TransactionBlockInput,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  TransactionType,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  TransferObjectsTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  UpgradePolicy,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  UpgradeTransaction,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  VECTOR,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  getIdFromCallArg,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  getPureSerializationType,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  getSharedObjectInput,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  getTransactionType,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  isMutableSharedObjectInput,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  isSharedObjectInput,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  isTxContext,\n} from './builder/index';\n\nexport {\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ADD_STAKE_FUN_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ADD_STAKE_LOCKED_COIN_FUN_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  COIN_TYPE_ARG_REGEX,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  Coin,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  type CoinMetadata,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  CoinMetadataStruct,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  Delegation,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  type DelegationData,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  type DelegationSuiObject,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  ID_STRUCT_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  OBJECT_MODULE_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PAY_JOIN_COIN_FUNC_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PAY_MODULE_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  PAY_SPLIT_COIN_VEC_FUNC_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  SuiSystemStateUtil,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  UID_STRUCT_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  VALIDATORS_EVENTS_QUERY,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  WITHDRAW_STAKE_FUN_NAME,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  isObjectDataFull,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_CLOCK_OBJECT_ID,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_FRAMEWORK_ADDRESS,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_SYSTEM_ADDRESS,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_SYSTEM_MODULE_NAME,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_SYSTEM_STATE_OBJECT_ID,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_TYPE_ARG,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  MOVE_STDLIB_ADDRESS,\n} from './framework/index';\n\nexport {\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type CallArg,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type GasData,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type ObjectArg,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type PureArg,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type SharedObjectRef,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type StructTag,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type TransactionExpiration,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  type TypeTag,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  bcs,\n  /** @deprecated Import from @mysten/sui.js/bcs instead */\n  isPureArg,\n} from './bcs/index';\n\nexport {\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  MIST_PER_SUI,\n  /** @deprecated Import from @mysten/sui.js/utils instead */\n  SUI_DECIMALS,\n  /** @deprecated this will be removed in future versions of the SDK */\n  ECMHLiveObjectSetDigest,\n  /** @deprecated this will be removed in future versions of the SDK */\n  ExecutionDigests,\n  /** @deprecated this will be removed in future versions of the SDK */\n  GenericAuthoritySignature,\n  /** @deprecated this will be removed in future versions of the SDK */\n  SuiTransactionBlockKind,\n  /** @deprecated this will be removed in future versions of the SDK */\n  AuthorityQuorumSignInfo,\n  /**\n   * @deprecated This will be removed in a future of version of the SDK.\n   * If this export is needed, please report your use case here:\n   * https://github.com/MystenLabs/sui/discussions/13150\n   */\n  fromExportedKeypair,\n};\nexport * from \"./wallet-client\";\nexport * from \"./nft-client\";\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n/* eslint-disable import/no-cycle */\n\nimport { fromB64 } from '@mysten/bcs';\nimport type { SerializedSignature, SignatureScheme } from './signature';\nimport { SIGNATURE_FLAG_TO_SCHEME } from './signature';\nimport { Secp256r1PublicKey } from '../keypairs/secp256r1/publickey';\nimport { Secp256k1PublicKey } from '../keypairs/secp256k1/publickey';\nimport { Ed25519PublicKey } from '../keypairs/ed25519/publickey';\nimport { decodeMultiSig } from './multisig';\nimport type { PublicKey } from './publickey';\nimport { Ed25519Keypair } from '../keypairs/ed25519/keypair';\nimport { Secp256k1Keypair } from '../keypairs/secp256k1/keypair';\nimport type { ExportedKeypair, Keypair } from './keypair';\nimport { LEGACY_PRIVATE_KEY_SIZE, PRIVATE_KEY_SIZE } from './keypair';\n\n/**\n * Pair of signature and corresponding public key\n */\nexport type SignaturePubkeyPair = {\n  signatureScheme: SignatureScheme;\n  /** Base64-encoded signature */\n  signature: Uint8Array;\n  /** Base64-encoded public key */\n  pubKey: PublicKey;\n  weight?: number;\n};\n\n/// Expects to parse a serialized signature by its signature scheme to a list of signature\n/// and public key pairs. The list is of length 1 if it is not multisig.\nexport function toParsedSignaturePubkeyPair(\n  serializedSignature: SerializedSignature,\n): SignaturePubkeyPair[] {\n  const bytes = fromB64(serializedSignature);\n  const signatureScheme =\n    SIGNATURE_FLAG_TO_SCHEME[bytes[0] as keyof typeof SIGNATURE_FLAG_TO_SCHEME];\n\n  if (signatureScheme === 'MultiSig') {\n    try {\n      return decodeMultiSig(serializedSignature);\n    } catch (e) {\n      // Legacy format multisig do not render.\n      throw new Error('legacy multisig viewing unsupported');\n    }\n  }\n\n  const SIGNATURE_SCHEME_TO_PUBLIC_KEY = {\n    ED25519: Ed25519PublicKey,\n    Secp256k1: Secp256k1PublicKey,\n    Secp256r1: Secp256r1PublicKey,\n  };\n\n  const PublicKey = SIGNATURE_SCHEME_TO_PUBLIC_KEY[signatureScheme];\n\n  const signature = bytes.slice(1, bytes.length - PublicKey.SIZE);\n  const pubkeyBytes = bytes.slice(1 + signature.length);\n  const pubKey = new PublicKey(pubkeyBytes);\n\n  return [\n    {\n      signatureScheme,\n      signature,\n      pubKey,\n    },\n  ];\n}\n\n/// Expects to parse a single signature pubkey pair from the serialized\n/// signature. Use this only if multisig is not expected.\nexport function toSingleSignaturePubkeyPair(\n  serializedSignature: SerializedSignature,\n): SignaturePubkeyPair {\n  const res = toParsedSignaturePubkeyPair(serializedSignature);\n  if (res.length !== 1) {\n    throw Error('Expected a single signature');\n  }\n  return res[0];\n}\n\nexport function publicKeyFromSerialized(\n  schema: SignatureScheme,\n  pubKey: string,\n): PublicKey {\n  if (schema === 'ED25519') {\n    return new Ed25519PublicKey(pubKey);\n  }\n  if (schema === 'Secp256k1') {\n    return new Secp256k1PublicKey(pubKey);\n  }\n  throw new Error('Unknown public key schema');\n}\n\nexport function fromExportedKeypair(keypair: ExportedKeypair): Keypair {\n  const secretKey = fromB64(keypair.privateKey);\n  switch (keypair.schema) {\n    case 'ED25519':\n      let pureSecretKey = secretKey;\n      if (secretKey.length === LEGACY_PRIVATE_KEY_SIZE) {\n        // This is a legacy secret key, we need to strip the public key bytes and only read the first 32 bytes\n        pureSecretKey = secretKey.slice(0, PRIVATE_KEY_SIZE);\n      }\n      return Ed25519Keypair.fromSecretKey(pureSecretKey);\n    case 'Secp256k1':\n      return Secp256k1Keypair.fromSecretKey(secretKey);\n    default:\n      throw new Error(`Invalid keypair schema ${keypair.schema}`);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport type { PublicKey } from './publickey';\nimport type { MultiSigStruct } from '../multisig/publickey';\nimport { builder } from '../builder/bcs';\n\nexport type SignatureScheme =\n  | 'ED25519'\n  | 'Secp256k1'\n  | 'Secp256r1'\n  | 'MultiSig';\n\n/**\n * Pair of signature and corresponding public key\n */\nexport type SerializeSignatureInput = {\n  signatureScheme: SignatureScheme;\n  /** Base64-encoded signature */\n  signature: Uint8Array;\n  /** @deprecated use publicKey instead */\n  pubKey?: PublicKey;\n  /** Base64-encoded public key */\n  publicKey?: PublicKey;\n};\n\n/**\n * (`flag || signature || pubkey` bytes, as base-64 encoded string).\n * Signature is committed to the intent message of the transaction data, as base-64 encoded string.\n */\nexport type SerializedSignature = string;\n\nexport const SIGNATURE_SCHEME_TO_FLAG = {\n  ED25519: 0x00,\n  Secp256k1: 0x01,\n  Secp256r1: 0x02,\n  MultiSig: 0x03,\n};\n\nexport const SIGNATURE_SCHEME_TO_SIZE = {\n  ED25519: 32,\n  Secp256k1: 33,\n  Secp256r1: 33,\n};\n\nexport const SIGNATURE_FLAG_TO_SCHEME = {\n  0x00: 'ED25519',\n  0x01: 'Secp256k1',\n  0x02: 'Secp256r1',\n  0x03: 'MultiSig',\n} as const;\n\nexport type SignatureFlag = keyof typeof SIGNATURE_FLAG_TO_SCHEME;\n\nexport function toSerializedSignature({\n  signature,\n  signatureScheme,\n  pubKey,\n  publicKey = pubKey,\n}: SerializeSignatureInput): SerializedSignature {\n  if (!publicKey) {\n    throw new Error('`publicKey` is required');\n  }\n\n  const pubKeyBytes = publicKey.toBytes();\n  const serializedSignature = new Uint8Array(\n    1 + signature.length + pubKeyBytes.length,\n  );\n  serializedSignature.set([SIGNATURE_SCHEME_TO_FLAG[signatureScheme]]);\n  serializedSignature.set(signature, 1);\n  serializedSignature.set(pubKeyBytes, 1 + signature.length);\n  return toB64(serializedSignature);\n}\n\nexport function parseSerializedSignature(\n  serializedSignature: SerializedSignature,\n) {\n  const bytes = fromB64(serializedSignature);\n\n  const signatureScheme =\n    SIGNATURE_FLAG_TO_SCHEME[bytes[0] as keyof typeof SIGNATURE_FLAG_TO_SCHEME];\n\n  if (signatureScheme === 'MultiSig') {\n    const multisig: MultiSigStruct = builder.de('MultiSig', bytes.slice(1));\n    return {\n      serializedSignature,\n      signatureScheme,\n      multisig,\n      bytes,\n    };\n  }\n\n  if (!(signatureScheme in SIGNATURE_SCHEME_TO_SIZE)) {\n    throw new Error('Unsupported signature scheme');\n  }\n\n  const size =\n    SIGNATURE_SCHEME_TO_SIZE[\n      signatureScheme as keyof typeof SIGNATURE_SCHEME_TO_SIZE\n    ];\n\n  const signature = bytes.slice(1, bytes.length - size);\n  const publicKey = bytes.slice(1 + signature.length);\n\n  return {\n    serializedSignature,\n    signatureScheme,\n    signature,\n    publicKey,\n    bytes,\n  };\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { TypeName } from '@mysten/bcs';\nimport { BCS } from '@mysten/bcs';\nimport { bcs } from '../bcs/index';\nimport type { TypeTag } from '../bcs/index';\nimport { TypeTagSerializer } from './type-tag-serializer';\nimport type { TransactionArgument, MoveCallTransaction } from './Transactions';\nimport { normalizeSuiAddress } from '../utils/sui-types';\n\nexport const ARGUMENT_INNER = 'Argument';\nexport const VECTOR = 'vector';\nexport const OPTION = 'Option';\nexport const CALL_ARG = 'CallArg';\nexport const TYPE_TAG = 'TypeTag';\nexport const OBJECT_ARG = 'ObjectArg';\nexport const PROGRAMMABLE_TX_BLOCK = 'ProgrammableTransaction';\nexport const PROGRAMMABLE_CALL_INNER = 'ProgrammableMoveCall';\nexport const TRANSACTION_INNER = 'Transaction';\nexport const COMPRESSED_SIGNATURE = 'CompressedSignature';\nexport const PUBLIC_KEY = 'PublicKey';\nexport const MULTISIG_PUBLIC_KEY = 'MultiSigPublicKey';\nexport const MULTISIG_PK_MAP = 'MultiSigPkMap';\nexport const MULTISIG = 'MultiSig';\n\nexport const ENUM_KIND = 'EnumKind';\n\n/** Wrapper around transaction Enum to support `kind` matching in TS */\nexport const TRANSACTION: TypeName = [ENUM_KIND, TRANSACTION_INNER];\n/** Wrapper around Argument Enum to support `kind` matching in TS */\nexport const ARGUMENT: TypeName = [ENUM_KIND, ARGUMENT_INNER];\n\n/** Custom serializer for decoding package, module, function easier */\nexport const PROGRAMMABLE_CALL = 'SimpleProgrammableMoveCall';\n\n/** Transaction types */\n\nexport type Option<T> = { some: T } | { none: true };\n\nexport const builder = new BCS(bcs);\nregisterFixedArray(builder, 'FixedArray[64]', 64);\nregisterFixedArray(builder, 'FixedArray[33]', 33);\nregisterFixedArray(builder, 'FixedArray[32]', 32);\n\nbuilder\n\t.registerStructType(PROGRAMMABLE_TX_BLOCK, {\n\t\tinputs: [VECTOR, CALL_ARG],\n\t\ttransactions: [VECTOR, TRANSACTION],\n\t})\n\t.registerEnumType(ARGUMENT_INNER, {\n\t\tGasCoin: null,\n\t\tInput: { index: BCS.U16 },\n\t\tResult: { index: BCS.U16 },\n\t\tNestedResult: { index: BCS.U16, resultIndex: BCS.U16 },\n\t})\n\t.registerStructType(PROGRAMMABLE_CALL_INNER, {\n\t\tpackage: BCS.ADDRESS,\n\t\tmodule: BCS.STRING,\n\t\tfunction: BCS.STRING,\n\t\ttype_arguments: [VECTOR, TYPE_TAG],\n\t\targuments: [VECTOR, ARGUMENT],\n\t})\n\t// Keep this in sync with crates/sui-types/src/messages.rs\n\t.registerEnumType(TRANSACTION_INNER, {\n\t\t/**\n\t\t * A Move Call - any public Move function can be called via\n\t\t * this transaction. The results can be used that instant to pass\n\t\t * into the next transaction.\n\t\t */\n\t\tMoveCall: PROGRAMMABLE_CALL,\n\t\t/**\n\t\t * Transfer vector of objects to a receiver.\n\t\t */\n\t\tTransferObjects: {\n\t\t\tobjects: [VECTOR, ARGUMENT],\n\t\t\taddress: ARGUMENT,\n\t\t},\n\t\t/**\n\t\t * Split `amount` from a `coin`.\n\t\t */\n\t\tSplitCoins: { coin: ARGUMENT, amounts: [VECTOR, ARGUMENT] },\n\t\t/**\n\t\t * Merge Vector of Coins (`sources`) into a `destination`.\n\t\t */\n\t\tMergeCoins: { destination: ARGUMENT, sources: [VECTOR, ARGUMENT] },\n\t\t/**\n\t\t * Publish a Move module.\n\t\t */\n\t\tPublish: {\n\t\t\tmodules: [VECTOR, [VECTOR, BCS.U8]],\n\t\t\tdependencies: [VECTOR, BCS.ADDRESS],\n\t\t},\n\t\t/**\n\t\t * Build a vector of objects using the input arguments.\n\t\t * It is impossible to construct a `vector<T: key>` otherwise,\n\t\t * so this call serves a utility function.\n\t\t */\n\t\tMakeMoveVec: {\n\t\t\ttype: [OPTION, TYPE_TAG],\n\t\t\tobjects: [VECTOR, ARGUMENT],\n\t\t},\n\t\t/**  */\n\t\tUpgrade: {\n\t\t\tmodules: [VECTOR, [VECTOR, BCS.U8]],\n\t\t\tdependencies: [VECTOR, BCS.ADDRESS],\n\t\t\tpackageId: BCS.ADDRESS,\n\t\t\tticket: ARGUMENT,\n\t\t},\n\t})\n\t.registerEnumType(COMPRESSED_SIGNATURE, {\n\t\tED25519: ['FixedArray[64]', 'u8'],\n\t\tSecp256k1: ['FixedArray[64]', 'u8'],\n\t\tSecp256r1: ['FixedArray[64]', 'u8'],\n\t})\n\t.registerEnumType(PUBLIC_KEY, {\n\t\tED25519: ['FixedArray[32]', 'u8'],\n\t\tSecp256k1: ['FixedArray[33]', 'u8'],\n\t\tSecp256r1: ['FixedArray[33]', 'u8'],\n\t})\n\t.registerStructType(MULTISIG_PK_MAP, {\n\t\tpubKey: PUBLIC_KEY,\n\t\tweight: BCS.U8,\n\t})\n\t.registerStructType(MULTISIG_PUBLIC_KEY, {\n\t\tpk_map: [VECTOR, MULTISIG_PK_MAP],\n\t\tthreshold: BCS.U16,\n\t})\n\t.registerStructType(MULTISIG, {\n\t\tsigs: [VECTOR, COMPRESSED_SIGNATURE],\n\t\tbitmap: BCS.U16,\n\t\tmultisig_pk: MULTISIG_PUBLIC_KEY,\n\t});\n/**\n * Utilities for better decoding.\n */\n\ntype ProgrammableCallInner = {\n\tpackage: string;\n\tmodule: string;\n\tfunction: string;\n\ttype_arguments: TypeTag[];\n\targuments: TransactionArgument[];\n};\n\n/**\n * Wrapper around Enum, which transforms any `T` into an object with `kind` property:\n * @example\n * ```\n * let bcsEnum = { TransferObjects: { objects: [], address: ... } }\n * // becomes\n * let translatedEnum = { kind: 'TransferObjects', objects: [], address: ... };\n * ```\n */\nbuilder.registerType(\n\t[ENUM_KIND, 'T'],\n\tfunction encode(this: BCS, writer, data: { kind: string }, typeParams, typeMap) {\n\t\tconst kind = data.kind;\n\t\tconst invariant = { [kind]: data };\n\t\tconst [enumType] = typeParams;\n\n\t\treturn this.getTypeInterface(enumType as string)._encodeRaw.call(\n\t\t\tthis,\n\t\t\twriter,\n\t\t\tinvariant,\n\t\t\ttypeParams,\n\t\t\ttypeMap,\n\t\t);\n\t},\n\tfunction decode(this: BCS, reader, typeParams, typeMap) {\n\t\tconst [enumType] = typeParams;\n\t\tconst data = this.getTypeInterface(enumType as string)._decodeRaw.call(\n\t\t\tthis,\n\t\t\treader,\n\t\t\ttypeParams,\n\t\t\ttypeMap,\n\t\t);\n\n\t\t// enum invariant can only have one `key` field\n\t\tconst kind = Object.keys(data)[0];\n\t\treturn { kind, ...data[kind] };\n\t},\n\t(data: { kind: string }) => {\n\t\tif (typeof data !== 'object' && !('kind' in data)) {\n\t\t\tthrow new Error(`EnumKind: Missing property \"kind\" in the input ${JSON.stringify(data)}`);\n\t\t}\n\n\t\treturn true;\n\t},\n);\n\n/**\n * Custom deserializer for the ProgrammableCall.\n *\n * Hides the inner structure and gives a simpler, more convenient\n * interface to encode and decode this struct as a part of `TransactionData`.\n *\n * - `(package)::(module)::(function)` are now `target` property.\n * - `TypeTag[]` array is now passed as strings, not as a struct.\n */\nbuilder.registerType(\n\tPROGRAMMABLE_CALL,\n\tfunction encodeProgrammableTx(this: BCS, writer, data: MoveCallTransaction, typeParams, typeMap) {\n\t\tconst [pkg, module, fun] = data.target.split('::');\n\t\tconst type_arguments = data.typeArguments.map((tag) =>\n\t\t\tTypeTagSerializer.parseFromStr(tag, true),\n\t\t);\n\n\t\treturn this.getTypeInterface(PROGRAMMABLE_CALL_INNER)._encodeRaw.call(\n\t\t\tthis,\n\t\t\twriter,\n\t\t\t{\n\t\t\t\tpackage: normalizeSuiAddress(pkg),\n\t\t\t\tmodule,\n\t\t\t\tfunction: fun,\n\t\t\t\ttype_arguments,\n\t\t\t\targuments: data.arguments,\n\t\t\t} as ProgrammableCallInner,\n\t\t\ttypeParams,\n\t\t\ttypeMap,\n\t\t);\n\t},\n\tfunction decodeProgrammableTx(this: BCS, reader, typeParams, typeMap) {\n\t\tlet data: ProgrammableCallInner = builder\n\t\t\t.getTypeInterface(PROGRAMMABLE_CALL_INNER)\n\t\t\t._decodeRaw.call(this, reader, typeParams, typeMap);\n\n\t\treturn {\n\t\t\ttarget: [data.package, data.module, data.function].join('::'),\n\t\t\targuments: data.arguments,\n\t\t\ttypeArguments: data.type_arguments.map(TypeTagSerializer.tagToString),\n\t\t};\n\t},\n\t// Validation callback to error out if the data format is invalid.\n\t// TODO: make sure TypeTag can be parsed.\n\t(data: MoveCallTransaction) => {\n\t\treturn data.target.split('::').length === 3;\n\t},\n);\n\nfunction registerFixedArray(bcs: BCS, name: string, length: number) {\n\tbcs.registerType(\n\t\tname,\n\t\tfunction encode(this: BCS, writer, data, typeParams, typeMap) {\n\t\t\tif (data.length !== length) {\n\t\t\t\tthrow new Error(`Expected fixed array of length ${length}, got ${data.length}`);\n\t\t\t}\n\n\t\t\tif (typeParams.length !== 1) {\n\t\t\t\tthrow new Error(`Expected one type parameter in a fixed array, got ${typeParams.length}`);\n\t\t\t}\n\n\t\t\tlet [type] = typeof typeParams[0] === 'string' ? [typeParams[0], []] : typeParams[0];\n\n\t\t\tfor (let piece of data) {\n\t\t\t\tthis.getTypeInterface(type)._encodeRaw.call(this, writer, piece, typeParams, typeMap);\n\t\t\t}\n\n\t\t\treturn writer;\n\t\t},\n\t\tfunction decode(this: BCS, reader, typeParams, typeMap) {\n\t\t\tif (typeParams.length !== 1) {\n\t\t\t\tthrow new Error(`Expected one type parameter in a fixed array, got ${typeParams.length}`);\n\t\t\t}\n\n\t\t\tlet result: any = [];\n\t\t\tlet [type] = typeof typeParams[0] === 'string' ? [typeParams[0], []] : typeParams[0];\n\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tresult.push(this.getTypeInterface(type)._decodeRaw.call(this, reader, typeParams, typeMap));\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t);\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { EnumTypeDefinition, StructTypeDefinition } from '@mysten/bcs';\nimport { BCS, getSuiMoveConfig } from '@mysten/bcs';\nimport type { SuiObjectRef } from '../types/objects';\n\n/**\n * A reference to a shared object.\n */\nexport type SharedObjectRef = {\n\t/** Hex code as string representing the object id */\n\tobjectId: string;\n\n\t/** The version the object was shared at */\n\tinitialSharedVersion: number | string;\n\n\t/** Whether reference is mutable */\n\tmutable: boolean;\n};\n\n/**\n * An object argument.\n */\nexport type ObjectArg = { ImmOrOwned: SuiObjectRef } | { Shared: SharedObjectRef };\n\n/**\n * A pure argument.\n */\nexport type PureArg = { Pure: ArrayLike<number> };\n\nexport function isPureArg(arg: any): arg is PureArg {\n\treturn (arg as PureArg).Pure !== undefined;\n}\n\n/**\n * An argument for the transaction. It is a 'meant' enum which expects to have\n * one of the optional properties. If not, the BCS error will be thrown while\n * attempting to form a transaction.\n *\n * Example:\n * ```js\n * let arg1: CallArg = { Object: { Shared: {\n *   objectId: '5460cf92b5e3e7067aaace60d88324095fd22944',\n *   initialSharedVersion: 1,\n *   mutable: true,\n * } } };\n * let arg2: CallArg = { Pure: bcs.ser(BCS.STRING, 100000).toBytes() };\n * let arg3: CallArg = { Object: { ImmOrOwned: {\n *   objectId: '4047d2e25211d87922b6650233bd0503a6734279',\n *   version: 1,\n *   digest: 'bCiANCht4O9MEUhuYjdRCqRPZjr2rJ8MfqNiwyhmRgA='\n * } } };\n * ```\n *\n * For `Pure` arguments BCS is required. You must encode the values with BCS according\n * to the type required by the called function. Pure accepts only serialized values\n */\nexport type CallArg = PureArg | { Object: ObjectArg };\n\n/**\n * Kind of a TypeTag which is represented by a Move type identifier.\n */\nexport type StructTag = {\n\taddress: string;\n\tmodule: string;\n\tname: string;\n\ttypeParams: TypeTag[];\n};\n\n/**\n * Sui TypeTag object. A decoupled `0x...::module::Type<???>` parameter.\n */\nexport type TypeTag =\n\t| { bool: null }\n\t| { u8: null }\n\t| { u64: null }\n\t| { u128: null }\n\t| { address: null }\n\t| { signer: null }\n\t| { vector: TypeTag }\n\t| { struct: StructTag }\n\t| { u16: null }\n\t| { u32: null }\n\t| { u256: null };\n\n// ========== TransactionData ===========\n\n/**\n * The GasData to be used in the transaction.\n */\nexport type GasData = {\n\tpayment: SuiObjectRef[];\n\towner: string; // Gas Object's owner\n\tprice: number;\n\tbudget: number;\n};\n\n/**\n * TransactionExpiration\n *\n * Indications the expiration time for a transaction.\n */\nexport type TransactionExpiration = { None: null } | { Epoch: number };\n\n// Move name of the Vector type.\nconst VECTOR = 'vector';\n\n// Imported to explicitly tell typescript that types match\ntype TypeSchema = {\n\tstructs?: { [key: string]: StructTypeDefinition };\n\tenums?: { [key: string]: EnumTypeDefinition };\n\taliases?: { [key: string]: string };\n};\n\nconst TransactionDataV1 = {\n\tkind: 'TransactionKind',\n\tsender: BCS.ADDRESS,\n\tgasData: 'GasData',\n\texpiration: 'TransactionExpiration',\n};\n\nconst BCS_SPEC: TypeSchema = {\n\tenums: {\n\t\t'Option<T>': {\n\t\t\tNone: null,\n\t\t\tSome: 'T',\n\t\t},\n\t\tObjectArg: {\n\t\t\tImmOrOwned: 'SuiObjectRef',\n\t\t\tShared: 'SharedObjectRef',\n\t\t},\n\t\tCallArg: {\n\t\t\tPure: [VECTOR, BCS.U8],\n\t\t\tObject: 'ObjectArg',\n\t\t\tObjVec: [VECTOR, 'ObjectArg'],\n\t\t},\n\t\tTypeTag: {\n\t\t\tbool: null,\n\t\t\tu8: null,\n\t\t\tu64: null,\n\t\t\tu128: null,\n\t\t\taddress: null,\n\t\t\tsigner: null,\n\t\t\tvector: 'TypeTag',\n\t\t\tstruct: 'StructTag',\n\t\t\tu16: null,\n\t\t\tu32: null,\n\t\t\tu256: null,\n\t\t},\n\t\tTransactionKind: {\n\t\t\t// can not be called from sui.js; dummy placement\n\t\t\t// to set the enum counter right for ProgrammableTransact\n\t\t\tProgrammableTransaction: 'ProgrammableTransaction',\n\t\t\tChangeEpoch: null,\n\t\t\tGenesis: null,\n\t\t\tConsensusCommitPrologue: null,\n\t\t},\n\t\tTransactionExpiration: {\n\t\t\tNone: null,\n\t\t\tEpoch: 'unsafe_u64',\n\t\t},\n\t\tTransactionData: {\n\t\t\tV1: 'TransactionDataV1',\n\t\t},\n\t},\n\tstructs: {\n\t\tSuiObjectRef: {\n\t\t\tobjectId: BCS.ADDRESS,\n\t\t\tversion: BCS.U64,\n\t\t\tdigest: 'ObjectDigest',\n\t\t},\n\t\tSharedObjectRef: {\n\t\t\tobjectId: BCS.ADDRESS,\n\t\t\tinitialSharedVersion: BCS.U64,\n\t\t\tmutable: BCS.BOOL,\n\t\t},\n\t\tStructTag: {\n\t\t\taddress: BCS.ADDRESS,\n\t\t\tmodule: BCS.STRING,\n\t\t\tname: BCS.STRING,\n\t\t\ttypeParams: [VECTOR, 'TypeTag'],\n\t\t},\n\t\tGasData: {\n\t\t\tpayment: [VECTOR, 'SuiObjectRef'],\n\t\t\towner: BCS.ADDRESS,\n\t\t\tprice: BCS.U64,\n\t\t\tbudget: BCS.U64,\n\t\t},\n\t\t// Signed transaction data needed to generate transaction digest.\n\t\tSenderSignedData: {\n\t\t\tdata: 'TransactionData',\n\t\t\ttxSignatures: [VECTOR, [VECTOR, BCS.U8]],\n\t\t},\n\t\tTransactionDataV1,\n\t},\n\taliases: {\n\t\tObjectDigest: BCS.BASE58,\n\t},\n};\n\nconst bcs = new BCS({ ...getSuiMoveConfig(), types: BCS_SPEC });\n\nbcs.registerType(\n\t'utf8string',\n\t(writer, str) => {\n\t\tconst bytes = Array.from(new TextEncoder().encode(str));\n\t\treturn writer.writeVec(bytes, (writer, el) => writer.write8(el));\n\t},\n\t(reader) => {\n\t\tlet bytes = reader.readVec((reader) => reader.read8());\n\t\treturn new TextDecoder().decode(new Uint8Array(bytes));\n\t},\n);\n\nbcs.registerType(\n\t'unsafe_u64',\n\t(writer, data) => writer.write64(data),\n\t(reader) => Number.parseInt(reader.read64(), 10),\n);\n\nexport { bcs };\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { splitGenericParameters } from '@mysten/bcs';\nimport type { TypeTag } from '../bcs/index';\nimport { normalizeSuiAddress } from '../utils/sui-types';\n\nconst VECTOR_REGEX = /^vector<(.+)>$/;\nconst STRUCT_REGEX = /^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;\n\nexport class TypeTagSerializer {\n\tstatic parseFromStr(str: string, normalizeAddress = false): TypeTag {\n\t\tif (str === 'address') {\n\t\t\treturn { address: null };\n\t\t} else if (str === 'bool') {\n\t\t\treturn { bool: null };\n\t\t} else if (str === 'u8') {\n\t\t\treturn { u8: null };\n\t\t} else if (str === 'u16') {\n\t\t\treturn { u16: null };\n\t\t} else if (str === 'u32') {\n\t\t\treturn { u32: null };\n\t\t} else if (str === 'u64') {\n\t\t\treturn { u64: null };\n\t\t} else if (str === 'u128') {\n\t\t\treturn { u128: null };\n\t\t} else if (str === 'u256') {\n\t\t\treturn { u256: null };\n\t\t} else if (str === 'signer') {\n\t\t\treturn { signer: null };\n\t\t}\n\t\tconst vectorMatch = str.match(VECTOR_REGEX);\n\t\tif (vectorMatch) {\n\t\t\treturn {\n\t\t\t\tvector: TypeTagSerializer.parseFromStr(vectorMatch[1], normalizeAddress),\n\t\t\t};\n\t\t}\n\n\t\tconst structMatch = str.match(STRUCT_REGEX);\n\t\tif (structMatch) {\n\t\t\tconst address = normalizeAddress ? normalizeSuiAddress(structMatch[1]) : structMatch[1];\n\t\t\treturn {\n\t\t\t\tstruct: {\n\t\t\t\t\taddress,\n\t\t\t\t\tmodule: structMatch[2],\n\t\t\t\t\tname: structMatch[3],\n\t\t\t\t\ttypeParams:\n\t\t\t\t\t\tstructMatch[5] === undefined\n\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t: TypeTagSerializer.parseStructTypeArgs(structMatch[5], normalizeAddress),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tthrow new Error(`Encountered unexpected token when parsing type args for ${str}`);\n\t}\n\n\tstatic parseStructTypeArgs(str: string, normalizeAddress = false): TypeTag[] {\n\t\treturn splitGenericParameters(str).map((tok) =>\n\t\t\tTypeTagSerializer.parseFromStr(tok, normalizeAddress),\n\t\t);\n\t}\n\n\tstatic tagToString(tag: TypeTag): string {\n\t\tif ('bool' in tag) {\n\t\t\treturn 'bool';\n\t\t}\n\t\tif ('u8' in tag) {\n\t\t\treturn 'u8';\n\t\t}\n\t\tif ('u16' in tag) {\n\t\t\treturn 'u16';\n\t\t}\n\t\tif ('u32' in tag) {\n\t\t\treturn 'u32';\n\t\t}\n\t\tif ('u64' in tag) {\n\t\t\treturn 'u64';\n\t\t}\n\t\tif ('u128' in tag) {\n\t\t\treturn 'u128';\n\t\t}\n\t\tif ('u256' in tag) {\n\t\t\treturn 'u256';\n\t\t}\n\t\tif ('address' in tag) {\n\t\t\treturn 'address';\n\t\t}\n\t\tif ('signer' in tag) {\n\t\t\treturn 'signer';\n\t\t}\n\t\tif ('vector' in tag) {\n\t\t\treturn `vector<${TypeTagSerializer.tagToString(tag.vector)}>`;\n\t\t}\n\t\tif ('struct' in tag) {\n\t\t\tconst struct = tag.struct;\n\t\t\tconst typeParams = struct.typeParams.map(TypeTagSerializer.tagToString).join(', ');\n\t\t\treturn `${struct.address}::${struct.module}::${struct.name}${\n\t\t\t\ttypeParams ? `<${typeParams}>` : ''\n\t\t\t}`;\n\t\t}\n\t\tthrow new Error('Invalid TypeTag');\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB58, splitGenericParameters } from '@mysten/bcs';\n\nconst TX_DIGEST_LENGTH = 32;\n\n/** Returns whether the tx digest is valid based on the serialization format */\nexport function isValidTransactionDigest(value: string): value is string {\n  try {\n    const buffer = fromB58(value);\n    return buffer.length === TX_DIGEST_LENGTH;\n  } catch (e) {\n    return false;\n  }\n}\n\n// TODO - can we automatically sync this with rust length definition?\n// Source of truth is\n// https://github.com/MystenLabs/sui/blob/acb2b97ae21f47600e05b0d28127d88d0725561d/crates/sui-types/src/base_types.rs#L67\n// which uses the Move account address length\n// https://github.com/move-language/move/blob/67ec40dc50c66c34fd73512fcc412f3b68d67235/language/move-core/types/src/account_address.rs#L23 .\n\nexport const SUI_ADDRESS_LENGTH = 32;\nexport function isValidSuiAddress(value: string): value is string {\n  return isHex(value) && getHexByteLength(value) === SUI_ADDRESS_LENGTH;\n}\n\nexport function isValidSuiObjectId(value: string): boolean {\n  return isValidSuiAddress(value);\n}\n\ntype StructTag = {\n  address: string;\n  module: string;\n  name: string;\n  typeParams: (string | StructTag)[];\n};\n\nfunction parseTypeTag(type: string): string | StructTag {\n  if (!type.includes('::')) return type;\n\n  return parseStructTag(type);\n}\n\nexport function parseStructTag(type: string): StructTag {\n  const [address, module] = type.split('::');\n\n  const rest = type.slice(address.length + module.length + 4);\n  const name = rest.includes('<') ? rest.slice(0, rest.indexOf('<')) : rest;\n  const typeParams = rest.includes('<')\n    ? splitGenericParameters(\n        rest.slice(rest.indexOf('<') + 1, rest.lastIndexOf('>')),\n      ).map((typeParam) => parseTypeTag(typeParam.trim()))\n    : [];\n\n  return {\n    address: normalizeSuiAddress(address),\n    module,\n    name,\n    typeParams,\n  };\n}\n\nexport function normalizeStructTag(type: string | StructTag): string {\n  const { address, module, name, typeParams } =\n    typeof type === 'string' ? parseStructTag(type) : type;\n\n  const formattedTypeParams =\n    typeParams.length > 0\n      ? `<${typeParams\n          .map((typeParam) =>\n            typeof typeParam === 'string'\n              ? typeParam\n              : normalizeStructTag(typeParam),\n          )\n          .join(',')}>`\n      : '';\n\n  return `${address}::${module}::${name}${formattedTypeParams}`;\n}\n\n/**\n * Perform the following operations:\n * 1. Make the address lower case\n * 2. Prepend `0x` if the string does not start with `0x`.\n * 3. Add more zeros if the length of the address(excluding `0x`) is less than `SUI_ADDRESS_LENGTH`\n *\n * WARNING: if the address value itself starts with `0x`, e.g., `0x0x`, the default behavior\n * is to treat the first `0x` not as part of the address. The default behavior can be overridden by\n * setting `forceAdd0x` to true\n *\n */\nexport function normalizeSuiAddress(\n  value: string,\n  forceAdd0x: boolean = false,\n): string {\n  let address = value.toLowerCase();\n  if (!forceAdd0x && address.startsWith('0x')) {\n    address = address.slice(2);\n  }\n  return `0x${address.padStart(SUI_ADDRESS_LENGTH * 2, '0')}`;\n}\n\nexport function normalizeSuiObjectId(\n  value: string,\n  forceAdd0x: boolean = false,\n): string {\n  return normalizeSuiAddress(value, forceAdd0x);\n}\n\nfunction isHex(value: string): boolean {\n  return /^(0x|0X)?[a-fA-F0-9]+$/.test(value) && value.length % 2 === 0;\n}\n\nfunction getHexByteLength(value: string): number {\n  return /^(0x|0X)/.test(value) ? (value.length - 2) / 2 : value.length / 2;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport { PublicKey, bytesEqual } from '../../cryptography/publickey';\nimport type { PublicKeyInitData } from '../../cryptography/publickey';\nimport type { SerializedSignature } from '../../cryptography/signature';\nimport {\n  SIGNATURE_SCHEME_TO_FLAG,\n  parseSerializedSignature,\n} from '../../cryptography/signature';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { secp256r1 } from '@noble/curves/p256';\n\nconst SECP256R1_PUBLIC_KEY_SIZE = 33;\n\n/**\n * A Secp256r1 public key\n */\nexport class Secp256r1PublicKey extends PublicKey {\n  static SIZE = SECP256R1_PUBLIC_KEY_SIZE;\n  private data: Uint8Array;\n\n  /**\n   * Create a new Secp256r1PublicKey object\n   * @param value secp256r1 public key as buffer or base-64 encoded string\n   */\n  constructor(value: PublicKeyInitData) {\n    super();\n\n    if (typeof value === 'string') {\n      this.data = fromB64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n\n    if (this.data.length !== SECP256R1_PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${SECP256R1_PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n      );\n    }\n  }\n\n  /**\n   * Checks if two Secp256r1 public keys are equal\n   */\n  override equals(publicKey: Secp256r1PublicKey): boolean {\n    return super.equals(publicKey);\n  }\n\n  /**\n   * Return the byte array representation of the Secp256r1 public key\n   */\n  toRawBytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Return the Sui address associated with this Secp256r1 public key\n   */\n  flag(): number {\n    return SIGNATURE_SCHEME_TO_FLAG['Secp256r1'];\n  }\n\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  async verify(\n    message: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n  ): Promise<boolean> {\n    let bytes;\n    if (typeof signature === 'string') {\n      const parsed = parseSerializedSignature(signature);\n      if (parsed.signatureScheme !== 'Secp256r1') {\n        throw new Error('Invalid signature scheme');\n      }\n\n      if (!bytesEqual(this.toRawBytes(), parsed.publicKey)) {\n        throw new Error('Signature does not match public key');\n      }\n\n      bytes = parsed.signature;\n    } else {\n      bytes = signature;\n    }\n\n    return secp256r1.verify(\n      secp256r1.Signature.fromCompact(bytes),\n      sha256(message),\n      this.toRawBytes(),\n    );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toB64 } from '@mysten/bcs';\nimport { IntentScope, messageWithIntent } from './intent';\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { bcs } from '../bcs/index';\nimport type { SerializedSignature } from './index';\nimport { SUI_ADDRESS_LENGTH, normalizeSuiAddress } from '../utils/sui-types';\nimport { bytesToHex } from '@noble/hashes/utils';\n\n/**\n * Value to be converted into public key.\n */\nexport type PublicKeyInitData = string | Uint8Array | Iterable<number>;\n\nexport function bytesEqual(a: Uint8Array, b: Uint8Array) {\n  if (a === b) return true;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * A public key\n */\nexport abstract class PublicKey {\n  /**\n   * Checks if two public keys are equal\n   */\n  equals(publicKey: PublicKey) {\n    return bytesEqual(this.toRawBytes(), publicKey.toRawBytes());\n  }\n\n  /**\n   * Return the base-64 representation of the public key\n   */\n  toBase64() {\n    return toB64(this.toRawBytes());\n  }\n\n  /**\n   * @deprecated use toBase64 instead.\n   *\n   * Return the base-64 representation of the public key\n   */\n  toString() {\n    return this.toBase64();\n  }\n\n  /**\n   * Return the Sui representation of the public key encoded in\n   * base-64. A Sui public key is formed by the concatenation\n   * of the scheme flag with the raw bytes of the public key\n   */\n  toSuiPublicKey(): string {\n    const bytes = this.toSuiBytes();\n    return toB64(bytes);\n  }\n\n  verifyWithIntent(\n    bytes: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n    intent: IntentScope,\n  ): Promise<boolean> {\n    const intentMessage = messageWithIntent(intent, bytes);\n    const digest = blake2b(intentMessage, { dkLen: 32 });\n\n    return this.verify(digest, signature);\n  }\n\n  /**\n   * Verifies that the signature is valid for for the provided PersonalMessage\n   */\n  verifyPersonalMessage(\n    message: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n  ): Promise<boolean> {\n    return this.verifyWithIntent(\n      bcs.ser(['vector', 'u8'], message).toBytes(),\n      signature,\n      IntentScope.PersonalMessage,\n    );\n  }\n\n  /**\n   * Verifies that the signature is valid for for the provided TransactionBlock\n   */\n  verifyTransactionBlock(\n    transactionBlock: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n  ): Promise<boolean> {\n    return this.verifyWithIntent(\n      transactionBlock,\n      signature,\n      IntentScope.TransactionData,\n    );\n  }\n\n  /**\n   * Returns the bytes representation of the public key\n   * prefixed with the signature scheme flag\n   */\n  toSuiBytes(): Uint8Array {\n    const rawBytes = this.toRawBytes();\n    const suiBytes = new Uint8Array(rawBytes.length + 1);\n    suiBytes.set([this.flag()]);\n    suiBytes.set(rawBytes, 1);\n\n    return suiBytes;\n  }\n\n  /**\n   * @deprecated use `toRawBytes` instead.\n   */\n  toBytes() {\n    return this.toRawBytes();\n  }\n\n  /**\n   * Return the Sui address associated with this Ed25519 public key\n   */\n  toSuiAddress(): string {\n    // Each hex char represents half a byte, hence hex address doubles the length\n    return normalizeSuiAddress(\n      bytesToHex(blake2b(this.toSuiBytes(), { dkLen: 32 })).slice(\n        0,\n        SUI_ADDRESS_LENGTH * 2,\n      ),\n    );\n  }\n\n  /**\n   * Return the byte array representation of the public key\n   */\n  abstract toRawBytes(): Uint8Array;\n\n  /**\n   * Return signature scheme flag of the public key\n   */\n  abstract flag(): number;\n\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  abstract verify(\n    data: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n  ): Promise<boolean>;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// See: sui/crates/sui-types/src/intent.rs\nexport enum AppId {\n\tSui = 0,\n}\n\nexport enum IntentVersion {\n\tV0 = 0,\n}\n\nexport enum IntentScope {\n\tTransactionData = 0,\n\tTransactionEffects = 1,\n\tCheckpointSummary = 2,\n\tPersonalMessage = 3,\n}\n\nexport type Intent = [IntentScope, IntentVersion, AppId];\n\nfunction intentWithScope(scope: IntentScope): Intent {\n\treturn [scope, IntentVersion.V0, AppId.Sui];\n}\n\nexport function messageWithIntent(scope: IntentScope, message: Uint8Array) {\n\tconst intent = intentWithScope(scope);\n\tconst intentMessage = new Uint8Array(intent.length + message.length);\n\tintentMessage.set(intent);\n\tintentMessage.set(message, intent.length);\n\treturn intentMessage;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport { PublicKey, bytesEqual } from '../../cryptography/publickey';\nimport type { PublicKeyInitData } from '../../cryptography/publickey';\nimport type { SerializedSignature } from '../../cryptography/signature';\nimport {\n  SIGNATURE_SCHEME_TO_FLAG,\n  parseSerializedSignature,\n} from '../../cryptography/signature';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { sha256 } from '@noble/hashes/sha256';\n\nconst SECP256K1_PUBLIC_KEY_SIZE = 33;\n\n/**\n * A Secp256k1 public key\n */\nexport class Secp256k1PublicKey extends PublicKey {\n  static SIZE = SECP256K1_PUBLIC_KEY_SIZE;\n  private data: Uint8Array;\n\n  /**\n   * Create a new Secp256k1PublicKey object\n   * @param value secp256k1 public key as buffer or base-64 encoded string\n   */\n  constructor(value: PublicKeyInitData) {\n    super();\n\n    if (typeof value === 'string') {\n      this.data = fromB64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n\n    if (this.data.length !== SECP256K1_PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${SECP256K1_PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n      );\n    }\n  }\n\n  /**\n   * Checks if two Secp256k1 public keys are equal\n   */\n  override equals(publicKey: Secp256k1PublicKey): boolean {\n    return super.equals(publicKey);\n  }\n\n  /**\n   * Return the byte array representation of the Secp256k1 public key\n   */\n  toRawBytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Return the Sui address associated with this Secp256k1 public key\n   */\n  flag(): number {\n    return SIGNATURE_SCHEME_TO_FLAG['Secp256k1'];\n  }\n\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  async verify(\n    message: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n  ): Promise<boolean> {\n    let bytes;\n    if (typeof signature === 'string') {\n      const parsed = parseSerializedSignature(signature);\n      if (parsed.signatureScheme !== 'Secp256k1') {\n        throw new Error('Invalid signature scheme');\n      }\n\n      if (!bytesEqual(this.toRawBytes(), parsed.publicKey)) {\n        throw new Error('Signature does not match public key');\n      }\n\n      bytes = parsed.signature;\n    } else {\n      bytes = signature;\n    }\n\n    return secp256k1.verify(\n      secp256k1.Signature.fromCompact(bytes),\n      sha256(message),\n      this.toRawBytes(),\n    );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport type { PublicKeyInitData } from '../../cryptography/publickey';\nimport { PublicKey, bytesEqual } from '../../cryptography/publickey';\nimport type { SerializedSignature } from '../../cryptography/signature';\nimport {\n  SIGNATURE_SCHEME_TO_FLAG,\n  parseSerializedSignature,\n} from '../../cryptography/signature';\nimport nacl from 'tweetnacl';\n\nconst PUBLIC_KEY_SIZE = 32;\n\n/**\n * An Ed25519 public key\n */\nexport class Ed25519PublicKey extends PublicKey {\n  static SIZE = PUBLIC_KEY_SIZE;\n  private data: Uint8Array;\n\n  /**\n   * Create a new Ed25519PublicKey object\n   * @param value ed25519 public key as buffer or base-64 encoded string\n   */\n  constructor(value: PublicKeyInitData) {\n    super();\n\n    if (typeof value === 'string') {\n      this.data = fromB64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n\n    if (this.data.length !== PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n      );\n    }\n  }\n\n  /**\n   * Checks if two Ed25519 public keys are equal\n   */\n  override equals(publicKey: Ed25519PublicKey): boolean {\n    return super.equals(publicKey);\n  }\n\n  /**\n   * Return the byte array representation of the Ed25519 public key\n   */\n  toRawBytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Return the Sui address associated with this Ed25519 public key\n   */\n  flag(): number {\n    return SIGNATURE_SCHEME_TO_FLAG['ED25519'];\n  }\n\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  async verify(\n    message: Uint8Array,\n    signature: Uint8Array | SerializedSignature,\n  ): Promise<boolean> {\n    let bytes;\n    if (typeof signature === 'string') {\n      const parsed = parseSerializedSignature(signature);\n      if (parsed.signatureScheme !== 'ED25519') {\n        throw new Error('Invalid signature scheme');\n      }\n\n      if (!bytesEqual(this.toRawBytes(), parsed.publicKey)) {\n        throw new Error('Signature does not match public key');\n      }\n\n      bytes = parsed.signature;\n    } else {\n      bytes = signature;\n    }\n\n    return nacl.sign.detached.verify(message, bytes, this.toRawBytes());\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport type { SerializedSignature, SignatureScheme } from './signature';\nimport { SIGNATURE_SCHEME_TO_FLAG } from './signature';\nimport type { SignaturePubkeyPair } from './utils';\n// eslint-disable-next-line import/no-cycle\nimport { toSingleSignaturePubkeyPair } from './utils';\nimport type { PublicKey } from './publickey';\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { bytesToHex } from '@noble/hashes/utils';\n\nimport { Ed25519PublicKey } from '../keypairs/ed25519/publickey';\nimport { Secp256k1PublicKey } from '../keypairs/secp256k1/publickey';\nimport { Secp256r1PublicKey } from '../keypairs/secp256r1/publickey';\nimport { builder } from '../builder/bcs';\nimport { normalizeSuiAddress } from '../utils/sui-types';\n\nexport type PubkeyWeightPair = {\n  pubKey: PublicKey;\n  weight: number;\n};\n\nexport type CompressedSignature =\n  | { ED25519: number[] }\n  | { Secp256k1: number[] }\n  | { Secp256r1: number[] };\n\nexport type PublicKeyEnum =\n  | { ED25519: number[] }\n  | { Secp256k1: number[] }\n  | { Secp256r1: number[] };\n\nexport type PubkeyEnumWeightPair = {\n  pubKey: PublicKeyEnum;\n  weight: number;\n};\n\nexport type MultiSigPublicKey = {\n  pk_map: PubkeyEnumWeightPair[];\n  threshold: number;\n};\n\nexport type MultiSig = {\n  sigs: CompressedSignature[];\n  bitmap: number;\n  multisig_pk: MultiSigPublicKey;\n};\n\nexport const MAX_SIGNER_IN_MULTISIG = 10;\n\n/// Derives a multisig address from a list of pk and weights and threshold.\n// It is the 32-byte Blake2b hash of the serializd bytes of `flag_MultiSig || threshold || flag_1 || pk_1 || weight_1\n/// || ... || flag_n || pk_n || weight_n`\nexport function toMultiSigAddress(\n  pks: PubkeyWeightPair[],\n  threshold: number,\n): string {\n  if (pks.length > MAX_SIGNER_IN_MULTISIG) {\n    throw new Error(\n      `Max number of signers in a multisig is ${MAX_SIGNER_IN_MULTISIG}`,\n    );\n  }\n  // max length = 1 flag byte + (max pk size + max weight size (u8)) * max signer size + 2 threshold bytes (u16)\n  let maxLength = 1 + (64 + 1) * MAX_SIGNER_IN_MULTISIG + 2;\n  let tmp = new Uint8Array(maxLength);\n  tmp.set([SIGNATURE_SCHEME_TO_FLAG['MultiSig']]);\n\n  let arr = to_uint8array(threshold);\n  tmp.set(arr, 1);\n  let i = 3;\n  for (const pk of pks) {\n    tmp.set([pk.pubKey.flag()], i);\n    tmp.set(pk.pubKey.toRawBytes(), i + 1);\n    tmp.set([pk.weight], i + 1 + pk.pubKey.toRawBytes().length);\n    i += pk.pubKey.toRawBytes().length + 2;\n  }\n  return normalizeSuiAddress(\n    bytesToHex(blake2b(tmp.slice(0, i), { dkLen: 32 })),\n  );\n}\n\n/// Combine a list of serialized sigs, a list of pk weight pairs\n/// and threshold into a single multisig. `sigs` are required to\n/// be in the same order as `pks`. e.g. for [pk1, pk2, pk3, pk4, pk5],\n/// [sig1, sig2, sig5] is valid, but [sig2, sig1, sig5] is invalid.\nexport function combinePartialSigs(\n  sigs: SerializedSignature[],\n  pks: PubkeyWeightPair[],\n  threshold: number,\n): SerializedSignature {\n  let multisig_pk: MultiSigPublicKey = {\n    pk_map: pks.map((x) => toPkWeightPair(x)),\n    threshold: threshold,\n  };\n\n  let bitmap = 0;\n  let compressed_sigs: CompressedSignature[] = new Array(sigs.length);\n  for (let i = 0; i < sigs.length; i++) {\n    let parsed = toSingleSignaturePubkeyPair(sigs[i]);\n    let bytes = Array.from(parsed.signature.map((x) => Number(x)));\n    if (parsed.signatureScheme === 'ED25519') {\n      compressed_sigs[i] = { ED25519: bytes };\n    } else if (parsed.signatureScheme === 'Secp256k1') {\n      compressed_sigs[i] = { Secp256k1: bytes };\n    } else if (parsed.signatureScheme === 'Secp256r1') {\n      compressed_sigs[i] = { Secp256r1: bytes };\n    }\n    for (let j = 0; j < pks.length; j++) {\n      if (parsed.pubKey.equals(pks[j].pubKey)) {\n        bitmap |= 1 << j;\n        break;\n      }\n    }\n  }\n  let multisig: MultiSig = {\n    sigs: compressed_sigs,\n    bitmap,\n    multisig_pk,\n  };\n\n  const bytes = builder.ser('MultiSig', multisig).toBytes();\n  let tmp = new Uint8Array(bytes.length + 1);\n  tmp.set([SIGNATURE_SCHEME_TO_FLAG['MultiSig']]);\n  tmp.set(bytes, 1);\n  return toB64(tmp);\n}\n\n/// Decode a multisig signature into a list of signatures, public keys and flags.\nexport function decodeMultiSig(signature: string): SignaturePubkeyPair[] {\n  const parsed = fromB64(signature);\n  if (parsed.length < 1 || parsed[0] !== SIGNATURE_SCHEME_TO_FLAG['MultiSig']) {\n    throw new Error('Invalid MultiSig flag');\n  }\n  const multisig: MultiSig = builder.de('MultiSig', parsed.slice(1));\n  let res: SignaturePubkeyPair[] = new Array(multisig.sigs.length);\n  for (let i = 0; i < multisig.sigs.length; i++) {\n    let s: CompressedSignature = multisig.sigs[i];\n    let pk_index = as_indices(multisig.bitmap).at(i);\n    let pk_bytes = Object.values(\n      multisig.multisig_pk.pk_map[pk_index as number].pubKey,\n    )[0];\n    const scheme = Object.keys(s)[0] as SignatureScheme;\n\n    if (scheme === 'MultiSig') {\n      throw new Error('MultiSig is not supported inside MultiSig');\n    }\n\n    const SIGNATURE_SCHEME_TO_PUBLIC_KEY = {\n      ED25519: Ed25519PublicKey,\n      Secp256k1: Secp256k1PublicKey,\n      Secp256r1: Secp256r1PublicKey,\n    };\n\n    const PublicKey = SIGNATURE_SCHEME_TO_PUBLIC_KEY[scheme];\n\n    res[i] = {\n      signatureScheme: scheme,\n      signature: Uint8Array.from(Object.values(s)[0]),\n      pubKey: new PublicKey(pk_bytes),\n      weight: multisig.multisig_pk.pk_map[pk_index as number].weight,\n    };\n  }\n  return res;\n}\n\nfunction toPkWeightPair(pair: PubkeyWeightPair): PubkeyEnumWeightPair {\n  let pk_bytes = Array.from(pair.pubKey.toBytes().map((x) => Number(x)));\n  switch (pair.pubKey.flag()) {\n    case SIGNATURE_SCHEME_TO_FLAG['Secp256k1']:\n      return {\n        pubKey: {\n          Secp256k1: pk_bytes,\n        },\n        weight: pair.weight,\n      };\n    case SIGNATURE_SCHEME_TO_FLAG['Secp256r1']:\n      return {\n        pubKey: {\n          Secp256r1: pk_bytes,\n        },\n        weight: pair.weight,\n      };\n    case SIGNATURE_SCHEME_TO_FLAG['ED25519']:\n      return {\n        pubKey: {\n          ED25519: pk_bytes,\n        },\n        weight: pair.weight,\n      };\n    default:\n      throw new Error('Unsupported signature scheme');\n  }\n}\n\n/// Convert u16 to Uint8Array of length 2 in little endian.\nfunction to_uint8array(threshold: number): Uint8Array {\n  if (threshold < 0 || threshold > 65535) {\n    throw new Error('Invalid threshold');\n  }\n  let arr = new Uint8Array(2);\n  arr[0] = threshold & 0xff;\n  arr[1] = threshold >> 8;\n  return arr;\n}\n\nfunction as_indices(bitmap: number): Uint8Array {\n  if (bitmap < 0 || bitmap > 1024) {\n    throw new Error('Invalid bitmap');\n  }\n  let res: number[] = [];\n  for (let i = 0; i < 10; i++) {\n    if ((bitmap & (1 << i)) !== 0) {\n      res.push(i);\n    }\n  }\n  return Uint8Array.from(res);\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport nacl from 'tweetnacl';\nimport type { ExportedKeypair } from '../../cryptography/keypair';\nimport { Ed25519PublicKey } from './publickey';\nimport {\n  isValidHardenedPath,\n  mnemonicToSeedHex,\n} from '../../cryptography/mnemonics';\nimport { derivePath } from './ed25519-hd-key';\nimport { toB64 } from '@mysten/bcs';\nimport type { SignatureScheme } from '../../cryptography/signature';\nimport { PRIVATE_KEY_SIZE, Keypair } from '../../cryptography/keypair';\n\nexport const DEFAULT_ED25519_DERIVATION_PATH = \"m/44'/784'/0'/0'/0'\";\n\n/**\n * Ed25519 Keypair data. The publickey is the 32-byte public key and\n * the secretkey is 64-byte, where the first 32 bytes is the secret\n * key and the last 32 bytes is the public key.\n */\nexport interface Ed25519KeypairData {\n  publicKey: Uint8Array;\n  secretKey: Uint8Array;\n}\n\n/**\n * An Ed25519 Keypair used for signing transactions.\n */\nexport class Ed25519Keypair extends Keypair {\n  private keypair: Ed25519KeypairData;\n  public mpc = false;\n  public email = '';\n\n  /**\n   * Create a new Ed25519 keypair instance.\n   * Generate random keypair if no {@link Ed25519Keypair} is provided.\n   *\n   * @param keypair Ed25519 keypair\n   */\n  constructor(keypair?: Ed25519KeypairData, _mpc = false, _email = null) {\n    super();\n    this.mpc = _mpc;\n    if(this.mpc){\n      this.keypair = keypair\n      this.email = _email\n    } else if (keypair) {\n      this.keypair = keypair;\n    } else {\n      this.keypair = nacl.sign.keyPair();\n    }\n  }\n\n  /**\n   * Get the key scheme of the keypair ED25519\n   */\n  getKeyScheme(): SignatureScheme {\n    return 'ED25519';\n  }\n\n  /**\n   * Generate a new random Ed25519 keypair\n   */\n  static generate(): Ed25519Keypair {\n    return new Ed25519Keypair(nacl.sign.keyPair());\n  }\n\n  /**\n   * Create a Ed25519 keypair from a raw secret key byte array, also known as seed.\n   * This is NOT the private scalar which is result of hashing and bit clamping of\n   * the raw secret key.\n   *\n   * The sui.keystore key is a list of Base64 encoded `flag || privkey`. To import\n   * a key from sui.keystore to typescript, decode from base64 and remove the first\n   * flag byte after checking it is indeed the Ed25519 scheme flag 0x00 (See more\n   * on flag for signature scheme: https://github.com/MystenLabs/sui/blob/818406c5abdf7de1b80915a0519071eec3a5b1c7/crates/sui-types/src/crypto.rs#L1650):\n   * ```\n   * import { Ed25519Keypair, fromB64 } from '@mysten/sui';\n   * const raw = fromB64(t[1]);\n   * if (raw[0] !== 0 || raw.length !== PRIVATE_KEY_SIZE + 1) {\n   *   throw new Error('invalid key');\n   * }\n   * const imported = Ed25519Keypair.fromSecretKey(raw.slice(1))\n   * ```\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options: skip secret key validation\n   */\n  static fromSecretKey(\n    secretKey: Uint8Array,\n    options?: { skipValidation?: boolean },\n  ): Ed25519Keypair {\n    const secretKeyLength = secretKey.length;\n    if (secretKeyLength !== PRIVATE_KEY_SIZE) {\n      throw new Error(\n        `Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${secretKeyLength}.`,\n      );\n    }\n    const keypair = nacl.sign.keyPair.fromSeed(secretKey);\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode('sui validation');\n      const signature = nacl.sign.detached(signData, keypair.secretKey);\n      if (!nacl.sign.detached.verify(signData, signature, keypair.publicKey)) {\n        throw new Error('provided secretKey is invalid');\n      }\n    }\n    return new Ed25519Keypair(keypair);\n  }\n\n  /**\n   * The public key for this Ed25519 keypair\n   */\n  getPublicKey(): Ed25519PublicKey {\n    return new Ed25519PublicKey(this.keypair.publicKey);\n  }\n\n  async sign(data: Uint8Array) {\n    return this.signData(data);\n  }\n\n  /**\n   * Return the signature for the provided data using Ed25519.\n   */\n  signData(data: Uint8Array): Uint8Array {\n    return nacl.sign.detached(data, this.keypair.secretKey);\n  }\n\n  /**\n   * Return the signature for the provided data using Ed25519.\n   */\n  signBuffer(data: Uint8Array): Uint8Array {\n    return nacl.sign.detached(data, this.keypair.secretKey);\n  }\n\n  /**\n   * Generate an Ed25519 keypair from a 32 byte seed.\n   *\n   * @param seed seed byte array\n   */\n  static fromSeed(seed: Uint8Array): Ed25519Keypair {\n    const seedLength = seed.length;\n    if (seedLength != 32) {\n      throw new Error(`Wrong seed size. Expected 32 bytes, got ${seedLength}.`);\n    }\n    return new Ed25519Keypair(nacl.sign.keyPair.fromSeed(seed));\n  }\n\n  /**\n   * Derive Ed25519 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypair(mnemonics: string, path?: string): Ed25519Keypair {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error('Invalid derivation path');\n    }\n    const { key } = derivePath(path, mnemonicToSeedHex(mnemonics));\n\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n\n  /**\n   * Derive Ed25519 keypair from mnemonicSeed and path.\n   *\n   * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypairFromSeed(seedHex: string, path?: string): Ed25519Keypair {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error('Invalid derivation path');\n    }\n    const { key } = derivePath(path, seedHex);\n\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n\n  /**\n   * Derives account address, public key and private key\n   * @returns publicKey, address and privateKey\n   */\n  toPrivateKeyObject(): object {\n    const publicKeyHex = Buffer.from(this.getPublicKey().toBytes()).toString(\n      'hex',\n    );\n    const privateKeyHex = Buffer.from(\n      this.keypair.secretKey.slice(0, 32),\n    ).toString('hex');\n    const address = this.getPublicKey().toSuiAddress();\n    return {\n      address: address.startsWith('0x') ? address : '0x' + address,\n      publicKeyHex: publicKeyHex.startsWith('0x')\n        ? publicKeyHex\n        : '0x' + publicKeyHex,\n      privateKeyHex: privateKeyHex.startsWith('0x')\n        ? privateKeyHex\n        : '0x' + privateKeyHex,\n    };\n  }\n\n  /**\n   * This returns an exported keypair object, the private key field is the pure 32-byte seed.\n   */\n  export(): ExportedKeypair {\n    return {\n      schema: 'ED25519',\n      privateKey: toB64(this.keypair.secretKey.slice(0, PRIVATE_KEY_SIZE)),\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport { toHEX } from '@mysten/bcs';\nimport { mnemonicToSeedSync as bip39MnemonicToSeedSync } from '@scure/bip39';\n\n/**\n * Parse and validate a path that is compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n *\n * @param path path string (e.g. `m/44'/784'/0'/0'/0'`).\n */\nexport function isValidHardenedPath(path: string): boolean {\n  if (\n    !new RegExp(\"^m\\\\/44'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+'\\\\/[0-9]+'+$\").test(path)\n  ) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Parse and validate a path that is compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}\n * for Secp256k1 and m/74'/784'/{account_index}'/{change_index}/{address_index} for Secp256r1.\n *\n * Note that the purpose for Secp256k1 is registered as 54, to differentiate from Ed25519 with purpose 44.\n *\n * @param path path string (e.g. `m/54'/784'/0'/0/0`).\n */\nexport function isValidBIP32Path(path: string): boolean {\n  if (\n    !new RegExp(\"^m\\\\/(54|74)'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+\\\\/[0-9]+$\").test(path)\n  ) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Uses KDF to derive 64 bytes of key data from mnemonic with empty password.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeed(mnemonics: string): Uint8Array {\n  return bip39MnemonicToSeedSync(mnemonics, '');\n}\n\n/**\n * Derive the seed in hex format from a 12-word mnemonic string.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeedHex(mnemonics: string): string {\n  return toHEX(mnemonicToSeed(mnemonics));\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// This is adapted from https://github.com/alepop/ed25519-hd-key replacing create-hmac\n// with @noble/hashes to be browser compatible.\n\nimport { sha512 } from '@noble/hashes/sha512';\nimport { hmac } from '@noble/hashes/hmac';\nimport nacl from 'tweetnacl';\nimport { fromHEX } from '@mysten/bcs';\n\ntype Hex = string;\ntype Path = string;\n\ntype Keys = {\n\tkey: Uint8Array;\n\tchainCode: Uint8Array;\n};\n\nconst ED25519_CURVE = 'ed25519 seed';\nconst HARDENED_OFFSET = 0x80000000;\n\nexport const pathRegex = new RegExp(\"^m(\\\\/[0-9]+')+$\");\n\nexport const replaceDerive = (val: string): string => val.replace(\"'\", '');\n\nexport const getMasterKeyFromSeed = (seed: Hex): Keys => {\n\tconst h = hmac.create(sha512, ED25519_CURVE);\n\tconst I = h.update(fromHEX(seed)).digest();\n\tconst IL = I.slice(0, 32);\n\tconst IR = I.slice(32);\n\treturn {\n\t\tkey: IL,\n\t\tchainCode: IR,\n\t};\n};\n\nconst CKDPriv = ({ key, chainCode }: Keys, index: number): Keys => {\n\tconst indexBuffer = new ArrayBuffer(4);\n\tconst cv = new DataView(indexBuffer);\n\tcv.setUint32(0, index);\n\n\tconst data = new Uint8Array(1 + key.length + indexBuffer.byteLength);\n\tdata.set(new Uint8Array(1).fill(0));\n\tdata.set(key, 1);\n\tdata.set(new Uint8Array(indexBuffer, 0, indexBuffer.byteLength), key.length + 1);\n\n\tconst I = hmac.create(sha512, chainCode).update(data).digest();\n\tconst IL = I.slice(0, 32);\n\tconst IR = I.slice(32);\n\treturn {\n\t\tkey: IL,\n\t\tchainCode: IR,\n\t};\n};\n\nexport const getPublicKey = (privateKey: Uint8Array, withZeroByte = true): Uint8Array => {\n\tconst keyPair = nacl.sign.keyPair.fromSeed(privateKey);\n\tconst signPk = keyPair.secretKey.subarray(32);\n\tconst newArr = new Uint8Array(signPk.length + 1);\n\tnewArr.set([0]);\n\tnewArr.set(signPk, 1);\n\treturn withZeroByte ? newArr : signPk;\n};\n\nexport const isValidPath = (path: string): boolean => {\n\tif (!pathRegex.test(path)) {\n\t\treturn false;\n\t}\n\treturn !path\n\t\t.split('/')\n\t\t.slice(1)\n\t\t.map(replaceDerive)\n\t\t.some(isNaN as any /* ts T_T*/);\n};\n\nexport const derivePath = (path: Path, seed: Hex, offset = HARDENED_OFFSET): Keys => {\n\tif (!isValidPath(path)) {\n\t\tthrow new Error('Invalid derivation path');\n\t}\n\n\tconst { key, chainCode } = getMasterKeyFromSeed(seed);\n\tconst segments = path\n\t\t.split('/')\n\t\t.slice(1)\n\t\t.map(replaceDerive)\n\t\t.map((el) => parseInt(el, 10));\n\n\treturn segments.reduce((parentKeys, segment) => CKDPriv(parentKeys, segment + offset), {\n\t\tkey,\n\t\tchainCode,\n\t});\n};\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { PublicKey } from './publickey';\nimport type { SerializedSignature } from './signature';\nimport { toSerializedSignature } from './signature';\nimport type { SignatureScheme } from './signature';\nimport { IntentScope, messageWithIntent } from './intent';\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { bcs } from '../bcs/index';\nimport { toB64 } from '@mysten/bcs';\n\nexport const PRIVATE_KEY_SIZE = 32;\nexport const LEGACY_PRIVATE_KEY_SIZE = 64;\n\nexport type ExportedKeypair = {\n  schema: SignatureScheme;\n  privateKey: string;\n};\n\nexport interface SignatureWithBytes {\n  bytes: string;\n  signature: SerializedSignature;\n}\n\n/**\n * TODO: Document\n */\nexport abstract class BaseSigner {\n  abstract sign(bytes: Uint8Array): Promise<Uint8Array>;\n\n  async signWithIntent(\n    bytes: Uint8Array,\n    intent: IntentScope,\n  ): Promise<SignatureWithBytes> {\n    const intentMessage = messageWithIntent(intent, bytes);\n    const digest = blake2b(intentMessage, { dkLen: 32 });\n\n    const signature = toSerializedSignature({\n      signature: await this.sign(digest),\n      signatureScheme: this.getKeyScheme(),\n      pubKey: this.getPublicKey(),\n    });\n\n    return {\n      signature,\n      bytes: toB64(bytes),\n    };\n  }\n\n  async signTransactionBlock(bytes: Uint8Array) {\n    return this.signWithIntent(bytes, IntentScope.TransactionData);\n  }\n\n  async signPersonalMessage(bytes: Uint8Array) {\n    return this.signWithIntent(\n      bcs.ser(['vector', 'u8'], bytes).toBytes(),\n      IntentScope.PersonalMessage,\n    );\n  }\n\n  /**\n   * @deprecated use `signPersonalMessage` instead\n   */\n  async signMessage(bytes: Uint8Array) {\n    return this.signPersonalMessage(bytes);\n  }\n\n  toSuiAddress(): string {\n    return this.getPublicKey().toSuiAddress();\n  }\n\n  /**\n   * Return the signature for the data.\n   * Prefer the async version {@link sign}, as this method will be deprecated in a future release.\n   */\n  abstract signData(data: Uint8Array): Uint8Array;\n\n  /**\n   * Get the key scheme of the keypair: Secp256k1 or ED25519\n   */\n  abstract getKeyScheme(): SignatureScheme;\n\n  /**\n   * The public key for this keypair\n   */\n  abstract getPublicKey(): PublicKey;\n}\n\n/**\n * TODO: Document\n */\nexport abstract class Keypair extends BaseSigner {\n  abstract export(): ExportedKeypair;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ExportedKeypair } from '../../cryptography/keypair';\nimport { Keypair } from '../../cryptography/keypair';\nimport type { PublicKey } from '../../cryptography/publickey';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { Secp256k1PublicKey } from './publickey';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { isValidBIP32Path, mnemonicToSeed } from '../../cryptography/mnemonics';\nimport { HDKey } from '@scure/bip32';\nimport { toB64 } from '@mysten/bcs';\nimport type { SignatureScheme } from '../../cryptography/signature';\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { blake2b } from '@noble/hashes/blake2b';\n\nexport const DEFAULT_SECP256K1_DERIVATION_PATH = \"m/54'/784'/0'/0/0\";\n\n/**\n * Secp256k1 Keypair data\n */\nexport interface Secp256k1KeypairData {\n  publicKey: Uint8Array;\n  secretKey: Uint8Array;\n}\n\n/**\n * An Secp256k1 Keypair used for signing transactions.\n */\nexport class Secp256k1Keypair extends Keypair {\n  private keypair: Secp256k1KeypairData;\n\n  /**\n   * Create a new keypair instance.\n   * Generate random keypair if no {@link Secp256k1Keypair} is provided.\n   *\n   * @param keypair secp256k1 keypair\n   */\n  constructor(keypair?: Secp256k1KeypairData) {\n    super();\n    if (keypair) {\n      this.keypair = keypair;\n    } else {\n      const secretKey: Uint8Array = secp256k1.utils.randomPrivateKey();\n      const publicKey: Uint8Array = secp256k1.getPublicKey(secretKey, true);\n\n      this.keypair = { publicKey, secretKey };\n    }\n  }\n\n  /**\n   * Get the key scheme of the keypair Secp256k1\n   */\n  getKeyScheme(): SignatureScheme {\n    return 'Secp256k1';\n  }\n\n  /**\n   * Generate a new random keypair\n   */\n  static generate(): Secp256k1Keypair {\n    return new Secp256k1Keypair();\n  }\n\n  /**\n   * Create a keypair from a raw secret key byte array.\n   *\n   * This method should only be used to recreate a keypair from a previously\n   * generated secret key. Generating keypairs from a random seed should be done\n   * with the {@link Keypair.fromSeed} method.\n   *\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options: skip secret key validation\n   */\n\n  static fromSecretKey(\n    secretKey: Uint8Array,\n    options?: { skipValidation?: boolean },\n  ): Secp256k1Keypair {\n    const publicKey: Uint8Array = secp256k1.getPublicKey(secretKey, true);\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode('sui validation');\n      const msgHash = bytesToHex(blake2b(signData, { dkLen: 32 }));\n      const signature = secp256k1.sign(msgHash, secretKey);\n      if (!secp256k1.verify(signature, msgHash, publicKey, { lowS: true })) {\n        throw new Error('Provided secretKey is invalid');\n      }\n    }\n    return new Secp256k1Keypair({ publicKey, secretKey });\n  }\n\n  /**\n   * Generate a keypair from a 32 byte seed.\n   *\n   * @param seed seed byte array\n   */\n  static fromSeed(seed: Uint8Array): Secp256k1Keypair {\n    let publicKey = secp256k1.getPublicKey(seed, true);\n    return new Secp256k1Keypair({ publicKey, secretKey: seed });\n  }\n\n  /**\n   * The public key for this keypair\n   */\n  getPublicKey(): PublicKey {\n    return new Secp256k1PublicKey(this.keypair.publicKey);\n  }\n\n  async sign(data: Uint8Array) {\n    return this.signData(data);\n  }\n\n  /**\n   * Return the signature for the provided data.\n   */\n  signData(data: Uint8Array): Uint8Array {\n    const msgHash = sha256(data);\n    const sig = secp256k1.sign(msgHash, this.keypair.secretKey, {\n      lowS: true,\n    });\n    return sig.toCompactRawBytes();\n  }\n\n  /**\n   * Derive Secp256k1 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/54'/784'/0'/0/0, otherwise the path must\n   * be compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}.\n   */\n  static deriveKeypair(mnemonics: string, path?: string): Secp256k1Keypair {\n    if (path == null) {\n      path = DEFAULT_SECP256K1_DERIVATION_PATH;\n    }\n    if (!isValidBIP32Path(path)) {\n      throw new Error('Invalid derivation path');\n    }\n    const key = HDKey.fromMasterSeed(mnemonicToSeed(mnemonics)).derive(path);\n    if (key.publicKey == null || key.privateKey == null) {\n      throw new Error('Invalid key');\n    }\n    return new Secp256k1Keypair({\n      publicKey: key.publicKey,\n      secretKey: key.privateKey,\n    });\n  }\n\n  export(): ExportedKeypair {\n    return {\n      schema: 'Secp256k1',\n      privateKey: toB64(this.keypair.secretKey),\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport {\n\tarray,\n\tnumber,\n\tobject,\n\tstring,\n\ttuple,\n\tboolean,\n\toptional,\n\tany,\n\tnullable,\n} from 'superstruct';\n\nexport const GasCostSummary = object({\n\tcomputationCost: string(),\n\tstorageCost: string(),\n\tstorageRebate: string(),\n\tnonRefundableStorageFee: string(),\n});\nexport type GasCostSummary = Infer<typeof GasCostSummary>;\n\n/** @deprecated Use `string` instead. */\nexport const CheckPointContentsDigest = string();\n/** @deprecated Use `string` instead. */\nexport type CheckPointContentsDigest = Infer<typeof CheckPointContentsDigest>;\n\n/** @deprecated Use `string` instead. */\nexport const CheckpointDigest = string();\n/** @deprecated Use `string` instead. */\nexport type CheckpointDigest = Infer<typeof CheckpointDigest>;\n\nexport const ECMHLiveObjectSetDigest = object({\n\tdigest: array(number()),\n});\nexport type ECMHLiveObjectSetDigest = Infer<typeof ECMHLiveObjectSetDigest>;\n\nexport const CheckpointCommitment = any();\nexport type CheckpointCommitment = Infer<typeof CheckpointCommitment>;\n\n/** @deprecated Use `string` instead. */\nexport const ValidatorSignature = string();\n/** @deprecated Use `string` instead. */\nexport type ValidatorSignature = Infer<typeof ValidatorSignature>;\n\nexport const EndOfEpochData = object({\n\tnextEpochCommittee: array(tuple([string(), string()])),\n\tnextEpochProtocolVersion: string(),\n\tepochCommitments: array(CheckpointCommitment),\n});\nexport type EndOfEpochData = Infer<typeof EndOfEpochData>;\n\nexport const ExecutionDigests = object({\n\ttransaction: string(),\n\teffects: string(),\n});\n\nexport const Checkpoint = object({\n\tepoch: string(),\n\tsequenceNumber: string(),\n\tdigest: string(),\n\tnetworkTotalTransactions: string(),\n\tpreviousDigest: optional(string()),\n\tepochRollingGasCostSummary: GasCostSummary,\n\ttimestampMs: string(),\n\tendOfEpochData: optional(EndOfEpochData),\n\tvalidatorSignature: string(),\n\ttransactions: array(string()),\n\tcheckpointCommitments: array(CheckpointCommitment),\n});\nexport type Checkpoint = Infer<typeof Checkpoint>;\n\nexport const CheckpointPage = object({\n\tdata: array(Checkpoint),\n\tnextCursor: nullable(string()),\n\thasNextPage: boolean(),\n});\nexport type CheckpointPage = Infer<typeof CheckpointPage>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport {\n\tany,\n\tarray,\n\tassign,\n\tboolean,\n\tliteral,\n\tnumber,\n\tobject,\n\toptional,\n\trecord,\n\tstring,\n\tunion,\n\tis,\n\tnullable,\n\ttuple,\n\tunknown,\n} from 'superstruct';\nimport { ObjectOwner } from './common';\nimport type { OwnedObjectRef } from './transactions';\n\nexport const ObjectType = union([string(), literal('package')]);\nexport type ObjectType = Infer<typeof ObjectType>;\n\nexport const SuiObjectRef = object({\n\t/** Base64 string representing the object digest */\n\tdigest: string(),\n\t/** Hex code as string representing the object id */\n\tobjectId: string(),\n\t/** Object version */\n\tversion: union([number(), string()]),\n});\nexport type SuiObjectRef = Infer<typeof SuiObjectRef>;\n\nexport const SuiGasData = object({\n\tpayment: array(SuiObjectRef),\n\t/** Gas Object's owner */\n\towner: string(),\n\tprice: string(),\n\tbudget: string(),\n});\nexport type SuiGasData = Infer<typeof SuiGasData>;\n\nexport const SuiObjectInfo = assign(\n\tSuiObjectRef,\n\tobject({\n\t\ttype: string(),\n\t\towner: ObjectOwner,\n\t\tpreviousTransaction: string(),\n\t}),\n);\nexport type SuiObjectInfo = Infer<typeof SuiObjectInfo>;\n\nexport const ObjectContentFields = record(string(), any());\nexport type ObjectContentFields = Infer<typeof ObjectContentFields>;\n\nexport const MovePackageContent = record(string(), unknown());\nexport type MovePackageContent = Infer<typeof MovePackageContent>;\n\nexport const SuiMoveObject = object({\n\t/** Move type (e.g., \"0x2::coin::Coin<0x2::sui::SUI>\") */\n\ttype: string(),\n\t/** Fields and values stored inside the Move object */\n\tfields: ObjectContentFields,\n\thasPublicTransfer: boolean(),\n});\nexport type SuiMoveObject = Infer<typeof SuiMoveObject>;\n\nexport const SuiMovePackage = object({\n\t/** A mapping from module name to disassembled Move bytecode */\n\tdisassembled: MovePackageContent,\n});\nexport type SuiMovePackage = Infer<typeof SuiMovePackage>;\n\nexport const SuiParsedData = union([\n\tassign(SuiMoveObject, object({ dataType: literal('moveObject') })),\n\tassign(SuiMovePackage, object({ dataType: literal('package') })),\n]);\nexport type SuiParsedData = Infer<typeof SuiParsedData>;\n\nexport const SuiRawMoveObject = object({\n\t/** Move type (e.g., \"0x2::coin::Coin<0x2::sui::SUI>\") */\n\ttype: string(),\n\thasPublicTransfer: boolean(),\n\tversion: string(),\n\tbcsBytes: string(),\n});\nexport type SuiRawMoveObject = Infer<typeof SuiRawMoveObject>;\n\nexport const SuiRawMovePackage = object({\n\tid: string(),\n\t/** A mapping from module name to Move bytecode enocded in base64*/\n\tmoduleMap: record(string(), string()),\n});\nexport type SuiRawMovePackage = Infer<typeof SuiRawMovePackage>;\n\n// TODO(chris): consolidate SuiRawParsedData and SuiRawObject using generics\nexport const SuiRawData = union([\n\tassign(SuiRawMoveObject, object({ dataType: literal('moveObject') })),\n\tassign(SuiRawMovePackage, object({ dataType: literal('package') })),\n]);\nexport type SuiRawData = Infer<typeof SuiRawData>;\n\nexport const SUI_DECIMALS = 9;\n\nexport const MIST_PER_SUI = BigInt(1000000000);\n\n/** @deprecated Use `string` instead. */\nexport const ObjectDigest = string();\n/** @deprecated Use `string` instead. */\nexport type ObjectDigest = Infer<typeof ObjectDigest>;\n\nexport const SuiObjectResponseError = object({\n\tcode: string(),\n\terror: optional(string()),\n\tobject_id: optional(string()),\n\tparent_object_id: optional(string()),\n\tversion: optional(string()),\n\tdigest: optional(string()),\n});\nexport type SuiObjectResponseError = Infer<typeof SuiObjectResponseError>;\nexport const DisplayFieldsResponse = object({\n\tdata: nullable(optional(record(string(), string()))),\n\terror: nullable(optional(SuiObjectResponseError)),\n});\nexport type DisplayFieldsResponse = Infer<typeof DisplayFieldsResponse>;\n// TODO: remove after all envs support the new DisplayFieldsResponse;\nexport const DisplayFieldsBackwardCompatibleResponse = union([\n\tDisplayFieldsResponse,\n\toptional(record(string(), string())),\n]);\nexport type DisplayFieldsBackwardCompatibleResponse = Infer<\n\ttypeof DisplayFieldsBackwardCompatibleResponse\n>;\n\nexport const SuiObjectData = object({\n\tobjectId: string(),\n\tversion: string(),\n\tdigest: string(),\n\t/**\n\t * Type of the object, default to be undefined unless SuiObjectDataOptions.showType is set to true\n\t */\n\ttype: nullable(optional(string())),\n\t/**\n\t * Move object content or package content, default to be undefined unless SuiObjectDataOptions.showContent is set to true\n\t */\n\tcontent: nullable(optional(SuiParsedData)),\n\t/**\n\t * Move object content or package content in BCS bytes, default to be undefined unless SuiObjectDataOptions.showBcs is set to true\n\t */\n\tbcs: nullable(optional(SuiRawData)),\n\t/**\n\t * The owner of this object. Default to be undefined unless SuiObjectDataOptions.showOwner is set to true\n\t */\n\towner: nullable(optional(ObjectOwner)),\n\t/**\n\t * The digest of the transaction that created or last mutated this object.\n\t * Default to be undefined unless SuiObjectDataOptions.showPreviousTransaction is set to true\n\t */\n\tpreviousTransaction: nullable(optional(string())),\n\t/**\n\t * The amount of SUI we would rebate if this object gets deleted.\n\t * This number is re-calculated each time the object is mutated based on\n\t * the present storage gas price.\n\t * Default to be undefined unless SuiObjectDataOptions.showStorageRebate is set to true\n\t */\n\tstorageRebate: nullable(optional(string())),\n\t/**\n\t * Display metadata for this object, default to be undefined unless SuiObjectDataOptions.showDisplay is set to true\n\t * This can also be None if the struct type does not have Display defined\n\t * See more details in https://forums.sui.io/t/nft-object-display-proposal/4872\n\t */\n\tdisplay: nullable(optional(DisplayFieldsBackwardCompatibleResponse)),\n});\nexport type SuiObjectData = Infer<typeof SuiObjectData>;\n\n/**\n * Config for fetching object data\n */\nexport const SuiObjectDataOptions = object({\n\t/* Whether to fetch the object type, default to be true */\n\tshowType: nullable(optional(boolean())),\n\t/* Whether to fetch the object content, default to be false */\n\tshowContent: nullable(optional(boolean())),\n\t/* Whether to fetch the object content in BCS bytes, default to be false */\n\tshowBcs: nullable(optional(boolean())),\n\t/* Whether to fetch the object owner, default to be false */\n\tshowOwner: nullable(optional(boolean())),\n\t/* Whether to fetch the previous transaction digest, default to be false */\n\tshowPreviousTransaction: nullable(optional(boolean())),\n\t/* Whether to fetch the storage rebate, default to be false */\n\tshowStorageRebate: nullable(optional(boolean())),\n\t/* Whether to fetch the display metadata, default to be false */\n\tshowDisplay: nullable(optional(boolean())),\n});\nexport type SuiObjectDataOptions = Infer<typeof SuiObjectDataOptions>;\n\nexport const ObjectStatus = union([literal('Exists'), literal('notExists'), literal('Deleted')]);\nexport type ObjectStatus = Infer<typeof ObjectStatus>;\n\nexport const GetOwnedObjectsResponse = array(SuiObjectInfo);\nexport type GetOwnedObjectsResponse = Infer<typeof GetOwnedObjectsResponse>;\n\nexport const SuiObjectResponse = object({\n\tdata: nullable(optional(SuiObjectData)),\n\terror: nullable(optional(SuiObjectResponseError)),\n});\nexport type SuiObjectResponse = Infer<typeof SuiObjectResponse>;\n\nexport type Order = 'ascending' | 'descending';\n\n/* -------------------------------------------------------------------------- */\n/*                              Helper functions                              */\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------- SuiObjectResponse ------------------------- */\n\nexport function getSuiObjectData(resp: SuiObjectResponse): SuiObjectData | null | undefined {\n\treturn resp.data;\n}\n\nexport function getObjectDeletedResponse(resp: SuiObjectResponse): SuiObjectRef | undefined {\n\tif (\n\t\tresp.error &&\n\t\t'object_id' in resp.error &&\n\t\t'version' in resp.error &&\n\t\t'digest' in resp.error\n\t) {\n\t\tconst error = resp.error as SuiObjectResponseError;\n\t\treturn {\n\t\t\tobjectId: error.object_id,\n\t\t\tversion: error.version,\n\t\t\tdigest: error.digest,\n\t\t} as SuiObjectRef;\n\t}\n\n\treturn undefined;\n}\n\nexport function getObjectNotExistsResponse(resp: SuiObjectResponse): string | undefined {\n\tif (\n\t\tresp.error &&\n\t\t'object_id' in resp.error &&\n\t\t!('version' in resp.error) &&\n\t\t!('digest' in resp.error)\n\t) {\n\t\treturn (resp.error as SuiObjectResponseError).object_id as string;\n\t}\n\n\treturn undefined;\n}\n\nexport function getObjectReference(\n\tresp: SuiObjectResponse | OwnedObjectRef,\n): SuiObjectRef | undefined {\n\tif ('reference' in resp) {\n\t\treturn resp.reference;\n\t}\n\tconst exists = getSuiObjectData(resp);\n\tif (exists) {\n\t\treturn {\n\t\t\tobjectId: exists.objectId,\n\t\t\tversion: exists.version,\n\t\t\tdigest: exists.digest,\n\t\t};\n\t}\n\treturn getObjectDeletedResponse(resp);\n}\n\n/* ------------------------------ SuiObjectRef ------------------------------ */\n\nexport function getObjectId(data: SuiObjectResponse | SuiObjectRef | OwnedObjectRef): string {\n\tif ('objectId' in data) {\n\t\treturn data.objectId;\n\t}\n\treturn (\n\t\tgetObjectReference(data)?.objectId ?? getObjectNotExistsResponse(data as SuiObjectResponse)!\n\t);\n}\n\nexport function getObjectVersion(\n\tdata: SuiObjectResponse | SuiObjectRef | SuiObjectData,\n): string | number | undefined {\n\tif ('version' in data) {\n\t\treturn data.version;\n\t}\n\treturn getObjectReference(data)?.version;\n}\n\n/* -------------------------------- SuiObject ------------------------------- */\n\nexport function isSuiObjectResponse(\n\tresp: SuiObjectResponse | SuiObjectData,\n): resp is SuiObjectResponse {\n\treturn (resp as SuiObjectResponse).data !== undefined;\n}\n\n/**\n * Deriving the object type from the object response\n * @returns 'package' if the object is a package, move object type(e.g., 0x2::coin::Coin<0x2::sui::SUI>)\n * if the object is a move object\n */\nexport function getObjectType(\n\tresp: SuiObjectResponse | SuiObjectData,\n): ObjectType | null | undefined {\n\tconst data = isSuiObjectResponse(resp) ? resp.data : resp;\n\n\tif (!data?.type && 'data' in resp) {\n\t\tif (data?.content?.dataType === 'package') {\n\t\t\treturn 'package';\n\t\t}\n\t\treturn getMoveObjectType(resp);\n\t}\n\treturn data?.type;\n}\n\nexport function getObjectPreviousTransactionDigest(\n\tresp: SuiObjectResponse,\n): string | null | undefined {\n\treturn getSuiObjectData(resp)?.previousTransaction;\n}\n\nexport function getObjectOwner(\n\tresp: SuiObjectResponse | ObjectOwner,\n): ObjectOwner | null | undefined {\n\tif (is(resp, ObjectOwner)) {\n\t\treturn resp;\n\t}\n\treturn getSuiObjectData(resp)?.owner;\n}\n\nexport function getObjectDisplay(resp: SuiObjectResponse): DisplayFieldsResponse {\n\tconst display = getSuiObjectData(resp)?.display;\n\tif (!display) {\n\t\treturn { data: null, error: null };\n\t}\n\tif (is(display, DisplayFieldsResponse)) {\n\t\treturn display;\n\t}\n\treturn {\n\t\tdata: display,\n\t\terror: null,\n\t};\n}\n\nexport function getSharedObjectInitialVersion(\n\tresp: SuiObjectResponse | ObjectOwner,\n): string | null | undefined {\n\tconst owner = getObjectOwner(resp);\n\tif (owner && typeof owner === 'object' && 'Shared' in owner) {\n\t\treturn owner.Shared.initial_shared_version;\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\nexport function isSharedObject(resp: SuiObjectResponse | ObjectOwner): boolean {\n\tconst owner = getObjectOwner(resp);\n\treturn !!owner && typeof owner === 'object' && 'Shared' in owner;\n}\n\nexport function isImmutableObject(resp: SuiObjectResponse | ObjectOwner): boolean {\n\tconst owner = getObjectOwner(resp);\n\treturn owner === 'Immutable';\n}\n\nexport function getMoveObjectType(resp: SuiObjectResponse): string | undefined {\n\treturn getMoveObject(resp)?.type;\n}\n\nexport function getObjectFields(\n\tresp: SuiObjectResponse | SuiMoveObject | SuiObjectData,\n): ObjectContentFields | undefined {\n\tif ('fields' in resp) {\n\t\treturn resp.fields;\n\t}\n\treturn getMoveObject(resp)?.fields;\n}\n\nexport interface SuiObjectDataWithContent extends SuiObjectData {\n\tcontent: SuiParsedData;\n}\n\nfunction isSuiObjectDataWithContent(data: SuiObjectData): data is SuiObjectDataWithContent {\n\treturn data.content !== undefined;\n}\n\nexport function getMoveObject(data: SuiObjectResponse | SuiObjectData): SuiMoveObject | undefined {\n\tconst suiObject = 'data' in data ? getSuiObjectData(data) : (data as SuiObjectData);\n\n\tif (\n\t\t!suiObject ||\n\t\t!isSuiObjectDataWithContent(suiObject) ||\n\t\tsuiObject.content.dataType !== 'moveObject'\n\t) {\n\t\treturn undefined;\n\t}\n\n\treturn suiObject.content as SuiMoveObject;\n}\n\nexport function hasPublicTransfer(data: SuiObjectResponse | SuiObjectData): boolean {\n\treturn getMoveObject(data)?.hasPublicTransfer ?? false;\n}\n\nexport function getMovePackageContent(\n\tdata: SuiObjectResponse | SuiMovePackage,\n): MovePackageContent | undefined {\n\tif ('disassembled' in data) {\n\t\treturn data.disassembled;\n\t}\n\tconst suiObject = getSuiObjectData(data);\n\tif (suiObject?.content?.dataType !== 'package') {\n\t\treturn undefined;\n\t}\n\treturn (suiObject.content as SuiMovePackage).disassembled;\n}\n\nexport const CheckpointedObjectId = object({\n\tobjectId: string(),\n\tatCheckpoint: optional(number()),\n});\nexport type CheckpointedObjectId = Infer<typeof CheckpointedObjectId>;\n\nexport const PaginatedObjectsResponse = object({\n\tdata: array(SuiObjectResponse),\n\tnextCursor: optional(nullable(string())),\n\thasNextPage: boolean(),\n});\nexport type PaginatedObjectsResponse = Infer<typeof PaginatedObjectsResponse>;\n\n// mirrors sui_json_rpc_types:: SuiObjectDataFilter\nexport type SuiObjectDataFilter =\n\t| { MatchAll: SuiObjectDataFilter[] }\n\t| { MatchAny: SuiObjectDataFilter[] }\n\t| { MatchNone: SuiObjectDataFilter[] }\n\t| { Package: string }\n\t| { MoveModule: { package: string; module: string } }\n\t| { StructType: string }\n\t| { AddressOwner: string }\n\t| { ObjectOwner: string }\n\t| { ObjectId: string }\n\t| { ObjectIds: string[] }\n\t| { Version: string };\n\nexport type SuiObjectResponseQuery = {\n\tfilter?: SuiObjectDataFilter;\n\toptions?: SuiObjectDataOptions;\n};\n\nexport const ObjectRead = union([\n\tobject({\n\t\tdetails: SuiObjectData,\n\t\tstatus: literal('VersionFound'),\n\t}),\n\tobject({\n\t\tdetails: string(),\n\t\tstatus: literal('ObjectNotExists'),\n\t}),\n\tobject({\n\t\tdetails: SuiObjectRef,\n\t\tstatus: literal('ObjectDeleted'),\n\t}),\n\tobject({\n\t\tdetails: tuple([string(), number()]),\n\t\tstatus: literal('VersionNotFound'),\n\t}),\n\tobject({\n\t\tdetails: object({\n\t\t\tasked_version: number(),\n\t\t\tlatest_version: number(),\n\t\t\tobject_id: string(),\n\t\t}),\n\t\tstatus: literal('VersionTooHigh'),\n\t}),\n]);\nexport type ObjectRead = Infer<typeof ObjectRead>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport { boolean, define, literal, nullable, object, record, string, union } from 'superstruct';\nimport type { CallArg } from '../bcs/index';\n\n/** @deprecated Use `string` instead. */\nexport const TransactionDigest = string();\n/** @deprecated Use `string` instead. */\nexport type TransactionDigest = Infer<typeof TransactionDigest>;\n\n/** @deprecated Use `string` instead. */\nexport const TransactionEffectsDigest = string();\n/** @deprecated Use `string` instead. */\nexport type TransactionEffectsDigest = Infer<typeof TransactionEffectsDigest>;\n\n/** @deprecated Use `string` instead. */\nexport const TransactionEventDigest = string();\n/** @deprecated Use `string` instead. */\nexport type TransactionEventDigest = Infer<typeof TransactionEventDigest>;\n\n/** @deprecated Use `string` instead. */\nexport const ObjectId = string();\n/** @deprecated Use `string` instead. */\nexport type ObjectId = Infer<typeof ObjectId>;\n\n/** @deprecated Use `string` instead. */\nexport const SuiAddress = string();\n/** @deprecated Use `string` instead. */\nexport type SuiAddress = Infer<typeof SuiAddress>;\n\n/** @deprecated Use `string` instead. */\nexport const SequenceNumber = string();\n/** @deprecated Use `string` instead. */\nexport type SequenceNumber = Infer<typeof SequenceNumber>;\n\nexport const ObjectOwner = union([\n\tobject({\n\t\tAddressOwner: string(),\n\t}),\n\tobject({\n\t\tObjectOwner: string(),\n\t}),\n\tobject({\n\t\tShared: object({\n\t\t\tinitial_shared_version: nullable(string()),\n\t\t}),\n\t}),\n\tliteral('Immutable'),\n]);\nexport type ObjectOwner = Infer<typeof ObjectOwner>;\n\nexport type SuiJsonValue = boolean | number | string | CallArg | Array<SuiJsonValue>;\nexport const SuiJsonValue = define<SuiJsonValue>('SuiJsonValue', () => true);\n\nconst ProtocolConfigValue = union([\n\tobject({ u32: string() }),\n\tobject({ u64: string() }),\n\tobject({ f64: string() }),\n]);\ntype ProtocolConfigValue = Infer<typeof ProtocolConfigValue>;\n\nexport const ProtocolConfig = object({\n\tattributes: record(string(), nullable(ProtocolConfigValue)),\n\tfeatureFlags: record(string(), boolean()),\n\tmaxSupportedProtocolVersion: string(),\n\tminSupportedProtocolVersion: string(),\n\tprotocolVersion: string(),\n});\nexport type ProtocolConfig = Infer<typeof ProtocolConfig>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport {\n  is,\n  array,\n  literal,\n  number,\n  object,\n  optional,\n  string,\n  union,\n  boolean,\n  tuple,\n  assign,\n  nullable,\n} from 'superstruct';\n\nimport { ObjectOwner, SuiJsonValue } from './common';\nimport { SuiEvent } from './events';\nimport { SuiGasData, SuiMovePackage, SuiObjectRef } from './objects';\n\n/** @deprecated Use `string` instead. */\nexport const EpochId = string();\n\nexport const SuiChangeEpoch = object({\n  epoch: string(),\n  storage_charge: string(),\n  computation_charge: string(),\n  storage_rebate: string(),\n  epoch_start_timestamp_ms: optional(string()),\n});\nexport type SuiChangeEpoch = Infer<typeof SuiChangeEpoch>;\n\nexport const SuiConsensusCommitPrologue = object({\n  epoch: string(),\n  round: string(),\n  commit_timestamp_ms: string(),\n});\nexport type SuiConsensusCommitPrologue = Infer<\n  typeof SuiConsensusCommitPrologue\n>;\n\nexport const Genesis = object({\n  objects: array(string()),\n});\nexport type Genesis = Infer<typeof Genesis>;\n\nexport const SuiArgument = union([\n  literal('GasCoin'),\n  object({ Input: number() }),\n  object({ Result: number() }),\n  object({ NestedResult: tuple([number(), number()]) }),\n]);\nexport type SuiArgument = Infer<typeof SuiArgument>;\n\nexport const MoveCallSuiTransaction = object({\n  arguments: optional(array(SuiArgument)),\n  type_arguments: optional(array(string())),\n  package: string(),\n  module: string(),\n  function: string(),\n});\nexport type MoveCallSuiTransaction = Infer<typeof MoveCallSuiTransaction>;\n\nexport const SuiTransaction = union([\n  object({ MoveCall: MoveCallSuiTransaction }),\n  object({ TransferObjects: tuple([array(SuiArgument), SuiArgument]) }),\n  object({ SplitCoins: tuple([SuiArgument, array(SuiArgument)]) }),\n  object({ MergeCoins: tuple([SuiArgument, array(SuiArgument)]) }),\n  object({\n    Publish: union([\n      // TODO: Remove this after 0.34 is released:\n      tuple([SuiMovePackage, array(string())]),\n      array(string()),\n    ]),\n  }),\n  object({\n    Upgrade: union([\n      // TODO: Remove this after 0.34 is released:\n      tuple([SuiMovePackage, array(string()), string(), SuiArgument]),\n      tuple([array(string()), string(), SuiArgument]),\n    ]),\n  }),\n  object({ MakeMoveVec: tuple([nullable(string()), array(SuiArgument)]) }),\n]);\n\nexport const SuiCallArg = union([\n  object({\n    type: literal('pure'),\n    valueType: nullable(string()),\n    value: SuiJsonValue,\n  }),\n  object({\n    type: literal('object'),\n    objectType: literal('immOrOwnedObject'),\n    objectId: string(),\n    version: string(),\n    digest: string(),\n  }),\n  object({\n    type: literal('object'),\n    objectType: literal('sharedObject'),\n    objectId: string(),\n    initialSharedVersion: string(),\n    mutable: boolean(),\n  }),\n]);\nexport type SuiCallArg = Infer<typeof SuiCallArg>;\n\nexport const ProgrammableTransaction = object({\n  transactions: array(SuiTransaction),\n  inputs: array(SuiCallArg),\n});\nexport type ProgrammableTransaction = Infer<typeof ProgrammableTransaction>;\nexport type SuiTransaction = Infer<typeof SuiTransaction>;\n\n/**\n * 1. WaitForEffectsCert: waits for TransactionEffectsCert and then returns to the client.\n *    This mode is a proxy for transaction finality.\n * 2. WaitForLocalExecution: waits for TransactionEffectsCert and makes sure the node\n *    executed the transaction locally before returning to the client. The local execution\n *    makes sure this node is aware of this transaction when the client fires subsequent queries.\n *    However, if the node fails to execute the transaction locally in a timely manner,\n *    a bool type in the response is set to false to indicate the case.\n */\nexport type ExecuteTransactionRequestType =\n  | 'WaitForEffectsCert'\n  | 'WaitForLocalExecution';\n\nexport type TransactionKindName =\n  | 'ChangeEpoch'\n  | 'ConsensusCommitPrologue'\n  | 'Genesis'\n  | 'ProgrammableTransaction';\n\nexport const SuiTransactionBlockKind = union([\n  assign(SuiChangeEpoch, object({ kind: literal('ChangeEpoch') })),\n  assign(\n    SuiConsensusCommitPrologue,\n    object({\n      kind: literal('ConsensusCommitPrologue'),\n    }),\n  ),\n  assign(Genesis, object({ kind: literal('Genesis') })),\n  assign(\n    ProgrammableTransaction,\n    object({ kind: literal('ProgrammableTransaction') }),\n  ),\n]);\nexport type SuiTransactionBlockKind = Infer<typeof SuiTransactionBlockKind>;\n\nexport const SuiTransactionBlockData = object({\n  // Eventually this will become union(literal('v1'), literal('v2'), ...)\n  messageVersion: literal('v1'),\n  transaction: SuiTransactionBlockKind,\n  sender: string(),\n  gasData: SuiGasData,\n});\nexport type SuiTransactionBlockData = Infer<typeof SuiTransactionBlockData>;\n\n/** @deprecated Use `string` instead. */\nexport const AuthoritySignature = string();\nexport const GenericAuthoritySignature = union([string(), array(string())]);\n\nexport const AuthorityQuorumSignInfo = object({\n  epoch: string(),\n  signature: GenericAuthoritySignature,\n  signers_map: array(number()),\n});\nexport type AuthorityQuorumSignInfo = Infer<typeof AuthorityQuorumSignInfo>;\n\nexport const GasCostSummary = object({\n  computationCost: string(),\n  storageCost: string(),\n  storageRebate: string(),\n  nonRefundableStorageFee: string(),\n});\nexport type GasCostSummary = Infer<typeof GasCostSummary>;\n\nexport const ExecutionStatusType = union([\n  literal('success'),\n  literal('failure'),\n]);\nexport type ExecutionStatusType = Infer<typeof ExecutionStatusType>;\n\nexport const ExecutionStatus = object({\n  status: ExecutionStatusType,\n  error: optional(string()),\n});\nexport type ExecutionStatus = Infer<typeof ExecutionStatus>;\n\nexport const OwnedObjectRef = object({\n  owner: ObjectOwner,\n  reference: SuiObjectRef,\n});\nexport type OwnedObjectRef = Infer<typeof OwnedObjectRef>;\nexport const TransactionEffectsModifiedAtVersions = object({\n  objectId: string(),\n  sequenceNumber: string(),\n});\n\nexport const TransactionEffects = object({\n  // Eventually this will become union(literal('v1'), literal('v2'), ...)\n  messageVersion: literal('v1'),\n\n  /** The status of the execution */\n  status: ExecutionStatus,\n  /** The epoch when this transaction was executed */\n  executedEpoch: string(),\n  /** The version that every modified (mutated or deleted) object had before it was modified by this transaction. **/\n  modifiedAtVersions: optional(array(TransactionEffectsModifiedAtVersions)),\n  gasUsed: GasCostSummary,\n  /** The object references of the shared objects used in this transaction. Empty if no shared objects were used. */\n  sharedObjects: optional(array(SuiObjectRef)),\n  /** The transaction digest */\n  transactionDigest: string(),\n  /** ObjectRef and owner of new objects created */\n  created: optional(array(OwnedObjectRef)),\n  /** ObjectRef and owner of mutated objects, including gas object */\n  mutated: optional(array(OwnedObjectRef)),\n  /**\n   * ObjectRef and owner of objects that are unwrapped in this transaction.\n   * Unwrapped objects are objects that were wrapped into other objects in the past,\n   * and just got extracted out.\n   */\n  unwrapped: optional(array(OwnedObjectRef)),\n  /** Object Refs of objects now deleted (the old refs) */\n  deleted: optional(array(SuiObjectRef)),\n  /** Object Refs of objects now deleted (the old refs) */\n  unwrappedThenDeleted: optional(array(SuiObjectRef)),\n  /** Object refs of objects now wrapped in other objects */\n  wrapped: optional(array(SuiObjectRef)),\n  /**\n   * The updated gas object reference. Have a dedicated field for convenient access.\n   * It's also included in mutated.\n   */\n  gasObject: OwnedObjectRef,\n  /** The events emitted during execution. Note that only successful transactions emit events */\n  eventsDigest: nullable(optional(string())),\n  /** The set of transaction digests this transaction depends on */\n  dependencies: optional(array(string())),\n});\nexport type TransactionEffects = Infer<typeof TransactionEffects>;\n\nexport const TransactionEvents = array(SuiEvent);\nexport type TransactionEvents = Infer<typeof TransactionEvents>;\n\nconst ReturnValueType = tuple([array(number()), string()]);\nconst MutableReferenceOutputType = tuple([\n  SuiArgument,\n  array(number()),\n  string(),\n]);\nconst ExecutionResultType = object({\n  mutableReferenceOutputs: optional(array(MutableReferenceOutputType)),\n  returnValues: optional(array(ReturnValueType)),\n});\n\nexport const DevInspectResults = object({\n  effects: TransactionEffects,\n  events: TransactionEvents,\n  results: optional(array(ExecutionResultType)),\n  error: optional(string()),\n});\nexport type DevInspectResults = Infer<typeof DevInspectResults>;\n\nexport type SuiTransactionBlockResponseQuery = {\n  filter?: TransactionFilter;\n  options?: SuiTransactionBlockResponseOptions;\n};\n\nexport type TransactionFilter =\n  | { FromOrToAddress: { addr: string } }\n  | { Checkpoint: string }\n  | { FromAndToAddress: { from: string; to: string } }\n  | { TransactionKind: string }\n  | {\n      MoveFunction: {\n        package: string;\n        module: string | null;\n        function: string | null;\n      };\n    }\n  | { InputObject: string }\n  | { ChangedObject: string }\n  | { FromAddress: string }\n  | { ToAddress: string };\n\nexport type EmptySignInfo = object;\n\n/** @deprecated Use `string` instead. */\nexport const AuthorityName = string();\n/** @deprecated Use `string` instead. */\nexport type AuthorityName = Infer<typeof AuthorityName>;\n\nexport const SuiTransactionBlock = object({\n  data: SuiTransactionBlockData,\n  txSignatures: array(string()),\n});\nexport type SuiTransactionBlock = Infer<typeof SuiTransactionBlock>;\n\nexport const SuiObjectChangePublished = object({\n  type: literal('published'),\n  packageId: string(),\n  version: string(),\n  digest: string(),\n  modules: array(string()),\n});\nexport type SuiObjectChangePublished = Infer<typeof SuiObjectChangePublished>;\n\nexport const SuiObjectChangeTransferred = object({\n  type: literal('transferred'),\n  sender: string(),\n  recipient: ObjectOwner,\n  objectType: string(),\n  objectId: string(),\n  version: string(),\n  digest: string(),\n});\nexport type SuiObjectChangeTransferred = Infer<\n  typeof SuiObjectChangeTransferred\n>;\n\nexport const SuiObjectChangeMutated = object({\n  type: literal('mutated'),\n  sender: string(),\n  owner: ObjectOwner,\n  objectType: string(),\n  objectId: string(),\n  version: string(),\n  previousVersion: string(),\n  digest: string(),\n});\nexport type SuiObjectChangeMutated = Infer<typeof SuiObjectChangeMutated>;\n\nexport const SuiObjectChangeDeleted = object({\n  type: literal('deleted'),\n  sender: string(),\n  objectType: string(),\n  objectId: string(),\n  version: string(),\n});\nexport type SuiObjectChangeDeleted = Infer<typeof SuiObjectChangeDeleted>;\n\nexport const SuiObjectChangeWrapped = object({\n  type: literal('wrapped'),\n  sender: string(),\n  objectType: string(),\n  objectId: string(),\n  version: string(),\n});\nexport type SuiObjectChangeWrapped = Infer<typeof SuiObjectChangeWrapped>;\n\nexport const SuiObjectChangeCreated = object({\n  type: literal('created'),\n  sender: string(),\n  owner: ObjectOwner,\n  objectType: string(),\n  objectId: string(),\n  version: string(),\n  digest: string(),\n});\nexport type SuiObjectChangeCreated = Infer<typeof SuiObjectChangeCreated>;\n\nexport const SuiObjectChange = union([\n  SuiObjectChangePublished,\n  SuiObjectChangeTransferred,\n  SuiObjectChangeMutated,\n  SuiObjectChangeDeleted,\n  SuiObjectChangeWrapped,\n  SuiObjectChangeCreated,\n]);\nexport type SuiObjectChange = Infer<typeof SuiObjectChange>;\n\nexport const BalanceChange = object({\n  owner: ObjectOwner,\n  coinType: string(),\n  /* Coin balance change(positive means receive, negative means send) */\n  amount: string(),\n});\n\nexport const SuiTransactionBlockResponse = object({\n  digest: string(),\n  transaction: optional(SuiTransactionBlock),\n  effects: optional(TransactionEffects),\n  events: optional(TransactionEvents),\n  timestampMs: optional(string()),\n  checkpoint: optional(string()),\n  confirmedLocalExecution: optional(boolean()),\n  objectChanges: optional(array(SuiObjectChange)),\n  balanceChanges: optional(array(BalanceChange)),\n  /* Errors that occurred in fetching/serializing the transaction. */\n  errors: optional(array(string())),\n});\nexport type SuiTransactionBlockResponse = Infer<\n  typeof SuiTransactionBlockResponse\n>;\n\nexport const SuiTransactionBlockResponseOptions = object({\n  /* Whether to show transaction input data. Default to be false. */\n  showInput: optional(boolean()),\n  /* Whether to show transaction effects. Default to be false. */\n  showEffects: optional(boolean()),\n  /* Whether to show transaction events. Default to be false. */\n  showEvents: optional(boolean()),\n  /* Whether to show object changes. Default to be false. */\n  showObjectChanges: optional(boolean()),\n  /* Whether to show coin balance changes. Default to be false. */\n  showBalanceChanges: optional(boolean()),\n});\n\nexport type SuiTransactionBlockResponseOptions = Infer<\n  typeof SuiTransactionBlockResponseOptions\n>;\n\nexport const PaginatedTransactionResponse = object({\n  data: array(SuiTransactionBlockResponse),\n  nextCursor: nullable(string()),\n  hasNextPage: boolean(),\n});\nexport type PaginatedTransactionResponse = Infer<\n  typeof PaginatedTransactionResponse\n>;\nexport const DryRunTransactionBlockResponse = object({\n  effects: TransactionEffects,\n  events: TransactionEvents,\n  objectChanges: array(SuiObjectChange),\n  balanceChanges: array(BalanceChange),\n  // TODO: Remove optional when this is rolled out to all networks:\n  input: optional(SuiTransactionBlockData),\n});\nexport type DryRunTransactionBlockResponse = Infer<\n  typeof DryRunTransactionBlockResponse\n>;\n\n/* -------------------------------------------------------------------------- */\n/*                              Helper functions                              */\n/* -------------------------------------------------------------------------- */\n\nexport function getTransaction(\n  tx: SuiTransactionBlockResponse,\n): SuiTransactionBlock | undefined {\n  return tx.transaction;\n}\n\nexport function getTransactionDigest(tx: SuiTransactionBlockResponse): string {\n  return tx.digest;\n}\n\nexport function getTransactionSignature(\n  tx: SuiTransactionBlockResponse,\n): string[] | undefined {\n  return tx.transaction?.txSignatures;\n}\n\n/* ----------------------------- TransactionData ---------------------------- */\n\nexport function getTransactionSender(\n  tx: SuiTransactionBlockResponse,\n): string | undefined {\n  return tx.transaction?.data.sender;\n}\n\nexport function getGasData(\n  tx: SuiTransactionBlockResponse,\n): SuiGasData | undefined {\n  return tx.transaction?.data.gasData;\n}\n\nexport function getTransactionGasObject(\n  tx: SuiTransactionBlockResponse,\n): SuiObjectRef[] | undefined {\n  return getGasData(tx)?.payment;\n}\n\nexport function getTransactionGasPrice(tx: SuiTransactionBlockResponse) {\n  return getGasData(tx)?.price;\n}\n\nexport function getTransactionGasBudget(tx: SuiTransactionBlockResponse) {\n  return getGasData(tx)?.budget;\n}\n\nexport function getChangeEpochTransaction(\n  data: SuiTransactionBlockKind,\n): SuiChangeEpoch | undefined {\n  return data.kind === 'ChangeEpoch' ? data : undefined;\n}\n\nexport function getConsensusCommitPrologueTransaction(\n  data: SuiTransactionBlockKind,\n): SuiConsensusCommitPrologue | undefined {\n  return data.kind === 'ConsensusCommitPrologue' ? data : undefined;\n}\n\nexport function getTransactionKind(\n  data: SuiTransactionBlockResponse,\n): SuiTransactionBlockKind | undefined {\n  return data.transaction?.data.transaction;\n}\n\nexport function getTransactionKindName(\n  data: SuiTransactionBlockKind,\n): TransactionKindName {\n  return data.kind;\n}\n\nexport function getProgrammableTransaction(\n  data: SuiTransactionBlockKind,\n): ProgrammableTransaction | undefined {\n  return data.kind === 'ProgrammableTransaction' ? data : undefined;\n}\n\n/* ----------------------------- ExecutionStatus ---------------------------- */\n\nexport function getExecutionStatusType(\n  data: SuiTransactionBlockResponse,\n): ExecutionStatusType | undefined {\n  return getExecutionStatus(data)?.status;\n}\n\nexport function getExecutionStatus(\n  data: SuiTransactionBlockResponse,\n): ExecutionStatus | undefined {\n  return getTransactionEffects(data)?.status;\n}\n\nexport function getExecutionStatusError(\n  data: SuiTransactionBlockResponse,\n): string | undefined {\n  return getExecutionStatus(data)?.error;\n}\n\nexport function getExecutionStatusGasSummary(\n  data: SuiTransactionBlockResponse | TransactionEffects,\n): GasCostSummary | undefined {\n  if (is(data, TransactionEffects)) {\n    return data.gasUsed;\n  }\n  return getTransactionEffects(data)?.gasUsed;\n}\n\nexport function getTotalGasUsed(\n  data: SuiTransactionBlockResponse | TransactionEffects,\n): bigint | undefined {\n  const gasSummary = getExecutionStatusGasSummary(data);\n  return gasSummary\n    ? BigInt(gasSummary.computationCost) +\n        BigInt(gasSummary.storageCost) -\n        BigInt(gasSummary.storageRebate)\n    : undefined;\n}\n\nexport function getTotalGasUsedUpperBound(\n  data: SuiTransactionBlockResponse | TransactionEffects,\n): bigint | undefined {\n  const gasSummary = getExecutionStatusGasSummary(data);\n  return gasSummary\n    ? BigInt(gasSummary.computationCost) + BigInt(gasSummary.storageCost)\n    : undefined;\n}\n\nexport function getTransactionEffects(\n  data: SuiTransactionBlockResponse,\n): TransactionEffects | undefined {\n  return data.effects;\n}\n\n/* ---------------------------- Transaction Effects --------------------------- */\n\nexport function getEvents(\n  data: SuiTransactionBlockResponse,\n): SuiEvent[] | undefined {\n  return data.events;\n}\n\nexport function getCreatedObjects(\n  data: SuiTransactionBlockResponse,\n): OwnedObjectRef[] | undefined {\n  return getTransactionEffects(data)?.created;\n}\n\n/* --------------------------- TransactionResponse -------------------------- */\n\nexport function getTimestampFromTransactionResponse(\n  data: SuiTransactionBlockResponse,\n): string | undefined {\n  return data.timestampMs ?? undefined;\n}\n\n/**\n * Get the newly created coin refs after a split.\n */\nexport function getNewlyCreatedCoinRefsAfterSplit(\n  data: SuiTransactionBlockResponse,\n): SuiObjectRef[] | undefined {\n  return getTransactionEffects(data)?.created?.map((c) => c.reference);\n}\n\nexport function getObjectChanges(\n  data: SuiTransactionBlockResponse,\n): SuiObjectChange[] | undefined {\n  return data.objectChanges;\n}\n\nexport function getPublishedObjectChanges(\n  data: SuiTransactionBlockResponse,\n): SuiObjectChangePublished[] {\n  return (\n    (data.objectChanges?.filter((a) =>\n      is(a, SuiObjectChangePublished),\n    ) as SuiObjectChangePublished[]) ?? []\n  );\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport {\n  object,\n  string,\n  array,\n  record,\n  any,\n  optional,\n  boolean,\n  nullable,\n} from 'superstruct';\nimport type { SuiJsonValue } from './common';\n\nexport const EventId = object({\n  txDigest: string(),\n  eventSeq: string(),\n});\n\n// event types mirror those in \"sui-json-rpc-types/src/sui_event.rs\"\n\nexport const SuiEvent = object({\n  id: EventId,\n  // Move package where this event was emitted.\n  packageId: string(),\n  // Move module where this event was emitted.\n  transactionModule: string(),\n  // Sender's Sui address.\n  sender: string(),\n  // Move event type.\n  type: string(),\n  // Parsed json value of the event\n  parsedJson: optional(record(string(), any())),\n  // Base 58 encoded bcs bytes of the move event\n  bcs: optional(string()),\n  timestampMs: optional(string()),\n});\n\nexport type SuiEvent = Infer<typeof SuiEvent>;\n\nexport type MoveEventField = {\n  path: string;\n  value: SuiJsonValue;\n};\n\n/**\n * Sequential event ID, ie (transaction seq number, event seq number).\n * 1) Serves as a unique event ID for each fullnode\n * 2) Also serves to sequence events for the purposes of pagination and querying.\n *    A higher id is an event seen later by that fullnode.\n * This ID is the \"cursor\" for event querying.\n */\nexport type EventId = Infer<typeof EventId>;\n\n// mirrors sui_json_rpc_types::SuiEventFilter\nexport type SuiEventFilter =\n  | { Package: string }\n  | { MoveModule: { package: string; module: string } }\n  | { MoveEventType: string }\n  | { MoveEventField: MoveEventField }\n  | { Transaction: string }\n  | {\n      TimeRange: {\n        // left endpoint of time interval, milliseconds since epoch, inclusive\n        startTime: string;\n        // right endpoint of time interval, milliseconds since epoch, exclusive\n        endTime: string;\n      };\n    }\n  | { Sender: string }\n  | { All: SuiEventFilter[] }\n  | { Any: SuiEventFilter[] }\n  | { And: [SuiEventFilter, SuiEventFilter] }\n  | { Or: [SuiEventFilter, SuiEventFilter] };\n\nexport const PaginatedEvents = object({\n  data: array(SuiEvent),\n  nextCursor: nullable(EventId),\n  hasNextPage: boolean(),\n});\nexport type PaginatedEvents = Infer<typeof PaginatedEvents>;\n\n/* ------------------------------- EventData ------------------------------ */\n\nexport function getEventSender(event: SuiEvent): string {\n  return event.sender;\n}\n\nexport function getEventPackage(event: SuiEvent): string {\n  return event.packageId;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport {\n  array,\n  object,\n  string,\n  union,\n  boolean,\n  define,\n  number,\n  literal,\n  record,\n  is,\n  tuple,\n} from 'superstruct';\n\nexport type SuiMoveFunctionArgTypesResponse = Infer<\n  typeof SuiMoveFunctionArgType\n>[];\n\nexport const SuiMoveFunctionArgType = union([\n  string(),\n  object({ Object: string() }),\n]);\n\nexport const SuiMoveFunctionArgTypes = array(SuiMoveFunctionArgType);\nexport type SuiMoveFunctionArgTypes = Infer<typeof SuiMoveFunctionArgTypes>;\n\nexport const SuiMoveModuleId = object({\n  address: string(),\n  name: string(),\n});\nexport type SuiMoveModuleId = Infer<typeof SuiMoveModuleId>;\n\nexport const SuiMoveVisibility = union([\n  literal('Private'),\n  literal('Public'),\n  literal('Friend'),\n]);\nexport type SuiMoveVisibility = Infer<typeof SuiMoveVisibility>;\n\nexport const SuiMoveAbilitySet = object({\n  abilities: array(string()),\n});\nexport type SuiMoveAbilitySet = Infer<typeof SuiMoveAbilitySet>;\n\nexport const SuiMoveStructTypeParameter = object({\n  constraints: SuiMoveAbilitySet,\n  isPhantom: boolean(),\n});\nexport type SuiMoveStructTypeParameter = Infer<\n  typeof SuiMoveStructTypeParameter\n>;\n\nexport const SuiMoveNormalizedTypeParameterType = object({\n  TypeParameter: number(),\n});\nexport type SuiMoveNormalizedTypeParameterType = Infer<\n  typeof SuiMoveNormalizedTypeParameterType\n>;\n\nexport type SuiMoveNormalizedType =\n  | string\n  | SuiMoveNormalizedTypeParameterType\n  | { Reference: SuiMoveNormalizedType }\n  | { MutableReference: SuiMoveNormalizedType }\n  | { Vector: SuiMoveNormalizedType }\n  | SuiMoveNormalizedStructType;\n\nexport const MoveCallMetric = tuple([\n  object({\n    module: string(),\n    package: string(),\n    function: string(),\n  }),\n  string(),\n]);\n\nexport type MoveCallMetric = Infer<typeof MoveCallMetric>;\n\nexport const MoveCallMetrics = object({\n  rank3Days: array(MoveCallMetric),\n  rank7Days: array(MoveCallMetric),\n  rank30Days: array(MoveCallMetric),\n});\n\nexport type MoveCallMetrics = Infer<typeof MoveCallMetrics>;\n\nfunction isSuiMoveNormalizedType(\n  value: unknown,\n): value is SuiMoveNormalizedType {\n  if (!value) return false;\n  if (typeof value === 'string') return true;\n  if (is(value, SuiMoveNormalizedTypeParameterType)) return true;\n  if (isSuiMoveNormalizedStructType(value)) return true;\n  if (typeof value !== 'object') return false;\n\n  const valueProperties = value as Record<string, unknown>;\n  if (is(valueProperties.Reference, SuiMoveNormalizedType)) return true;\n  if (is(valueProperties.MutableReference, SuiMoveNormalizedType)) return true;\n  if (is(valueProperties.Vector, SuiMoveNormalizedType)) return true;\n  return false;\n}\n\nexport const SuiMoveNormalizedType = define<SuiMoveNormalizedType>(\n  'SuiMoveNormalizedType',\n  isSuiMoveNormalizedType,\n);\n\nexport type SuiMoveNormalizedStructType = {\n  Struct: {\n    address: string;\n    module: string;\n    name: string;\n    typeArguments: SuiMoveNormalizedType[];\n  };\n};\n\nfunction isSuiMoveNormalizedStructType(\n  value: unknown,\n): value is SuiMoveNormalizedStructType {\n  if (!value || typeof value !== 'object') return false;\n\n  const valueProperties = value as Record<string, unknown>;\n  if (!valueProperties.Struct || typeof valueProperties.Struct !== 'object')\n    return false;\n\n  const structProperties = valueProperties.Struct as Record<string, unknown>;\n  if (\n    typeof structProperties.address !== 'string' ||\n    typeof structProperties.module !== 'string' ||\n    typeof structProperties.name !== 'string' ||\n    !Array.isArray(structProperties.typeArguments) ||\n    !structProperties.typeArguments.every((value) =>\n      isSuiMoveNormalizedType(value),\n    )\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\n// NOTE: This type is recursive, so we need to manually implement it:\nexport const SuiMoveNormalizedStructType = define<SuiMoveNormalizedStructType>(\n  'SuiMoveNormalizedStructType',\n  isSuiMoveNormalizedStructType,\n);\n\nexport const SuiMoveNormalizedFunction = object({\n  visibility: SuiMoveVisibility,\n  isEntry: boolean(),\n  typeParameters: array(SuiMoveAbilitySet),\n  parameters: array(SuiMoveNormalizedType),\n  return: array(SuiMoveNormalizedType),\n});\nexport type SuiMoveNormalizedFunction = Infer<typeof SuiMoveNormalizedFunction>;\n\nexport const SuiMoveNormalizedField = object({\n  name: string(),\n  type: SuiMoveNormalizedType,\n});\nexport type SuiMoveNormalizedField = Infer<typeof SuiMoveNormalizedField>;\n\nexport const SuiMoveNormalizedStruct = object({\n  abilities: SuiMoveAbilitySet,\n  typeParameters: array(SuiMoveStructTypeParameter),\n  fields: array(SuiMoveNormalizedField),\n});\nexport type SuiMoveNormalizedStruct = Infer<typeof SuiMoveNormalizedStruct>;\n\nexport const SuiMoveNormalizedModule = object({\n  fileFormatVersion: number(),\n  address: string(),\n  name: string(),\n  friends: array(SuiMoveModuleId),\n  structs: record(string(), SuiMoveNormalizedStruct),\n  exposedFunctions: record(string(), SuiMoveNormalizedFunction),\n});\nexport type SuiMoveNormalizedModule = Infer<typeof SuiMoveNormalizedModule>;\n\nexport const SuiMoveNormalizedModules = record(\n  string(),\n  SuiMoveNormalizedModule,\n);\nexport type SuiMoveNormalizedModules = Infer<typeof SuiMoveNormalizedModules>;\n\nexport function extractMutableReference(\n  normalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n  return typeof normalizedType === 'object' &&\n    'MutableReference' in normalizedType\n    ? normalizedType.MutableReference\n    : undefined;\n}\n\nexport function extractReference(\n  normalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n  return typeof normalizedType === 'object' && 'Reference' in normalizedType\n    ? normalizedType.Reference\n    : undefined;\n}\n\nexport function extractStructTag(\n  normalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedStructType | undefined {\n  if (typeof normalizedType === 'object' && 'Struct' in normalizedType) {\n    return normalizedType;\n  }\n\n  const ref = extractReference(normalizedType);\n  const mutRef = extractMutableReference(normalizedType);\n\n  if (typeof ref === 'object' && 'Struct' in ref) {\n    return ref;\n  }\n\n  if (typeof mutRef === 'object' && 'Struct' in mutRef) {\n    return mutRef;\n  }\n  return undefined;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport {\n  array,\n  boolean,\n  literal,\n  number,\n  object,\n  string,\n  union,\n  nullable,\n  tuple,\n  optional,\n} from 'superstruct';\n\n/* -------------- Types for the SuiSystemState Rust definition -------------- */\n\nexport type DelegatedStake = Infer<typeof DelegatedStake>;\nexport type CommitteeInfo = Infer<typeof CommitteeInfo>;\nexport type StakeObject = Infer<typeof StakeObject>;\n\n// APY Response\nexport const Apy = object({\n  apy: number(),\n  address: string(),\n});\n\nexport const ValidatorsApy = object({\n  epoch: string(),\n  apys: array(Apy),\n});\n\nexport type ValidatorsApy = Infer<typeof ValidatorsApy>;\n\n// Staking\nexport const Balance = object({\n  value: number(),\n});\n\nexport const StakeObject = object({\n  stakedSuiId: string(),\n  stakeRequestEpoch: string(),\n  stakeActiveEpoch: string(),\n  principal: string(),\n  status: union([literal('Active'), literal('Pending'), literal('Unstaked')]),\n  estimatedReward: optional(string()),\n});\n\nexport const DelegatedStake = object({\n  validatorAddress: string(),\n  stakingPool: string(),\n  stakes: array(StakeObject),\n});\n\nexport const StakeSubsidyFields = object({\n  balance: object({ value: number() }),\n  distribution_counter: number(),\n  current_distribution_amount: number(),\n  stake_subsidy_period_length: number(),\n  stake_subsidy_decrease_rate: number(),\n});\n\nexport const StakeSubsidy = object({\n  type: string(),\n  fields: StakeSubsidyFields,\n});\n\nexport const SuiSupplyFields = object({\n  value: number(),\n});\n\nexport const ContentsFields = object({\n  id: string(),\n  size: number(),\n  head: object({ vec: array() }),\n  tail: object({ vec: array() }),\n});\n\nexport const ContentsFieldsWithdraw = object({\n  id: string(),\n  size: number(),\n});\n\nexport const Contents = object({\n  type: string(),\n  fields: ContentsFields,\n});\n\nexport const DelegationStakingPoolFields = object({\n  exchangeRates: object({\n    id: string(),\n    size: number(),\n  }),\n  id: string(),\n  pendingStake: number(),\n  pendingPoolTokenWithdraw: number(),\n  pendingTotalSuiWithdraw: number(),\n  poolTokenBalance: number(),\n  rewardsPool: object({ value: number() }),\n  activationEpoch: object({ vec: array() }),\n  deactivationEpoch: object({ vec: array() }),\n  suiBalance: number(),\n});\n\nexport const DelegationStakingPool = object({\n  type: string(),\n  fields: DelegationStakingPoolFields,\n});\n\nexport const Validators = array(tuple([string(), string()]));\n\nexport const CommitteeInfo = object({\n  epoch: string(),\n  /** Array of (validator public key, stake unit) tuple */\n  validators: Validators,\n});\n\nexport const SuiValidatorSummary = object({\n  suiAddress: string(),\n  protocolPubkeyBytes: string(),\n  networkPubkeyBytes: string(),\n  workerPubkeyBytes: string(),\n  proofOfPossessionBytes: string(),\n  operationCapId: string(),\n  name: string(),\n  description: string(),\n  imageUrl: string(),\n  projectUrl: string(),\n  p2pAddress: string(),\n  netAddress: string(),\n  primaryAddress: string(),\n  workerAddress: string(),\n  nextEpochProtocolPubkeyBytes: nullable(string()),\n  nextEpochProofOfPossession: nullable(string()),\n  nextEpochNetworkPubkeyBytes: nullable(string()),\n  nextEpochWorkerPubkeyBytes: nullable(string()),\n  nextEpochNetAddress: nullable(string()),\n  nextEpochP2pAddress: nullable(string()),\n  nextEpochPrimaryAddress: nullable(string()),\n  nextEpochWorkerAddress: nullable(string()),\n  votingPower: string(),\n  gasPrice: string(),\n  commissionRate: string(),\n  nextEpochStake: string(),\n  nextEpochGasPrice: string(),\n  nextEpochCommissionRate: string(),\n  stakingPoolId: string(),\n  stakingPoolActivationEpoch: nullable(string()),\n  stakingPoolDeactivationEpoch: nullable(string()),\n  stakingPoolSuiBalance: string(),\n  rewardsPool: string(),\n  poolTokenBalance: string(),\n  pendingStake: string(),\n  pendingPoolTokenWithdraw: string(),\n  pendingTotalSuiWithdraw: string(),\n  exchangeRatesId: string(),\n  exchangeRatesSize: string(),\n});\n\nexport type SuiValidatorSummary = Infer<typeof SuiValidatorSummary>;\n\nexport const SuiSystemStateSummary = object({\n  epoch: string(),\n  protocolVersion: string(),\n  systemStateVersion: string(),\n  storageFundTotalObjectStorageRebates: string(),\n  storageFundNonRefundableBalance: string(),\n  referenceGasPrice: string(),\n  safeMode: boolean(),\n  safeModeStorageRewards: string(),\n  safeModeComputationRewards: string(),\n  safeModeStorageRebates: string(),\n  safeModeNonRefundableStorageFee: string(),\n  epochStartTimestampMs: string(),\n  epochDurationMs: string(),\n  stakeSubsidyStartEpoch: string(),\n  maxValidatorCount: string(),\n  minValidatorJoiningStake: string(),\n  validatorLowStakeThreshold: string(),\n  validatorVeryLowStakeThreshold: string(),\n  validatorLowStakeGracePeriod: string(),\n  stakeSubsidyBalance: string(),\n  stakeSubsidyDistributionCounter: string(),\n  stakeSubsidyCurrentDistributionAmount: string(),\n  stakeSubsidyPeriodLength: string(),\n  stakeSubsidyDecreaseRate: number(),\n  totalStake: string(),\n  activeValidators: array(SuiValidatorSummary),\n  pendingActiveValidatorsId: string(),\n  pendingActiveValidatorsSize: string(),\n  pendingRemovals: array(string()),\n  stakingPoolMappingsId: string(),\n  stakingPoolMappingsSize: string(),\n  inactivePoolsId: string(),\n  inactivePoolsSize: string(),\n  validatorCandidatesId: string(),\n  validatorCandidatesSize: string(),\n  atRiskValidators: array(tuple([string(), string()])),\n  validatorReportRecords: array(tuple([string(), array(string())])),\n});\n\nexport type SuiSystemStateSummary = Infer<typeof SuiSystemStateSummary>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport { array, boolean, nullable, number, object, optional, string } from 'superstruct';\n\nexport const CoinStruct = object({\n\tcoinType: string(),\n\t// TODO(chris): rename this to objectId\n\tcoinObjectId: string(),\n\tversion: string(),\n\tdigest: string(),\n\tbalance: string(),\n\tpreviousTransaction: string(),\n});\n\nexport type CoinStruct = Infer<typeof CoinStruct>;\n\nexport const PaginatedCoins = object({\n\tdata: array(CoinStruct),\n\tnextCursor: nullable(string()),\n\thasNextPage: boolean(),\n});\n\nexport type PaginatedCoins = Infer<typeof PaginatedCoins>;\n\nexport const CoinBalance = object({\n\tcoinType: string(),\n\tcoinObjectCount: number(),\n\ttotalBalance: string(),\n\tlockedBalance: object({\n\t\tepochId: optional(number()),\n\t\tnumber: optional(number()),\n\t}),\n});\n\nexport type CoinBalance = Infer<typeof CoinBalance>;\n\nexport const CoinSupply = object({\n\tvalue: string(),\n});\n\nexport type CoinSupply = Infer<typeof CoinSupply>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport type { Infer } from 'superstruct';\nimport { array, boolean, nullable, number, object, string } from 'superstruct';\nimport { SuiValidatorSummary } from './validator';\n\nexport const EndOfEpochInfo = object({\n\tlastCheckpointId: string(),\n\tepochEndTimestamp: string(),\n\tprotocolVersion: string(),\n\treferenceGasPrice: string(),\n\ttotalStake: string(),\n\tstorageFundReinvestment: string(),\n\tstorageCharge: string(),\n\tstorageRebate: string(),\n\tstorageFundBalance: string(),\n\tstakeSubsidyAmount: string(),\n\ttotalGasFees: string(),\n\ttotalStakeRewardsDistributed: string(),\n\tleftoverStorageFundInflow: string(),\n});\n\nexport type EndOfEpochInfo = Infer<typeof EndOfEpochInfo>;\n\nexport const EpochInfo = object({\n\tepoch: string(),\n\tvalidators: array(SuiValidatorSummary),\n\tepochTotalTransactions: string(),\n\tfirstCheckpointId: string(),\n\tepochStartTimestamp: string(),\n\tendOfEpochInfo: nullable(EndOfEpochInfo),\n\treferenceGasPrice: nullable(number()),\n});\n\nexport type EpochInfo = Infer<typeof EpochInfo>;\n\nexport const EpochPage = object({\n\tdata: array(EpochInfo),\n\tnextCursor: nullable(string()),\n\thasNextPage: boolean(),\n});\n\nexport type EpochPage = Infer<typeof EpochPage>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport { array, boolean, nullable, object, string } from 'superstruct';\n\nexport const ResolvedNameServiceNames = object({\n\tdata: array(string()),\n\thasNextPage: boolean(),\n\tnextCursor: nullable(string()),\n});\nexport type ResolvedNameServiceNames = Infer<typeof ResolvedNameServiceNames>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport { any, array, boolean, literal, nullable, number, object, string, union } from 'superstruct';\n\nexport const DynamicFieldType = union([literal('DynamicField'), literal('DynamicObject')]);\nexport type DynamicFieldType = Infer<typeof DynamicFieldType>;\n\nexport const DynamicFieldName = object({\n\ttype: string(),\n\tvalue: any(),\n});\nexport type DynamicFieldName = Infer<typeof DynamicFieldName>;\n\nexport const DynamicFieldInfo = object({\n\tname: DynamicFieldName,\n\tbcsName: string(),\n\ttype: DynamicFieldType,\n\tobjectType: string(),\n\tobjectId: string(),\n\tversion: number(),\n\tdigest: string(),\n});\nexport type DynamicFieldInfo = Infer<typeof DynamicFieldInfo>;\n\nexport const DynamicFieldPage = object({\n\tdata: array(DynamicFieldInfo),\n\tnextCursor: nullable(string()),\n\thasNextPage: boolean(),\n});\nexport type DynamicFieldPage = Infer<typeof DynamicFieldPage>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { array, number, object, string } from 'superstruct';\n\nexport const NetworkMetrics = object({\n  currentTps: number(),\n  tps30Days: number(),\n  currentCheckpoint: string(),\n  currentEpoch: string(),\n  totalAddresses: string(),\n  totalObjects: string(),\n  totalPackages: string(),\n});\nexport type NetworkMetrics = typeof NetworkMetrics.TYPE;\n\nexport const AddressMetrics = object({\n  checkpoint: number(),\n  epoch: number(),\n  timestampMs: number(),\n  cumulativeAddresses: number(),\n  cumulativeActiveAddresses: number(),\n  dailyActiveAddresses: number(),\n});\nexport type AddressMetrics = typeof AddressMetrics.TYPE;\n\nexport const AllEpochsAddressMetrics = array(AddressMetrics);\nexport type AllEpochsAddressMetrics = typeof AllEpochsAddressMetrics.TYPE;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ExportedKeypair } from '../../cryptography/keypair';\nimport { Keypair } from '../../cryptography/keypair';\nimport type { PublicKey } from '../../cryptography/publickey';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { Secp256r1PublicKey } from './publickey';\nimport { secp256r1 } from '@noble/curves/p256';\nimport { isValidBIP32Path, mnemonicToSeed } from '../../cryptography/mnemonics';\nimport { HDKey } from '@scure/bip32';\nimport { toB64 } from '@mysten/bcs';\nimport type { SignatureScheme } from '../../cryptography/signature';\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { blake2b } from '@noble/hashes/blake2b';\n\nexport const DEFAULT_SECP256R1_DERIVATION_PATH = \"m/74'/784'/0'/0/0\";\n\n/**\n * Secp256r1 Keypair data\n */\nexport interface Secp256r1KeypairData {\n  publicKey: Uint8Array;\n  secretKey: Uint8Array;\n}\n\n/**\n * An Secp256r1 Keypair used for signing transactions.\n */\nexport class Secp256r1Keypair extends Keypair {\n  private keypair: Secp256r1KeypairData;\n\n  /**\n   * Create a new keypair instance.\n   * Generate random keypair if no {@link Secp256r1Keypair} is provided.\n   *\n   * @param keypair Secp256r1 keypair\n   */\n  constructor(keypair?: Secp256r1KeypairData) {\n    super();\n    if (keypair) {\n      this.keypair = keypair;\n    } else {\n      const secretKey: Uint8Array = secp256r1.utils.randomPrivateKey();\n      const publicKey: Uint8Array = secp256r1.getPublicKey(secretKey, true);\n\n      this.keypair = { publicKey, secretKey };\n    }\n  }\n\n  /**\n   * Get the key scheme of the keypair Secp256r1\n   */\n  getKeyScheme(): SignatureScheme {\n    return 'Secp256r1';\n  }\n\n  /**\n   * Generate a new random keypair\n   */\n  static generate(): Secp256r1Keypair {\n    return new Secp256r1Keypair();\n  }\n\n  /**\n   * Create a keypair from a raw secret key byte array.\n   *\n   * This method should only be used to recreate a keypair from a previously\n   * generated secret key. Generating keypairs from a random seed should be done\n   * with the {@link Keypair.fromSeed} method.\n   *\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options: skip secret key validation\n   */\n\n  static fromSecretKey(\n    secretKey: Uint8Array,\n    options?: { skipValidation?: boolean },\n  ): Secp256r1Keypair {\n    const publicKey: Uint8Array = secp256r1.getPublicKey(secretKey, true);\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode('sui validation');\n      const msgHash = bytesToHex(blake2b(signData, { dkLen: 32 }));\n      const signature = secp256r1.sign(msgHash, secretKey, { lowS: true });\n      if (!secp256r1.verify(signature, msgHash, publicKey, { lowS: true })) {\n        throw new Error('Provided secretKey is invalid');\n      }\n    }\n    return new Secp256r1Keypair({ publicKey, secretKey });\n  }\n\n  /**\n   * Generate a keypair from a 32 byte seed.\n   *\n   * @param seed seed byte array\n   */\n  static fromSeed(seed: Uint8Array): Secp256r1Keypair {\n    let publicKey = secp256r1.getPublicKey(seed, true);\n    return new Secp256r1Keypair({ publicKey, secretKey: seed });\n  }\n\n  /**\n   * The public key for this keypair\n   */\n  getPublicKey(): PublicKey {\n    return new Secp256r1PublicKey(this.keypair.publicKey);\n  }\n\n  async sign(data: Uint8Array) {\n    return this.signData(data);\n  }\n\n  /**\n   * Return the signature for the provided data.\n   */\n  signData(data: Uint8Array): Uint8Array {\n    const msgHash = sha256(data);\n    const sig = secp256r1.sign(msgHash, this.keypair.secretKey, {\n      lowS: true,\n    });\n    return sig.toCompactRawBytes();\n  }\n\n  /**\n   * Derive Secp256r1 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/74'/784'/0'/0/0, otherwise the path must\n   * be compliant to BIP-32 in form m/74'/784'/{account_index}'/{change_index}/{address_index}.\n   */\n  static deriveKeypair(mnemonics: string, path?: string): Secp256r1Keypair {\n    if (path == null) {\n      path = DEFAULT_SECP256R1_DERIVATION_PATH;\n    }\n    if (!isValidBIP32Path(path)) {\n      throw new Error('Invalid derivation path');\n    }\n    // We use HDKey which is hardcoded to use Secp256k1 but since we only need the 32 bytes for the private key it's okay to use here as well.\n    const privateKey = HDKey.fromMasterSeed(mnemonicToSeed(mnemonics)).derive(\n      path,\n    ).privateKey;\n    return Secp256r1Keypair.fromSecretKey(privateKey!);\n  }\n\n  export(): ExportedKeypair {\n    return {\n      schema: 'Secp256r1',\n      privateKey: toB64(this.keypair.secretKey),\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { RequestManager, HTTPTransport, Client } from '@open-rpc/client-js';\nimport type { Struct } from 'superstruct';\nimport { validate } from 'superstruct';\nimport { PACKAGE_VERSION, TARGETED_RPC_VERSION } from '../version';\nimport { RPCValidationError } from './errors';\n\n/**\n * An object defining headers to be passed to the RPC server\n */\nexport type HttpHeaders = { [header: string]: string };\n\nexport class JsonRpcClient {\n  private rpcClient: Client;\n\n  constructor(url: string, httpHeaders?: HttpHeaders) {\n    const transport = new HTTPTransport(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Client-Sdk-Type': 'typescript',\n        'Client-Sdk-Version': PACKAGE_VERSION,\n        'Client-Target-Api-Version': TARGETED_RPC_VERSION,\n        ...httpHeaders,\n      },\n    });\n\n    this.rpcClient = new Client(new RequestManager([transport]));\n  }\n\n  async requestWithType<T>(\n    method: string,\n    args: any[],\n    struct: Struct<T>,\n  ): Promise<T> {\n    const req = { method, args };\n\n    const response = await this.request(method, args);\n\n    if (process.env.NODE_ENV === 'test') {\n      const [err] = validate(response, struct);\n      if (err) {\n        throw new RPCValidationError({\n          req,\n          result: response,\n          cause: err,\n        });\n      }\n    }\n\n    return response;\n  }\n\n  async request(method: string, params: any[]): Promise<any> {\n    return await this.rpcClient.request({ method, params });\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// This file is generated by genversion.mjs. Do not edit it directly.\n\nexport const PACKAGE_VERSION = '0.40.0';\nexport const TARGETED_RPC_VERSION = '1.8.0';\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\ninterface RPCErrorRequest {\n\tmethod: string;\n\targs: any[];\n}\n\nexport class RPCValidationError extends Error {\n\treq: RPCErrorRequest;\n\tresult?: unknown;\n\n\tconstructor(options: { req: RPCErrorRequest; result?: unknown; cause?: Error }) {\n\t\tsuper(\n\t\t\t'RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.',\n\t\t\t// @ts-ignore\n\t\t\t{ cause: options.cause },\n\t\t);\n\n\t\tthis.req = options.req;\n\t\tthis.result = options.result;\n\t\tthis.message = this.toString();\n\t}\n\n\ttoString() {\n\t\tlet str = super.toString();\n\t\t// @ts-ignore\n\t\tif (this.cause) {\n\t\t\t// @ts-ignore\n\t\t\tstr += `\\nCause: ${this.cause}`;\n\t\t}\n\t\tif (this.result) {\n\t\t\tstr += `\\nReponse Received: ${JSON.stringify(this.result, null, 2)}`;\n\t\t}\n\t\treturn str;\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  RequestManager,\n  Client,\n  WebSocketTransport,\n} from '@open-rpc/client-js';\n\nexport const getWebsocketUrl = (httpUrl: string, port?: number): string => {\n  const url = new URL(httpUrl);\n  url.protocol = url.protocol.replace('http', 'ws');\n  if (port) {\n    url.port = port.toString();\n  }\n  return url.toString();\n};\n\ntype NotificationMessageParams = {\n  subscription: number;\n  result: object;\n};\n\ntype SubscriptionRequest<T = any> = {\n  id?: number;\n  initialId?: number;\n  method: string;\n  unsubscribe: string;\n  params: any[];\n  onMessage: (event: T) => void;\n};\n\n/**\n * Configuration options for the websocket connection\n */\nexport type WebsocketClientOptions = {\n  /**\n   * Milliseconds before timing out while calling an RPC method\n   */\n  callTimeout: number;\n  /**\n   * Milliseconds between attempts to connect\n   */\n  reconnectTimeout: number;\n  /**\n   * Maximum number of times to try connecting before giving up\n   */\n  maxReconnects: number;\n};\n\nexport const DEFAULT_CLIENT_OPTIONS: WebsocketClientOptions = {\n  callTimeout: 30000,\n  reconnectTimeout: 3000,\n  maxReconnects: 5,\n};\n\nexport class WebsocketClient {\n  #client: Client | null;\n  #subscriptions: Map<number, SubscriptionRequest & { id: number }>;\n  #disconnects: number;\n\n  constructor(\n    public endpoint: string,\n    public options: WebsocketClientOptions = DEFAULT_CLIENT_OPTIONS,\n  ) {\n    if (this.endpoint.startsWith('http')) {\n      this.endpoint = getWebsocketUrl(this.endpoint);\n    }\n\n    this.#client = null;\n    this.#subscriptions = new Map();\n    this.#disconnects = 0;\n  }\n\n  #setupClient() {\n    if (this.#client) {\n      return this.#client;\n    }\n\n    const transport = new WebSocketTransport(this.endpoint);\n    const requestManager = new RequestManager([transport]);\n    this.#client = new Client(requestManager);\n\n    transport.connection.addEventListener('open', () => {\n      this.#disconnects = 0;\n    });\n\n    transport.connection.addEventListener('close', () => {\n      this.#disconnects++;\n      if (this.#disconnects <= this.options.maxReconnects) {\n        setTimeout(() => {\n          this.#reconnect();\n        }, this.options.reconnectTimeout);\n      }\n    });\n\n    this.#client.onNotification((data) => {\n      const params = data.params as NotificationMessageParams;\n\n      this.#subscriptions.forEach((subscription) => {\n        if (\n          subscription.method === data.method &&\n          params.subscription === subscription.id\n        ) {\n          subscription.onMessage(params.result);\n        }\n      });\n    });\n\n    return this.#client;\n  }\n\n  #reconnect() {\n    this.#client?.close();\n    this.#client = null;\n\n    this.#subscriptions.forEach((subscription) => this.request(subscription));\n  }\n\n  async request<T>(input: SubscriptionRequest<T>) {\n    const client = this.#setupClient();\n    const id = await client.request(\n      { method: input.method, params: input.params },\n      this.options.callTimeout,\n    );\n    const initialId = input.initialId || id;\n    this.#subscriptions.set(initialId, {\n      ...input,\n      // Always set the latest actual subscription ID:\n      id,\n      initialId,\n    });\n\n    return async () => {\n      const client = this.#setupClient();\n      // NOTE: Due to reconnects, the inner subscription ID could have actually changed:\n      const subscription = this.#subscriptions.get(initialId);\n      if (!subscription) return false;\n\n      this.#subscriptions.delete(initialId);\n\n      return client.request(\n        { method: input.unsubscribe, params: [subscription.id] },\n        this.options.callTimeout,\n      );\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { HttpHeaders } from '../rpc/client';\nimport { JsonRpcClient } from '../rpc/client';\nimport type {\n  ExecuteTransactionRequestType,\n  SuiEventFilter,\n  SuiTransactionBlockResponseQuery,\n  Order,\n  CheckpointDigest,\n  SuiObjectDataOptions,\n  SuiTransactionBlockResponseOptions,\n  SuiEvent,\n  SuiObjectResponseQuery,\n  TransactionFilter,\n  TransactionEffects,\n  Unsubscribe,\n} from '../types/index';\nimport {\n  PaginatedTransactionResponse,\n  SuiMoveFunctionArgTypes,\n  SuiMoveNormalizedFunction,\n  SuiMoveNormalizedModule,\n  SuiMoveNormalizedModules,\n  SuiMoveNormalizedStruct,\n  SuiTransactionBlockResponse,\n  PaginatedEvents,\n  DevInspectResults,\n  PaginatedCoins,\n  SuiObjectResponse,\n  DelegatedStake,\n  CoinBalance,\n  CoinSupply,\n  Checkpoint,\n  CommitteeInfo,\n  DryRunTransactionBlockResponse,\n  SuiSystemStateSummary,\n  PaginatedObjectsResponse,\n  ValidatorsApy,\n  MoveCallMetrics,\n  ObjectRead,\n  ResolvedNameServiceNames,\n  ProtocolConfig,\n} from '../types/index';\nimport type { DynamicFieldName } from '../types/dynamic_fields';\nimport { DynamicFieldPage } from '../types/dynamic_fields';\nimport type { WebsocketClientOptions } from '../rpc/websocket-client';\nimport {\n  DEFAULT_CLIENT_OPTIONS,\n  WebsocketClient,\n} from '../rpc/websocket-client';\nimport { any, array, string, nullable } from 'superstruct';\nimport { fromB58, toB64, toHEX } from '@mysten/bcs';\nimport type { SerializedSignature } from '../cryptography/signature';\nimport type { Connection } from '../rpc/connection';\nimport { devnetConnection } from '../rpc/connection';\nimport type { TransactionBlock } from '../builder/index';\nimport { isTransactionBlock } from '../builder/index';\nimport { CheckpointPage } from '../types/checkpoints';\nimport {\n  NetworkMetrics,\n  AddressMetrics,\n  AllEpochsAddressMetrics,\n} from '../types/metrics';\nimport { EpochInfo, EpochPage } from '../types/epochs';\nimport { requestSuiFromFaucetV0 } from '../faucet/index';\nimport {\n  isValidSuiAddress,\n  isValidSuiObjectId,\n  isValidTransactionDigest,\n  normalizeSuiAddress,\n  normalizeSuiObjectId,\n} from '../utils/sui-types';\nimport type { CoinMetadata } from '../framework/framework';\nimport { CoinMetadataStruct } from '../framework/framework';\n\nexport interface PaginationArguments<Cursor> {\n  /** Optional paging cursor */\n  cursor?: Cursor;\n  /** Maximum item returned per page */\n  limit?: number | null;\n}\n\nexport interface OrderArguments {\n  order?: Order | null;\n}\n\n/**\n * Configuration options for the JsonRpcProvider. If the value of a field is not provided,\n * value in `DEFAULT_OPTIONS` for that field will be used\n */\nexport type RpcProviderOptions = {\n  /**\n   * Configuration options for the websocket connection\n   * TODO: Move to connection.\n   */\n  socketOptions?: WebsocketClientOptions;\n  /**\n   * Cache timeout in seconds for the RPC API Version\n   */\n  versionCacheTimeoutInSeconds?: number;\n\n  /** Allow defining a custom RPC client to use */\n  rpcClient?: JsonRpcClient;\n\n  /** Allow defining a custom websocket client to use */\n  websocketClient?: WebsocketClient;\n};\n\nconst DEFAULT_OPTIONS: RpcProviderOptions = {\n  socketOptions: DEFAULT_CLIENT_OPTIONS,\n  versionCacheTimeoutInSeconds: 600,\n};\n\nexport class JsonRpcProvider {\n  public connection: Connection;\n  protected client: JsonRpcClient;\n  protected wsClient: WebsocketClient;\n  private rpcApiVersion: string | undefined;\n  private cacheExpiry: number | undefined;\n  /**\n   * Establish a connection to a Sui RPC endpoint\n   *\n   * @param connection The `Connection` object containing configuration for the network.\n   * @param options configuration options for the provider\n   */\n  constructor(\n    // TODO: Probably remove the default endpoint here:\n    connection: Connection = devnetConnection,\n    public options: RpcProviderOptions = DEFAULT_OPTIONS,\n  ) {\n    this.connection = connection;\n\n    const opts = { ...DEFAULT_OPTIONS, ...options };\n    this.options = opts;\n    // TODO: add header for websocket request\n    this.client = opts.rpcClient ?? new JsonRpcClient(this.connection.fullnode);\n\n    this.wsClient =\n      opts.websocketClient ??\n      new WebsocketClient(this.connection.websocket, opts.socketOptions);\n  }\n\n  async getRpcApiVersion(): Promise<string | undefined> {\n    if (\n      this.rpcApiVersion &&\n      this.cacheExpiry &&\n      this.cacheExpiry <= Date.now()\n    ) {\n      return this.rpcApiVersion;\n    }\n\n    try {\n      const resp = await this.client.requestWithType('rpc.discover', [], any());\n      this.rpcApiVersion = resp.info.version;\n      this.cacheExpiry =\n        // Date.now() is in milliseconds, but the timeout is in seconds\n        Date.now() + (this.options.versionCacheTimeoutInSeconds ?? 0) * 1000;\n      return this.rpcApiVersion;\n    } catch (err) {\n      console.warn('Error fetching version number of the RPC API', err);\n    }\n    return undefined;\n  }\n\n  /** @deprecated Use `@mysten/sui.js/faucet` instead. */\n  async requestSuiFromFaucet(recipient: string, headers?: HttpHeaders) {\n    if (!this.connection.faucet) {\n      throw new Error('Faucet URL is not specified');\n    }\n\n    return requestSuiFromFaucetV0({\n      host: this.connection.faucet,\n      recipient,\n      headers,\n    });\n  }\n\n  /**\n   * Get all Coin<`coin_type`> objects owned by an address.\n   */\n  async getCoins(\n    input: {\n      owner: string;\n      coinType?: string | null;\n    } & PaginationArguments<PaginatedCoins['nextCursor']>,\n  ): Promise<PaginatedCoins> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n\n    return await this.client.requestWithType(\n      'suix_getCoins',\n      [input.owner, input.coinType, input.cursor, input.limit],\n      PaginatedCoins,\n    );\n  }\n\n  /**\n   * Get all Coin objects owned by an address.\n   */\n  async getAllCoins(\n    input: {\n      owner: string;\n    } & PaginationArguments<PaginatedCoins['nextCursor']>,\n  ): Promise<PaginatedCoins> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n\n    return await this.client.requestWithType(\n      'suix_getAllCoins',\n      [input.owner, input.cursor, input.limit],\n      PaginatedCoins,\n    );\n  }\n\n  /**\n   * Get the total coin balance for one coin type, owned by the address owner.\n   */\n  async getBalance(input: {\n    owner: string;\n    /** optional fully qualified type names for the coin (e.g., 0x168da5bf1f48dafc111b0a488fa454aca95e0b5e::usdc::USDC), default to 0x2::sui::SUI if not specified. */\n    coinType?: string | null;\n  }): Promise<CoinBalance> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n    return await this.client.requestWithType(\n      'suix_getBalance',\n      [input.owner, input.coinType],\n      CoinBalance,\n    );\n  }\n\n  /**\n   * Get the total coin balance for all coin types, owned by the address owner.\n   */\n  async getAllBalances(input: { owner: string }): Promise<CoinBalance[]> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n    return await this.client.requestWithType(\n      'suix_getAllBalances',\n      [input.owner],\n      array(CoinBalance),\n    );\n  }\n\n  /**\n   * Fetch CoinMetadata for a given coin type\n   */\n  async getCoinMetadata(input: {\n    coinType: string;\n  }): Promise<CoinMetadata | null> {\n    return await this.client.requestWithType(\n      'suix_getCoinMetadata',\n      [input.coinType],\n      CoinMetadataStruct,\n    );\n  }\n\n  /**\n   *  Fetch total supply for a coin\n   */\n  async getTotalSupply(input: { coinType: string }): Promise<CoinSupply> {\n    return await this.client.requestWithType(\n      'suix_getTotalSupply',\n      [input.coinType],\n      CoinSupply,\n    );\n  }\n\n  /**\n   * Invoke any RPC method\n   * @param method the method to be invoked\n   * @param args the arguments to be passed to the RPC request\n   */\n  async call(method: string, params: any[]): Promise<any> {\n    return await this.client.request(method, params);\n  }\n\n  /**\n   * Get Move function argument types like read, write and full access\n   */\n  async getMoveFunctionArgTypes(input: {\n    package: string;\n    module: string;\n    function: string;\n  }): Promise<SuiMoveFunctionArgTypes> {\n    return await this.client.requestWithType(\n      'sui_getMoveFunctionArgTypes',\n      [input.package, input.module, input.function],\n      SuiMoveFunctionArgTypes,\n    );\n  }\n\n  /**\n   * Get a map from module name to\n   * structured representations of Move modules\n   */\n  async getNormalizedMoveModulesByPackage(input: {\n    package: string;\n  }): Promise<SuiMoveNormalizedModules> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveModulesByPackage',\n      [input.package],\n      SuiMoveNormalizedModules,\n    );\n  }\n\n  /**\n   * Get a structured representation of Move module\n   */\n  async getNormalizedMoveModule(input: {\n    package: string;\n    module: string;\n  }): Promise<SuiMoveNormalizedModule> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveModule',\n      [input.package, input.module],\n      SuiMoveNormalizedModule,\n    );\n  }\n\n  /**\n   * Get a structured representation of Move function\n   */\n  async getNormalizedMoveFunction(input: {\n    package: string;\n    module: string;\n    function: string;\n  }): Promise<SuiMoveNormalizedFunction> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveFunction',\n      [input.package, input.module, input.function],\n      SuiMoveNormalizedFunction,\n    );\n  }\n\n  /**\n   * Get a structured representation of Move struct\n   */\n  async getNormalizedMoveStruct(input: {\n    package: string;\n    module: string;\n    struct: string;\n  }): Promise<SuiMoveNormalizedStruct> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveStruct',\n      [input.package, input.module, input.struct],\n      SuiMoveNormalizedStruct,\n    );\n  }\n\n  /**\n   * Get all objects owned by an address\n   */\n  async getOwnedObjects(\n    input: {\n      owner: string;\n    } & PaginationArguments<PaginatedObjectsResponse['nextCursor']> &\n      SuiObjectResponseQuery,\n  ): Promise<PaginatedObjectsResponse> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n\n    return await this.client.requestWithType(\n      'suix_getOwnedObjects',\n      [\n        input.owner,\n        {\n          filter: input.filter,\n          options: input.options,\n        } as SuiObjectResponseQuery,\n        input.cursor,\n        input.limit,\n      ],\n      PaginatedObjectsResponse,\n    );\n  }\n\n  /**\n   * Get details about an object\n   */\n  async getObject(input: {\n    id: string;\n    options?: SuiObjectDataOptions;\n  }): Promise<SuiObjectResponse> {\n    if (!input.id || !isValidSuiObjectId(normalizeSuiObjectId(input.id))) {\n      throw new Error('Invalid Sui Object id');\n    }\n    return await this.client.requestWithType(\n      'sui_getObject',\n      [input.id, input.options],\n      SuiObjectResponse,\n    );\n  }\n\n  async tryGetPastObject(input: {\n    id: string;\n    version: number;\n    options?: SuiObjectDataOptions;\n  }): Promise<ObjectRead> {\n    return await this.client.requestWithType(\n      'sui_tryGetPastObject',\n      [input.id, input.version, input.options],\n      ObjectRead,\n    );\n  }\n\n  /**\n   * Batch get details about a list of objects. If any of the object ids are duplicates the call will fail\n   */\n  async multiGetObjects(input: {\n    ids: string[];\n    options?: SuiObjectDataOptions;\n  }): Promise<SuiObjectResponse[]> {\n    input.ids.forEach((id) => {\n      if (!id || !isValidSuiObjectId(normalizeSuiObjectId(id))) {\n        throw new Error(`Invalid Sui Object id ${id}`);\n      }\n    });\n    const hasDuplicates = input.ids.length !== new Set(input.ids).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate object ids in batch call ${input.ids}`);\n    }\n\n    return await this.client.requestWithType(\n      'sui_multiGetObjects',\n      [input.ids, input.options],\n      array(SuiObjectResponse),\n    );\n  }\n\n  /**\n   * Get transaction blocks for a given query criteria\n   */\n  async queryTransactionBlocks(\n    input: SuiTransactionBlockResponseQuery &\n      PaginationArguments<PaginatedTransactionResponse['nextCursor']> &\n      OrderArguments,\n  ): Promise<PaginatedTransactionResponse> {\n    return await this.client.requestWithType(\n      'suix_queryTransactionBlocks',\n      [\n        {\n          filter: input.filter,\n          options: input.options,\n        } as SuiTransactionBlockResponseQuery,\n        input.cursor,\n        input.limit,\n        (input.order || 'descending') === 'descending',\n      ],\n      PaginatedTransactionResponse,\n    );\n  }\n\n  async getTransactionBlock(input: {\n    digest: string;\n    options?: SuiTransactionBlockResponseOptions;\n  }): Promise<SuiTransactionBlockResponse> {\n    if (!isValidTransactionDigest(input.digest)) {\n      throw new Error('Invalid Transaction digest');\n    }\n    return await this.client.requestWithType(\n      'sui_getTransactionBlock',\n      [input.digest, input.options],\n      SuiTransactionBlockResponse,\n    );\n  }\n\n  async multiGetTransactionBlocks(input: {\n    digests: string[];\n    options?: SuiTransactionBlockResponseOptions;\n  }): Promise<SuiTransactionBlockResponse[]> {\n    input.digests.forEach((d) => {\n      if (!isValidTransactionDigest(d)) {\n        throw new Error(`Invalid Transaction digest ${d}`);\n      }\n    });\n\n    const hasDuplicates = input.digests.length !== new Set(input.digests).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate digests in batch call ${input.digests}`);\n    }\n\n    return await this.client.requestWithType(\n      'sui_multiGetTransactionBlocks',\n      [input.digests, input.options],\n      array(SuiTransactionBlockResponse),\n    );\n  }\n\n  async executeTransactionBlock(input: {\n    transactionBlock: Uint8Array | string;\n    signature: SerializedSignature | SerializedSignature[];\n    options?: SuiTransactionBlockResponseOptions;\n    requestType?: ExecuteTransactionRequestType;\n  }): Promise<SuiTransactionBlockResponse> {\n    return await this.client.requestWithType(\n      'sui_executeTransactionBlock',\n      [\n        typeof input.transactionBlock === 'string'\n          ? input.transactionBlock\n          : toB64(input.transactionBlock),\n        Array.isArray(input.signature) ? input.signature : [input.signature],\n        input.options,\n        input.requestType,\n      ],\n      SuiTransactionBlockResponse,\n    );\n  }\n\n  /**\n   * Get total number of transactions\n   */\n\n  async getTotalTransactionBlocks(): Promise<bigint> {\n    const resp = await this.client.requestWithType(\n      'sui_getTotalTransactionBlocks',\n      [],\n      string(),\n    );\n    return BigInt(resp);\n  }\n\n  /**\n   * Getting the reference gas price for the network\n   */\n  async getReferenceGasPrice(): Promise<bigint> {\n    const resp = await this.client.requestWithType(\n      'suix_getReferenceGasPrice',\n      [],\n      string(),\n    );\n    return BigInt(resp);\n  }\n\n  /**\n   * Return the delegated stakes for an address\n   */\n  async getStakes(input: { owner: string }): Promise<DelegatedStake[]> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n    return await this.client.requestWithType(\n      'suix_getStakes',\n      [input.owner],\n      array(DelegatedStake),\n    );\n  }\n\n  /**\n   * Return the delegated stakes queried by id.\n   */\n  async getStakesByIds(input: {\n    stakedSuiIds: string[];\n  }): Promise<DelegatedStake[]> {\n    input.stakedSuiIds.forEach((id) => {\n      if (!id || !isValidSuiObjectId(normalizeSuiObjectId(id))) {\n        throw new Error(`Invalid Sui Stake id ${id}`);\n      }\n    });\n    return await this.client.requestWithType(\n      'suix_getStakesByIds',\n      [input.stakedSuiIds],\n      array(DelegatedStake),\n    );\n  }\n\n  /**\n   * Return the latest system state content.\n   */\n  async getLatestSuiSystemState(): Promise<SuiSystemStateSummary> {\n    return await this.client.requestWithType(\n      'suix_getLatestSuiSystemState',\n      [],\n      SuiSystemStateSummary,\n    );\n  }\n\n  /**\n   * Get events for a given query criteria\n   */\n  async queryEvents(\n    input: {\n      /** the event query criteria. */\n      query: SuiEventFilter;\n    } & PaginationArguments<PaginatedEvents['nextCursor']> &\n      OrderArguments,\n  ): Promise<PaginatedEvents> {\n    return await this.client.requestWithType(\n      'suix_queryEvents',\n      [\n        input.query,\n        input.cursor,\n        input.limit,\n        (input.order || 'descending') === 'descending',\n      ],\n      PaginatedEvents,\n    );\n  }\n\n  /**\n   * Subscribe to get notifications whenever an event matching the filter occurs\n   */\n  async subscribeEvent(input: {\n    /** filter describing the subset of events to follow */\n    filter: SuiEventFilter;\n    /** function to run when we receive a notification of a new event matching the filter */\n    onMessage: (event: SuiEvent) => void;\n  }): Promise<Unsubscribe> {\n    return this.wsClient.request({\n      method: 'suix_subscribeEvent',\n      unsubscribe: 'suix_unsubscribeEvent',\n      params: [input.filter],\n      onMessage: input.onMessage,\n    });\n  }\n\n  async subscribeTransaction(input: {\n    /** filter describing the subset of events to follow */\n    filter: TransactionFilter;\n    /** function to run when we receive a notification of a new event matching the filter */\n    onMessage: (event: TransactionEffects) => void;\n  }): Promise<Unsubscribe> {\n    return this.wsClient.request({\n      method: 'suix_subscribeTransaction',\n      unsubscribe: 'suix_unsubscribeTransaction',\n      params: [input.filter],\n      onMessage: input.onMessage,\n    });\n  }\n\n  /**\n   * Runs the transaction block in dev-inspect mode. Which allows for nearly any\n   * transaction (or Move call) with any arguments. Detailed results are\n   * provided, including both the transaction effects and any return values.\n   */\n  async devInspectTransactionBlock(input: {\n    transactionBlock: TransactionBlock | string | Uint8Array;\n    sender: string;\n    /** Default to use the network reference gas price stored in the Sui System State object */\n    gasPrice?: bigint | number | null;\n    /** optional. Default to use the current epoch number stored in the Sui System State object */\n    epoch?: string | null;\n  }): Promise<DevInspectResults> {\n    let devInspectTxBytes;\n    if (isTransactionBlock(input.transactionBlock)) {\n      input.transactionBlock.setSenderIfNotSet(input.sender);\n      devInspectTxBytes = toB64(\n        await input.transactionBlock.build({\n          provider: this,\n          onlyTransactionKind: true,\n        }),\n      );\n    } else if (typeof input.transactionBlock === 'string') {\n      devInspectTxBytes = input.transactionBlock;\n    } else if (input.transactionBlock instanceof Uint8Array) {\n      devInspectTxBytes = toB64(input.transactionBlock);\n    } else {\n      throw new Error('Unknown transaction block format.');\n    }\n\n    return await this.client.requestWithType(\n      'sui_devInspectTransactionBlock',\n      [input.sender, devInspectTxBytes, input.gasPrice, input.epoch],\n      DevInspectResults,\n    );\n  }\n\n  /**\n   * Dry run a transaction block and return the result.\n   */\n  async dryRunTransactionBlock(input: {\n    transactionBlock: Uint8Array | string;\n  }): Promise<DryRunTransactionBlockResponse> {\n    return await this.client.requestWithType(\n      'sui_dryRunTransactionBlock',\n      [\n        typeof input.transactionBlock === 'string'\n          ? input.transactionBlock\n          : toB64(input.transactionBlock),\n      ],\n      DryRunTransactionBlockResponse,\n    );\n  }\n\n  /**\n   * Return the list of dynamic field objects owned by an object\n   */\n  async getDynamicFields(\n    input: {\n      /** The id of the parent object */\n      parentId: string;\n    } & PaginationArguments<DynamicFieldPage['nextCursor']>,\n  ): Promise<DynamicFieldPage> {\n    if (\n      !input.parentId ||\n      !isValidSuiObjectId(normalizeSuiObjectId(input.parentId))\n    ) {\n      throw new Error('Invalid Sui Object id');\n    }\n    return await this.client.requestWithType(\n      'suix_getDynamicFields',\n      [input.parentId, input.cursor, input.limit],\n      DynamicFieldPage,\n    );\n  }\n\n  /**\n   * Return the dynamic field object information for a specified object\n   */\n  async getDynamicFieldObject(input: {\n    /** The ID of the quered parent object */\n    parentId: string;\n    /** The name of the dynamic field */\n    name: string | DynamicFieldName;\n  }): Promise<SuiObjectResponse> {\n    return await this.client.requestWithType(\n      'suix_getDynamicFieldObject',\n      [input.parentId, input.name],\n      SuiObjectResponse,\n    );\n  }\n\n  /**\n   * Get the sequence number of the latest checkpoint that has been executed\n   */\n  async getLatestCheckpointSequenceNumber(): Promise<string> {\n    const resp = await this.client.requestWithType(\n      'sui_getLatestCheckpointSequenceNumber',\n      [],\n      string(),\n    );\n    return String(resp);\n  }\n\n  /**\n   * Returns information about a given checkpoint\n   */\n  async getCheckpoint(input: {\n    /** The checkpoint digest or sequence number */\n    id: CheckpointDigest | string;\n  }): Promise<Checkpoint> {\n    return await this.client.requestWithType(\n      'sui_getCheckpoint',\n      [input.id],\n      Checkpoint,\n    );\n  }\n\n  /**\n   * Returns historical checkpoints paginated\n   */\n  async getCheckpoints(\n    input: {\n      /** query result ordering, default to false (ascending order), oldest record first */\n      descendingOrder: boolean;\n    } & PaginationArguments<CheckpointPage['nextCursor']>,\n  ): Promise<CheckpointPage> {\n    const resp = await this.client.requestWithType(\n      'sui_getCheckpoints',\n      [input.cursor, input?.limit, input.descendingOrder],\n      CheckpointPage,\n    );\n    return resp;\n  }\n\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCommitteeInfo(input?: {\n    /** The epoch of interest. If null, default to the latest epoch */\n    epoch?: string | null;\n  }): Promise<CommitteeInfo> {\n    return await this.client.requestWithType(\n      'suix_getCommitteeInfo',\n      [input?.epoch],\n      CommitteeInfo,\n    );\n  }\n\n  async getNetworkMetrics() {\n    return await this.client.requestWithType(\n      'suix_getNetworkMetrics',\n      [],\n      NetworkMetrics,\n    );\n  }\n\n  async getAddressMetrics() {\n    return await this.client.requestWithType(\n      'suix_getLatestAddressMetrics',\n      [],\n      AddressMetrics,\n    );\n  }\n\n  async getAllEpochAddressMetrics(input?: { descendingOrder?: boolean }) {\n    return await this.client.requestWithType(\n      'suix_getAllEpochAddressMetrics',\n      [input?.descendingOrder],\n      AllEpochsAddressMetrics,\n    );\n  }\n\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getEpochs(\n    input?: {\n      descendingOrder?: boolean;\n    } & PaginationArguments<EpochPage['nextCursor']>,\n  ): Promise<EpochPage> {\n    return await this.client.requestWithType(\n      'suix_getEpochs',\n      [input?.cursor, input?.limit, input?.descendingOrder],\n      EpochPage,\n    );\n  }\n\n  /**\n   * Returns list of top move calls by usage\n   */\n  async getMoveCallMetrics(): Promise<MoveCallMetrics> {\n    return await this.client.requestWithType(\n      'suix_getMoveCallMetrics',\n      [],\n      MoveCallMetrics,\n    );\n  }\n\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCurrentEpoch(): Promise<EpochInfo> {\n    return await this.client.requestWithType(\n      'suix_getCurrentEpoch',\n      [],\n      EpochInfo,\n    );\n  }\n\n  /**\n   * Return the Validators APYs\n   */\n  async getValidatorsApy(): Promise<ValidatorsApy> {\n    return await this.client.requestWithType(\n      'suix_getValidatorsApy',\n      [],\n      ValidatorsApy,\n    );\n  }\n\n  // TODO: Migrate this to `sui_getChainIdentifier` once it is widely available.\n  async getChainIdentifier(): Promise<string> {\n    const checkpoint = await this.getCheckpoint({ id: '0' });\n    const bytes = fromB58(checkpoint.digest);\n    return toHEX(bytes.slice(0, 4));\n  }\n\n  async resolveNameServiceAddress(input: {\n    name: string;\n  }): Promise<string | null> {\n    return await this.client.requestWithType(\n      'suix_resolveNameServiceAddress',\n      [input.name],\n      nullable(string()),\n    );\n  }\n\n  async resolveNameServiceNames(\n    input: {\n      address: string;\n    } & PaginationArguments<ResolvedNameServiceNames['nextCursor']>,\n  ): Promise<ResolvedNameServiceNames> {\n    return await this.client.requestWithType(\n      'suix_resolveNameServiceNames',\n      [input.address],\n      ResolvedNameServiceNames,\n    );\n  }\n\n  async getProtocolConfig(input?: {\n    version?: string;\n  }): Promise<ProtocolConfig> {\n    return await this.client.requestWithType(\n      'sui_getProtocolConfig',\n      [input?.version],\n      ProtocolConfig,\n    );\n  }\n\n  /**\n   * Wait for a transaction block result to be available over the API.\n   * This can be used in conjunction with `executeTransactionBlock` to wait for the transaction to\n   * be available via the API.\n   * This currently polls the `getTransactionBlock` API to check for the transaction.\n   */\n  async waitForTransactionBlock({\n    signal,\n    timeout = 60 * 1000,\n    pollInterval = 2 * 1000,\n    ...input\n  }: {\n    /** An optional abort signal that can be used to cancel */\n    signal?: AbortSignal;\n    /** The amount of time to wait for a transaction block. Defaults to one minute. */\n    timeout?: number;\n    /** The amount of time to wait between checks for the transaction block. Defaults to 2 seconds. */\n    pollInterval?: number;\n  } & Parameters<\n    JsonRpcProvider['getTransactionBlock']\n  >[0]): Promise<SuiTransactionBlockResponse> {\n\t// @ts-ignore\n    const timeoutSignal = AbortSignal.timeout(timeout);\n    const timeoutPromise = new Promise((_, reject) => {\n      timeoutSignal.addEventListener('abort', () =>\n        reject(timeoutSignal.reason),\n      );\n    });\n\n    timeoutPromise.catch(() => {\n      // Swallow unhandled rejections that might be thrown after early return\n    });\n\n    while (!timeoutSignal.aborted) {\n      signal?.throwIfAborted();\n      try {\n        return await this.getTransactionBlock(input);\n      } catch (e) {\n        // Wait for either the next poll interval, or the timeout.\n        await Promise.race([\n          new Promise((resolve) => setTimeout(resolve, pollInterval)),\n          timeoutPromise,\n        ]);\n      }\n    }\n\n    timeoutSignal.throwIfAborted();\n\n    // This should never happen, because the above case should always throw, but just adding it in the event that something goes horribly wrong.\n    throw new Error('Unexpected error while waiting for transaction block.');\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\ninterface ConnectionOptions {\n  fullnode: string;\n  websocket?: string;\n  /** @deprecated Use the new faucet APIs from `@mysten/sui.js/faucet` instead. */\n  faucet?: string;\n}\n\nexport class Connection {\n  #options: ConnectionOptions;\n  constructor(options: ConnectionOptions) {\n    this.#options = options;\n  }\n\n  get fullnode() {\n    return this.#options.fullnode;\n  }\n\n  // TODO: Decide if we should default the websocket URL like this:\n  get websocket() {\n    return this.#options.websocket || this.#options.fullnode;\n  }\n\n  /** @deprecated Use the new faucet APIs from `@mysten/sui.js/faucet` instead. */\n  get faucet() {\n    return this.#options.faucet;\n  }\n}\n\n// TODO: Maybe don't have pre-built connections, and instead just have pre-built objects that folks\n// can use with the connection?\nexport const localnetConnection = new Connection({\n  fullnode: 'http://127.0.0.1:9000',\n  faucet: 'http://127.0.0.1:9123/gas',\n});\n\nexport const devnetConnection = new Connection({\n  fullnode: 'https://fullnode.devnet.sui.io:443/',\n  faucet: 'https://faucet.devnet.sui.io/gas',\n});\n\nexport const testnetConnection = new Connection({\n  fullnode: 'https://fullnode.testnet.sui.io:443/',\n  faucet: 'https://faucet.testnet.sui.io/gas',\n});\n\nexport const mainnetConnection = new Connection({\n  fullnode: 'https://fullnode.mainnet.sui.io:443/',\n});\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport { is, mask } from 'superstruct';\nimport type { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport type { SuiObjectResponse } from '../types/index';\nimport {\n  extractMutableReference,\n  extractStructTag,\n  getObjectReference,\n  SuiObjectRef,\n} from '../types/index';\nimport type {\n  TransactionArgument,\n  TransactionType,\n  MoveCallTransaction,\n} from './Transactions';\nimport {\n  Transactions,\n  TransactionBlockInput,\n  getTransactionType,\n} from './Transactions';\nimport type { ObjectCallArg } from './Inputs';\nimport {\n  BuilderCallArg,\n  getIdFromCallArg,\n  Inputs,\n  isMutableSharedObjectInput,\n  PureCallArg,\n} from './Inputs';\nimport { getPureSerializationType, isTxContext } from './serializer';\nimport type { TransactionExpiration } from './TransactionBlockData';\nimport { TransactionBlockDataBuilder } from './TransactionBlockData';\nimport type { WellKnownEncoding } from './utils';\nimport { TRANSACTION_TYPE, create } from './utils';\nimport type {\n  ProtocolConfig,\n  SuiClient,\n  SuiMoveNormalizedType,\n} from '../client/index';\nimport { normalizeSuiObjectId } from '../utils/sui-types';\nimport { SUI_TYPE_ARG } from '../framework/framework';\nimport type { Keypair, SignatureWithBytes } from '../cryptography/index';\n\ntype TransactionResult = TransactionArgument & TransactionArgument[];\n\nconst DefaultOfflineLimits = {\n  maxPureArgumentSize: 16 * 1024,\n  maxTxGas: 50_000_000_000,\n  maxGasObjects: 256,\n  maxTxSizeBytes: 128 * 1024,\n};\n\nfunction createTransactionResult(index: number): TransactionResult {\n  const baseResult: TransactionArgument = { kind: 'Result', index };\n\n  const nestedResults: TransactionArgument[] = [];\n  const nestedResultFor = (resultIndex: number): TransactionArgument =>\n    (nestedResults[resultIndex] ??= {\n      kind: 'NestedResult',\n      index,\n      resultIndex,\n    });\n\n  return new Proxy(baseResult, {\n    set() {\n      throw new Error(\n        'The transaction result is a proxy, and does not support setting properties directly',\n      );\n    },\n    // TODO: Instead of making this return a concrete argument, we should ideally\n    // make it reference-based (so that this gets resolved at build-time), which\n    // allows re-ordering transactions.\n    get(target, property) {\n      // This allows this transaction argument to be used in the singular form:\n      if (property in target) {\n        return Reflect.get(target, property);\n      }\n\n      // Support destructuring:\n      if (property === Symbol.iterator) {\n        return function* () {\n          let i = 0;\n          while (true) {\n            yield nestedResultFor(i);\n            i++;\n          }\n        };\n      }\n\n      if (typeof property === 'symbol') return;\n\n      const resultIndex = parseInt(property, 10);\n      if (Number.isNaN(resultIndex) || resultIndex < 0) return;\n      return nestedResultFor(resultIndex);\n    },\n  }) as TransactionResult;\n}\n\nfunction expectClient(options: BuildOptions): SuiClient {\n  if (!options.client && !options.provider) {\n    throw new Error(\n      `No provider passed to Transaction#build, but transaction data was not sufficient to build offline.`,\n    );\n  }\n\n  return (options.client ?? options.provider!) as SuiClient;\n}\n\nconst TRANSACTION_BRAND = Symbol.for('@mysten/transaction');\n\nconst LIMITS = {\n  // The maximum gas that is allowed.\n  maxTxGas: 'max_tx_gas',\n  // The maximum number of gas objects that can be selected for one transaction.\n  maxGasObjects: 'max_gas_payment_objects',\n  // The maximum size (in bytes) that the transaction can be:\n  maxTxSizeBytes: 'max_tx_size_bytes',\n  // The maximum size (in bytes) that pure arguments can be:\n  maxPureArgumentSize: 'max_pure_argument_size',\n} as const;\n\ntype Limits = Partial<Record<keyof typeof LIMITS, number>>;\n\n// An amount of gas (in gas units) that is added to transactions as an overhead to ensure transactions do not fail.\nconst GAS_SAFE_OVERHEAD = 1000n;\n\n// The maximum objects that can be fetched at once using multiGetObjects.\nconst MAX_OBJECTS_PER_FETCH = 50;\n\nconst chunk = <T>(arr: T[], size: number): T[][] =>\n  Array.from({ length: Math.ceil(arr.length / size) }, (_, i) =>\n    arr.slice(i * size, i * size + size),\n  );\n\ninterface BuildOptions {\n  /**\n   * @deprecated Use `client` instead.\n   */\n  provider?: JsonRpcProvider | SuiClient;\n  client?: SuiClient | JsonRpcProvider;\n  onlyTransactionKind?: boolean;\n  /** Define a protocol config to build against, instead of having it fetched from the provider at build time. */\n  protocolConfig?: ProtocolConfig;\n  /** Define limits that are used when building the transaction. In general, we recommend using the protocol configuration instead of defining limits. */\n  limits?: Limits;\n}\n\ninterface SignOptions extends BuildOptions {\n  signer: Keypair;\n}\n\nexport function isTransactionBlock(obj: unknown): obj is TransactionBlock {\n  return (\n    !!obj && typeof obj === 'object' && (obj as any)[TRANSACTION_BRAND] === true\n  );\n}\n\n/**\n * Transaction Builder\n */\nexport class TransactionBlock {\n  /** Returns `true` if the object is an instance of the Transaction builder class.\n   * @deprecated Use `isTransactionBlock` from `@mysten/sui.js/transactions` instead.\n   */\n  static is(obj: unknown): obj is TransactionBlock {\n    return (\n      !!obj &&\n      typeof obj === 'object' &&\n      (obj as any)[TRANSACTION_BRAND] === true\n    );\n  }\n\n  /**\n   * Converts from a serialize transaction kind (built with `build({ onlyTransactionKind: true })`) to a `Transaction` class.\n   * Supports either a byte array, or base64-encoded bytes.\n   */\n  static fromKind(serialized: string | Uint8Array) {\n    const tx = new TransactionBlock();\n\n    tx.#blockData = TransactionBlockDataBuilder.fromKindBytes(\n      typeof serialized === 'string' ? fromB64(serialized) : serialized,\n    );\n\n    return tx;\n  }\n\n  /**\n   * Converts from a serialized transaction format to a `Transaction` class.\n   * There are two supported serialized formats:\n   * - A string returned from `Transaction#serialize`. The serialized format must be compatible, or it will throw an error.\n   * - A byte array (or base64-encoded bytes) containing BCS transaction data.\n   */\n  static from(serialized: string | Uint8Array) {\n    const tx = new TransactionBlock();\n\n    // Check for bytes:\n    if (typeof serialized !== 'string' || !serialized.startsWith('{')) {\n      tx.#blockData = TransactionBlockDataBuilder.fromBytes(\n        typeof serialized === 'string' ? fromB64(serialized) : serialized,\n      );\n    } else {\n      tx.#blockData = TransactionBlockDataBuilder.restore(\n        JSON.parse(serialized),\n      );\n    }\n\n    return tx;\n  }\n\n  /**\n   * A helper to retrieve the Transaction builder `Transactions`\n   * @deprecated Either use the helper methods on the `TransactionBlock` class, or import `Transactions` from `@mysten/sui.js/transactions`.\n   */\n  static get Transactions() {\n    return Transactions;\n  }\n\n  /**\n   * A helper to retrieve the Transaction builder `Inputs`\n   * * @deprecated Either use the helper methods on the `TransactionBlock` class, or import `Inputs` from `@mysten/sui.js/transactions`.\n   */\n  static get Inputs() {\n    return Inputs;\n  }\n\n  setSender(sender: string) {\n    this.#blockData.sender = sender;\n  }\n  /**\n   * Sets the sender only if it has not already been set.\n   * This is useful for sponsored transaction flows where the sender may not be the same as the signer address.\n   */\n  setSenderIfNotSet(sender: string) {\n    if (!this.#blockData.sender) {\n      this.#blockData.sender = sender;\n    }\n  }\n  setExpiration(expiration?: TransactionExpiration) {\n    this.#blockData.expiration = expiration;\n  }\n  setGasPrice(price: number | bigint) {\n    this.#blockData.gasConfig.price = String(price);\n  }\n  setGasBudget(budget: number | bigint) {\n    this.#blockData.gasConfig.budget = String(budget);\n  }\n  setGasOwner(owner: string) {\n    this.#blockData.gasConfig.owner = owner;\n  }\n  setGasPayment(payments: SuiObjectRef[]) {\n    this.#blockData.gasConfig.payment = payments.map((payment) =>\n      mask(payment, SuiObjectRef),\n    );\n  }\n\n  #blockData: TransactionBlockDataBuilder;\n  /** Get a snapshot of the transaction data, in JSON form: */\n  get blockData() {\n    return this.#blockData.snapshot();\n  }\n\n  // Used to brand transaction classes so that they can be identified, even between multiple copies\n  // of the builder.\n  get [TRANSACTION_BRAND]() {\n    return true;\n  }\n\n  constructor(transaction?: TransactionBlock) {\n    this.#blockData = new TransactionBlockDataBuilder(\n      transaction ? transaction.blockData : undefined,\n    );\n  }\n\n  /** Returns an argument for the gas coin, to be used in a transaction. */\n  get gas(): TransactionArgument {\n    return { kind: 'GasCoin' };\n  }\n\n  /**\n   * Dynamically create a new input, which is separate from the `input`. This is important\n   * for generated clients to be able to define unique inputs that are non-overlapping with the\n   * defined inputs.\n   *\n   * For `Uint8Array` type automatically convert the input into a `Pure` CallArg, since this\n   * is the format required for custom serialization.\n   *\n   */\n  #input(type: 'object' | 'pure', value?: unknown) {\n    const index = this.#blockData.inputs.length;\n    const input = create(\n      {\n        kind: 'Input',\n        // bigints can't be serialized to JSON, so just string-convert them here:\n        value: typeof value === 'bigint' ? String(value) : value,\n        index,\n        type,\n      },\n      TransactionBlockInput,\n    );\n    this.#blockData.inputs.push(input);\n    return input;\n  }\n\n  /**\n   * Add a new object input to the transaction.\n   */\n  object(value: string | ObjectCallArg) {\n    const id = getIdFromCallArg(value);\n    // deduplicate\n    const inserted = this.#blockData.inputs.find(\n      (i) => i.type === 'object' && id === getIdFromCallArg(i.value),\n    );\n    return inserted ?? this.#input('object', value);\n  }\n\n  /**\n   * Add a new object input to the transaction using the fully-resolved object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  objectRef(...args: Parameters<(typeof Inputs)['ObjectRef']>) {\n    return this.object(Inputs.ObjectRef(...args));\n  }\n\n  /**\n   * Add a new shared object input to the transaction using the fully-resolved shared object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  sharedObjectRef(...args: Parameters<(typeof Inputs)['SharedObjectRef']>) {\n    return this.object(Inputs.SharedObjectRef(...args));\n  }\n\n  /**\n   * Add a new non-object input to the transaction.\n   */\n  pure(\n    /**\n     * The pure value that will be used as the input value. If this is a Uint8Array, then the value\n     * is assumed to be raw bytes, and will be used directly.\n     */\n    value: unknown,\n    /**\n     * The BCS type to serialize the value into. If not provided, the type will automatically be determined\n     * based on how the input is used.\n     */\n    type?: string,\n  ) {\n    // TODO: we can also do some deduplication here\n    return this.#input(\n      'pure',\n      value instanceof Uint8Array\n        ? Inputs.Pure(value)\n        : type\n        ? Inputs.Pure(value, type)\n        : value,\n    );\n  }\n\n  /** Add a transaction to the transaction block. */\n  add(transaction: TransactionType) {\n    const index = this.#blockData.transactions.push(transaction);\n    return createTransactionResult(index - 1);\n  }\n\n  // Method shorthands:\n\n  splitCoins(...args: Parameters<(typeof Transactions)['SplitCoins']>) {\n    return this.add(Transactions.SplitCoins(...args));\n  }\n  mergeCoins(...args: Parameters<(typeof Transactions)['MergeCoins']>) {\n    return this.add(Transactions.MergeCoins(...args));\n  }\n  publish(...args: Parameters<(typeof Transactions)['Publish']>) {\n    return this.add(Transactions.Publish(...args));\n  }\n  upgrade(...args: Parameters<(typeof Transactions)['Upgrade']>) {\n    return this.add(Transactions.Upgrade(...args));\n  }\n  moveCall(...args: Parameters<(typeof Transactions)['MoveCall']>) {\n    return this.add(Transactions.MoveCall(...args));\n  }\n  transferObjects(\n    ...args: Parameters<(typeof Transactions)['TransferObjects']>\n  ) {\n    return this.add(Transactions.TransferObjects(...args));\n  }\n  makeMoveVec(...args: Parameters<(typeof Transactions)['MakeMoveVec']>) {\n    return this.add(Transactions.MakeMoveVec(...args));\n  }\n\n  /**\n   * Serialize the transaction to a string so that it can be sent to a separate context.\n   * This is different from `build` in that it does not serialize to BCS bytes, and instead\n   * uses a separate format that is unique to the transaction builder. This allows\n   * us to serialize partially-complete transactions, that can then be completed and\n   * built in a separate context.\n   *\n   * For example, a dapp can construct a transaction, but not provide gas objects\n   * or a gas budget. The transaction then can be sent to the wallet, where this\n   * information is automatically filled in (e.g. by querying for coin objects\n   * and performing a dry run).\n   */\n  serialize() {\n    return JSON.stringify(this.#blockData.snapshot());\n  }\n\n  #getConfig(\n    key: keyof typeof LIMITS,\n    { protocolConfig, limits }: BuildOptions,\n  ) {\n    // Use the limits definition if that exists:\n    if (limits && typeof limits[key] === 'number') {\n      return limits[key]!;\n    }\n\n    if (!protocolConfig) {\n      return DefaultOfflineLimits[key];\n    }\n\n    // Fallback to protocol config:\n    const attribute = protocolConfig?.attributes[LIMITS[key]];\n    if (!attribute) {\n      throw new Error(`Missing expected protocol config: \"${LIMITS[key]}\"`);\n    }\n\n    const value =\n      'u64' in attribute\n        ? attribute.u64\n        : 'u32' in attribute\n        ? attribute.u32\n        : attribute.f64;\n\n    if (!value) {\n      throw new Error(\n        `Unexpected protocol config value found for: \"${LIMITS[key]}\"`,\n      );\n    }\n\n    // NOTE: Technically this is not a safe conversion, but we know all of the values in protocol config are safe\n    return Number(value);\n  }\n\n  /** Build the transaction to BCS bytes, and sign it with the provided keypair. */\n  async sign(options: SignOptions): Promise<SignatureWithBytes> {\n    const { signer, ...buildOptions } = options;\n    const bytes = await this.build(buildOptions);\n    return signer.signTransactionBlock(bytes);\n  }\n\n  /** Build the transaction to BCS bytes. */\n  async build(options: BuildOptions = {}): Promise<Uint8Array> {\n    await this.#prepare(options);\n    return this.#blockData.build({\n      maxSizeBytes: this.#getConfig('maxTxSizeBytes', options),\n      onlyTransactionKind: options.onlyTransactionKind,\n    });\n  }\n\n  /** Derive transaction digest */\n  async getDigest(\n    options: {\n      /**\n       * @deprecated Use `client` instead.\n       */\n      provider?: JsonRpcProvider | SuiClient;\n      client?: SuiClient;\n    } = {},\n  ): Promise<string> {\n    await this.#prepare(options);\n    return this.#blockData.getDigest();\n  }\n\n  #validate(options: BuildOptions) {\n    const maxPureArgumentSize = this.#getConfig('maxPureArgumentSize', options);\n    // Validate all inputs are the correct size:\n    this.#blockData.inputs.forEach((input, index) => {\n      if (is(input.value, PureCallArg)) {\n        if (input.value.Pure.length > maxPureArgumentSize) {\n          throw new Error(\n            `Input at index ${index} is too large, max pure input size is ${maxPureArgumentSize} bytes, got ${input.value.Pure.length} bytes`,\n          );\n        }\n      }\n    });\n  }\n\n  // The current default is just picking _all_ coins we can which may not be ideal.\n  async #prepareGasPayment(options: BuildOptions) {\n    if (this.#blockData.gasConfig.payment) {\n      const maxGasObjects = this.#getConfig('maxGasObjects', options);\n      if (this.#blockData.gasConfig.payment.length > maxGasObjects) {\n        throw new Error(\n          `Payment objects exceed maximum amount: ${maxGasObjects}`,\n        );\n      }\n    }\n\n    // Early return if the payment is already set:\n    if (options.onlyTransactionKind || this.#blockData.gasConfig.payment) {\n      return;\n    }\n\n    const gasOwner = this.#blockData.gasConfig.owner ?? this.#blockData.sender;\n\n    const coins = await expectClient(options).getCoins({\n      owner: gasOwner!,\n      coinType: SUI_TYPE_ARG,\n    });\n\n    const paymentCoins = coins.data\n      // Filter out coins that are also used as input:\n      .filter((coin) => {\n        const matchingInput = this.#blockData.inputs.find((input) => {\n          if (\n            is(input.value, BuilderCallArg) &&\n            'Object' in input.value &&\n            'ImmOrOwned' in input.value.Object\n          ) {\n            return coin.coinObjectId === input.value.Object.ImmOrOwned.objectId;\n          }\n\n          return false;\n        });\n\n        return !matchingInput;\n      })\n      .slice(0, this.#getConfig('maxGasObjects', options) - 1)\n      .map((coin) => ({\n        objectId: coin.coinObjectId,\n        digest: coin.digest,\n        version: coin.version,\n      }));\n\n    if (!paymentCoins.length) {\n      throw new Error('No valid gas coins found for the transaction.');\n    }\n\n    this.setGasPayment(paymentCoins);\n  }\n\n  async #prepareGasPrice(options: BuildOptions) {\n    if (options.onlyTransactionKind || this.#blockData.gasConfig.price) {\n      return;\n    }\n\n    this.setGasPrice(await expectClient(options).getReferenceGasPrice());\n  }\n\n  async #prepareTransactions(options: BuildOptions) {\n    const { inputs, transactions } = this.#blockData;\n\n    const moveModulesToResolve: MoveCallTransaction[] = [];\n\n    // Keep track of the object references that will need to be resolved at the end of the transaction.\n    // We keep the input by-reference to avoid needing to re-resolve it:\n    const objectsToResolve: {\n      id: string;\n      input: TransactionBlockInput;\n      normalizedType?: SuiMoveNormalizedType;\n    }[] = [];\n\n    transactions.forEach((transaction) => {\n      // Special case move call:\n      if (transaction.kind === 'MoveCall') {\n        // Determine if any of the arguments require encoding.\n        // - If they don't, then this is good to go.\n        // - If they do, then we need to fetch the normalized move module.\n        const needsResolution = transaction.arguments.some(\n          (arg) =>\n            arg.kind === 'Input' &&\n            !is(inputs[arg.index].value, BuilderCallArg),\n        );\n\n        if (needsResolution) {\n          moveModulesToResolve.push(transaction);\n        }\n\n        return;\n      }\n\n      // Get the matching struct definition for the transaction, and use it to attempt to automatically\n      // encode the matching inputs.\n      const transactionType = getTransactionType(transaction);\n      if (!transactionType.schema) return;\n\n      Object.entries(transaction).forEach(([key, value]) => {\n        if (key === 'kind') return;\n        const keySchema = (transactionType.schema as any)[key];\n        const isArray = keySchema.type === 'array';\n        const wellKnownEncoding: WellKnownEncoding = isArray\n          ? keySchema.schema[TRANSACTION_TYPE]\n          : keySchema[TRANSACTION_TYPE];\n\n        // This argument has unknown encoding, assume it must be fully-encoded:\n        if (!wellKnownEncoding) return;\n\n        const encodeInput = (index: number) => {\n          const input = inputs[index];\n          if (!input) {\n            throw new Error(`Missing input ${value.index}`);\n          }\n\n          // Input is fully resolved:\n          if (is(input.value, BuilderCallArg)) return;\n          if (\n            wellKnownEncoding.kind === 'object' &&\n            typeof input.value === 'string'\n          ) {\n            // The input is a string that we need to resolve to an object reference:\n            objectsToResolve.push({ id: input.value, input });\n          } else if (wellKnownEncoding.kind === 'pure') {\n            // Pure encoding, so construct BCS bytes:\n            input.value = Inputs.Pure(input.value, wellKnownEncoding.type);\n          } else {\n            throw new Error('Unexpected input format.');\n          }\n        };\n\n        if (isArray) {\n          value.forEach((arrayItem: TransactionArgument) => {\n            if (arrayItem.kind !== 'Input') return;\n            encodeInput(arrayItem.index);\n          });\n        } else {\n          if (value.kind !== 'Input') return;\n          encodeInput(value.index);\n        }\n      });\n    });\n\n    if (moveModulesToResolve.length) {\n      await Promise.all(\n        moveModulesToResolve.map(async (moveCall) => {\n          const [packageId, moduleName, functionName] =\n            moveCall.target.split('::');\n\n          const normalized = await expectClient(\n            options,\n          ).getNormalizedMoveFunction({\n            package: normalizeSuiObjectId(packageId),\n            module: moduleName,\n            function: functionName,\n          });\n\n          // Entry functions can have a mutable reference to an instance of the TxContext\n          // struct defined in the TxContext module as the last parameter. The caller of\n          // the function does not need to pass it in as an argument.\n          const hasTxContext =\n            normalized.parameters.length > 0 &&\n            isTxContext(normalized.parameters.at(-1)!);\n\n          const params = hasTxContext\n            ? normalized.parameters.slice(0, normalized.parameters.length - 1)\n            : normalized.parameters;\n\n          if (params.length !== moveCall.arguments.length) {\n            throw new Error('Incorrect number of arguments.');\n          }\n\n          params.forEach((param, i) => {\n            const arg = moveCall.arguments[i];\n            if (arg.kind !== 'Input') return;\n            const input = inputs[arg.index];\n            // Skip if the input is already resolved\n            if (is(input.value, BuilderCallArg)) return;\n\n            const inputValue = input.value;\n\n            const serType = getPureSerializationType(param, inputValue);\n\n            if (serType) {\n              input.value = Inputs.Pure(inputValue, serType);\n              return;\n            }\n\n            const structVal = extractStructTag(param);\n            if (\n              structVal != null ||\n              (typeof param === 'object' && 'TypeParameter' in param)\n            ) {\n              if (typeof inputValue !== 'string') {\n                throw new Error(\n                  `Expect the argument to be an object id string, got ${JSON.stringify(\n                    inputValue,\n                    null,\n                    2,\n                  )}`,\n                );\n              }\n              objectsToResolve.push({\n                id: inputValue,\n                input,\n                normalizedType: param,\n              });\n              return;\n            }\n\n            throw new Error(\n              `Unknown call arg type ${JSON.stringify(\n                param,\n                null,\n                2,\n              )} for value ${JSON.stringify(inputValue, null, 2)}`,\n            );\n          });\n        }),\n      );\n    }\n\n    if (objectsToResolve.length) {\n      const dedupedIds = [...new Set(objectsToResolve.map(({ id }) => id))];\n      const objectChunks = chunk(dedupedIds, MAX_OBJECTS_PER_FETCH);\n      const objects = (\n        await Promise.all(\n          objectChunks.map((chunk) =>\n            expectClient(options).multiGetObjects({\n              ids: chunk,\n              // @ts-ignore\n              options: { showOwner: true },\n            }),\n          ),\n        )\n      ).flat();\n\n      let objectsById = new Map(\n        dedupedIds.map((id, index) => {\n          return [id, objects[index]];\n        }),\n      );\n\n      const invalidObjects = Array.from(objectsById)\n        .filter(([_, obj]) => obj.error)\n        .map(([id, _]) => id);\n      if (invalidObjects.length) {\n        throw new Error(\n          `The following input objects are invalid: ${invalidObjects.join(\n            ', ',\n          )}`,\n        );\n      }\n\n      objectsToResolve.forEach(({ id, input, normalizedType }) => {\n        const object = objectsById.get(id)!;\n        const owner = object.data?.owner;\n        const initialSharedVersion =\n          owner && typeof owner === 'object' && 'Shared' in owner\n            ? owner.Shared.initial_shared_version\n            : undefined;\n\n        if (initialSharedVersion) {\n          // There could be multiple transactions that reference the same shared object.\n          // If one of them is a mutable reference, then we should mark the input\n          // as mutable.\n          const mutable =\n            isMutableSharedObjectInput(input.value) ||\n            (normalizedType != null &&\n              extractMutableReference(normalizedType) != null);\n\n          input.value = Inputs.SharedObjectRef({\n            objectId: id,\n            initialSharedVersion,\n            mutable,\n          });\n        } else {\n          input.value = Inputs.ObjectRef(\n            getObjectReference(object as SuiObjectResponse)!,\n          );\n        }\n      });\n    }\n  }\n\n  /**\n   * Prepare the transaction by valdiating the transaction data and resolving all inputs\n   * so that it can be built into bytes.\n   */\n  async #prepare(options: BuildOptions) {\n    if (!options.onlyTransactionKind && !this.#blockData.sender) {\n      throw new Error('Missing transaction sender');\n    }\n\n    const client = options.client || options.provider;\n\n    if (!options.protocolConfig && !options.limits && client) {\n      options.protocolConfig = await client.getProtocolConfig();\n    }\n\n    await Promise.all([\n      this.#prepareGasPrice(options),\n      this.#prepareTransactions(options),\n    ]);\n\n    if (!options.onlyTransactionKind) {\n      await this.#prepareGasPayment(options);\n\n      if (!this.#blockData.gasConfig.budget) {\n        const dryRunResult = await expectClient(options).dryRunTransactionBlock(\n          {\n            transactionBlock: this.#blockData.build({\n              maxSizeBytes: this.#getConfig('maxTxSizeBytes', options),\n              overrides: {\n                // @ts-ignore\n                gasConfig: {\n                  budget: String(this.#getConfig('maxTxGas', options)),\n                  payment: [],\n                },\n              },\n            }),\n          },\n        );\n        if (dryRunResult.effects.status.status !== 'success') {\n          throw new Error(\n            `Dry run failed, could not automatically determine a budget: ${dryRunResult.effects.status.error}`,\n            // @ts-ignore\n            { cause: dryRunResult },\n          );\n        }\n\n        const safeOverhead =\n          GAS_SAFE_OVERHEAD * BigInt(this.blockData.gasConfig.price || 1n);\n\n        const baseComputationCostWithOverhead =\n          BigInt(dryRunResult.effects.gasUsed.computationCost) + safeOverhead;\n\n        const gasBudget =\n          baseComputationCostWithOverhead +\n          BigInt(dryRunResult.effects.gasUsed.storageCost) -\n          BigInt(dryRunResult.effects.gasUsed.storageRebate);\n\n        // Set the budget to max(computation, computation + storage - rebate)\n        this.setGasBudget(\n          gasBudget > baseComputationCostWithOverhead\n            ? gasBudget\n            : baseComputationCostWithOverhead,\n        );\n      }\n    }\n\n    // Perform final validation on the transaction:\n    this.#validate(options);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { BCS, fromB64 } from '@mysten/bcs';\nimport type { Infer, Struct } from 'superstruct';\nimport {\n  is,\n  any,\n  array,\n  integer,\n  literal,\n  object,\n  optional,\n  string,\n  union,\n  assert,\n  define,\n  unknown,\n  record,\n} from 'superstruct';\nimport type { WellKnownEncoding } from './utils';\nimport { TRANSACTION_TYPE, create } from './utils';\nimport { TypeTagSerializer } from './type-tag-serializer';\nimport { normalizeSuiObjectId } from '../utils/sui-types';\n\nconst option = <T extends Struct<any, any>>(some: T) =>\n  union([\n    object({ None: union([literal(true), literal(null)]) }),\n    object({ Some: some }),\n  ]);\n\nexport const TransactionBlockInput = object({\n  kind: literal('Input'),\n  index: integer(),\n  value: optional(any()),\n  type: optional(union([literal('pure'), literal('object')])),\n});\nexport type TransactionBlockInput = Infer<typeof TransactionBlockInput>;\n\nconst TransactionArgumentTypes = [\n  TransactionBlockInput,\n  object({ kind: literal('GasCoin') }),\n  object({ kind: literal('Result'), index: integer() }),\n  object({\n    kind: literal('NestedResult'),\n    index: integer(),\n    resultIndex: integer(),\n  }),\n] as const;\n\n// Generic transaction argument\nexport const TransactionArgument = union([...TransactionArgumentTypes]);\nexport type TransactionArgument = Infer<typeof TransactionArgument>;\n\n// Transaction argument referring to an object:\nexport const ObjectTransactionArgument = union([...TransactionArgumentTypes]);\n(ObjectTransactionArgument as any)[TRANSACTION_TYPE] = {\n  kind: 'object',\n} as WellKnownEncoding;\n\nexport const PureTransactionArgument = (type: string) => {\n  const struct = union([...TransactionArgumentTypes]);\n  (struct as any)[TRANSACTION_TYPE] = {\n    kind: 'pure',\n    type,\n  } as WellKnownEncoding;\n  return struct;\n};\n\nexport const MoveCallTransaction = object({\n  kind: literal('MoveCall'),\n  target: define<`${string}::${string}::${string}`>(\n    'target',\n    string().validator,\n  ),\n  typeArguments: array(string()),\n  arguments: array(TransactionArgument),\n});\nexport type MoveCallTransaction = Infer<typeof MoveCallTransaction>;\n\nexport const TransferObjectsTransaction = object({\n  kind: literal('TransferObjects'),\n  objects: array(ObjectTransactionArgument),\n  address: PureTransactionArgument(BCS.ADDRESS),\n});\nexport type TransferObjectsTransaction = Infer<\n  typeof TransferObjectsTransaction\n>;\n\nexport const SplitCoinsTransaction = object({\n  kind: literal('SplitCoins'),\n  coin: ObjectTransactionArgument,\n  amounts: array(PureTransactionArgument('u64')),\n});\nexport type SplitCoinsTransaction = Infer<typeof SplitCoinsTransaction>;\n\nexport const MergeCoinsTransaction = object({\n  kind: literal('MergeCoins'),\n  destination: ObjectTransactionArgument,\n  sources: array(ObjectTransactionArgument),\n});\nexport type MergeCoinsTransaction = Infer<typeof MergeCoinsTransaction>;\n\nexport const MakeMoveVecTransaction = object({\n  kind: literal('MakeMoveVec'),\n  // TODO: ideally we should use `TypeTag` instead of `record()` here,\n  // but TypeTag is recursively defined and it's tricky to define a\n  // recursive struct in superstruct\n  type: optional(option(record(string(), unknown()))),\n  objects: array(ObjectTransactionArgument),\n});\nexport type MakeMoveVecTransaction = Infer<typeof MakeMoveVecTransaction>;\n\nexport const PublishTransaction = object({\n  kind: literal('Publish'),\n  modules: array(array(integer())),\n  dependencies: array(string()),\n});\nexport type PublishTransaction = Infer<typeof PublishTransaction>;\n\n// Keep in sync with constants in\n// crates/sui-framework/packages/sui-framework/sources/package.move\nexport enum UpgradePolicy {\n  COMPATIBLE = 0,\n  ADDITIVE = 128,\n  DEP_ONLY = 192,\n}\n\nexport const UpgradeTransaction = object({\n  kind: literal('Upgrade'),\n  modules: array(array(integer())),\n  dependencies: array(string()),\n  packageId: string(),\n  ticket: ObjectTransactionArgument,\n});\nexport type UpgradeTransaction = Infer<typeof UpgradeTransaction>;\n\nconst TransactionTypes = [\n  MoveCallTransaction,\n  TransferObjectsTransaction,\n  SplitCoinsTransaction,\n  MergeCoinsTransaction,\n  PublishTransaction,\n  UpgradeTransaction,\n  MakeMoveVecTransaction,\n] as const;\n\nexport const TransactionType = union([...TransactionTypes]);\nexport type TransactionType = Infer<typeof TransactionType>;\n\nexport function getTransactionType(data: unknown) {\n  assert(data, TransactionType);\n  return TransactionTypes.find((schema) => is(data, schema as Struct))!;\n}\n\n/**\n * Simple helpers used to construct transactions:\n */\nexport const Transactions = {\n  MoveCall(\n    input: Omit<MoveCallTransaction, 'kind' | 'arguments' | 'typeArguments'> & {\n      arguments?: TransactionArgument[];\n      typeArguments?: string[];\n    },\n  ): MoveCallTransaction {\n    return create(\n      {\n        kind: 'MoveCall',\n        target: input.target,\n        arguments: input.arguments ?? [],\n        typeArguments: input.typeArguments ?? [],\n      },\n      MoveCallTransaction,\n    );\n  },\n  TransferObjects(\n    objects: TransactionArgument[],\n    address: TransactionArgument,\n  ): TransferObjectsTransaction {\n    return create(\n      { kind: 'TransferObjects', objects, address },\n      TransferObjectsTransaction,\n    );\n  },\n  SplitCoins(\n    coin: TransactionArgument,\n    amounts: TransactionArgument[],\n  ): SplitCoinsTransaction {\n    return create({ kind: 'SplitCoins', coin, amounts }, SplitCoinsTransaction);\n  },\n  MergeCoins(\n    destination: TransactionArgument,\n    sources: TransactionArgument[],\n  ): MergeCoinsTransaction {\n    return create(\n      { kind: 'MergeCoins', destination, sources },\n      MergeCoinsTransaction,\n    );\n  },\n  Publish({\n    modules,\n    dependencies,\n  }: {\n    modules: number[][] | string[];\n    dependencies: string[];\n  }): PublishTransaction {\n    return create(\n      {\n        kind: 'Publish',\n        modules: modules.map((module) =>\n          typeof module === 'string' ? Array.from(fromB64(module)) : module,\n        ),\n        dependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n      },\n      PublishTransaction,\n    );\n  },\n  Upgrade({\n    modules,\n    dependencies,\n    packageId,\n    ticket,\n  }: {\n    modules: number[][] | string[];\n    dependencies: string[];\n    packageId: string;\n    ticket: TransactionArgument;\n  }): UpgradeTransaction {\n    return create(\n      {\n        kind: 'Upgrade',\n        modules: modules.map((module) =>\n          typeof module === 'string' ? Array.from(fromB64(module)) : module,\n        ),\n        dependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n        packageId,\n        ticket,\n      },\n      UpgradeTransaction,\n    );\n  },\n  MakeMoveVec({\n    type,\n    objects,\n  }: Omit<MakeMoveVecTransaction, 'kind' | 'type'> & {\n    type?: string;\n  }): MakeMoveVecTransaction {\n    return create(\n      {\n        kind: 'MakeMoveVec',\n        type: type\n          ? { Some: TypeTagSerializer.parseFromStr(type) }\n          : { None: null },\n        objects,\n      },\n      MakeMoveVecTransaction,\n    );\n  },\n};\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Struct } from 'superstruct';\nimport { create as superstructCreate } from 'superstruct';\n\nexport function create<T, S>(value: T, struct: Struct<T, S>): T {\n  return superstructCreate(value, struct);\n}\n\nexport type WellKnownEncoding =\n  | {\n      kind: 'object';\n    }\n  | {\n      kind: 'pure';\n      type: string;\n    };\n\nexport const TRANSACTION_TYPE = Symbol('transaction-argument-type');\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Infer } from 'superstruct';\nimport { array, boolean, integer, object, string, union } from 'superstruct';\nimport type { SharedObjectRef } from '../bcs/index';\nimport { SuiObjectRef } from '../types/index';\nimport { builder } from './bcs';\nimport { normalizeSuiAddress } from '../utils/sui-types';\n\nconst ObjectArg = union([\n  object({ ImmOrOwned: SuiObjectRef }),\n  object({\n    Shared: object({\n      objectId: string(),\n      initialSharedVersion: union([integer(), string()]),\n      mutable: boolean(),\n    }),\n  }),\n]);\n\nexport const PureCallArg = object({ Pure: array(integer()) });\nexport const ObjectCallArg = object({ Object: ObjectArg });\nexport type PureCallArg = Infer<typeof PureCallArg>;\nexport type ObjectCallArg = Infer<typeof ObjectCallArg>;\n\nexport const BuilderCallArg = union([PureCallArg, ObjectCallArg]);\nexport type BuilderCallArg = Infer<typeof BuilderCallArg>;\n\nexport const Inputs = {\n  Pure(data: unknown, type?: string): PureCallArg {\n    return {\n      Pure: Array.from(\n        data instanceof Uint8Array\n          ? data\n          : // NOTE: We explicitly set this to be growable to infinity, because we have maxSize validation at the builder-level:\n            builder.ser(type!, data, { maxSize: Infinity }).toBytes(),\n      ),\n    };\n  },\n  ObjectRef({ objectId, digest, version }: SuiObjectRef): ObjectCallArg {\n    return {\n      Object: {\n        ImmOrOwned: {\n          digest,\n          version,\n          objectId: normalizeSuiAddress(objectId),\n        },\n      },\n    };\n  },\n  SharedObjectRef({\n    objectId,\n    mutable,\n    initialSharedVersion,\n  }: SharedObjectRef): ObjectCallArg {\n    return {\n      Object: {\n        Shared: {\n          mutable,\n          initialSharedVersion,\n          objectId: normalizeSuiAddress(objectId),\n        },\n      },\n    };\n  },\n};\n\nexport function getIdFromCallArg(arg: string | ObjectCallArg) {\n  if (typeof arg === 'string') {\n    return normalizeSuiAddress(arg);\n  }\n  if ('ImmOrOwned' in arg.Object) {\n    return normalizeSuiAddress(arg.Object.ImmOrOwned.objectId);\n  }\n  return normalizeSuiAddress(arg.Object.Shared.objectId);\n}\n\nexport function getSharedObjectInput(\n  arg: BuilderCallArg,\n): SharedObjectRef | undefined {\n  return typeof arg === 'object' && 'Object' in arg && 'Shared' in arg.Object\n    ? arg.Object.Shared\n    : undefined;\n}\n\nexport function isSharedObjectInput(arg: BuilderCallArg): boolean {\n  return !!getSharedObjectInput(arg);\n}\n\nexport function isMutableSharedObjectInput(arg: BuilderCallArg): boolean {\n  return getSharedObjectInput(arg)?.mutable ?? false;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport type Option<T> =\n  | T\n  | {\n      fields: {\n        vec: '';\n      };\n      type: string;\n    };\n\nexport function getOption<T>(option: Option<T>): T | undefined {\n  if (\n    typeof option === 'object' &&\n    option !== null &&\n    'type' in option &&\n    option.type.startsWith('0x1::option::Option<')\n  ) {\n    return undefined;\n  }\n  return option as T;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type {\n  SuiObjectResponse,\n  SuiMoveObject,\n  SuiObjectInfo,\n  SuiObjectData,\n} from '../types/objects';\nimport {\n  getObjectFields,\n  getObjectId,\n  getObjectType,\n} from '../types/objects';\n\nimport type { Option } from '../types/option';\nimport { getOption } from '../types/option';\nimport type { CoinStruct } from '../types/coin';\nimport type { StructTag } from '../bcs/index';\nimport type { Infer } from 'superstruct';\nimport { nullable, number, object, string } from 'superstruct';\nimport { normalizeSuiObjectId } from '../utils/sui-types';\n\nexport const SUI_SYSTEM_ADDRESS = '0x3';\nexport const SUI_FRAMEWORK_ADDRESS = '0x2';\nexport const MOVE_STDLIB_ADDRESS = '0x1';\nexport const OBJECT_MODULE_NAME = 'object';\nexport const UID_STRUCT_NAME = 'UID';\nexport const ID_STRUCT_NAME = 'ID';\nexport const SUI_TYPE_ARG = `${SUI_FRAMEWORK_ADDRESS}::sui::SUI`;\nexport const VALIDATORS_EVENTS_QUERY =\n  '0x3::validator_set::ValidatorEpochInfoEventV2';\n\nexport const SUI_CLOCK_OBJECT_ID = normalizeSuiObjectId('0x6');\n\n// `sui::pay` module is used for Coin management (split, join, join_and_transfer etc);\nexport const PAY_MODULE_NAME = 'pay';\nexport const PAY_SPLIT_COIN_VEC_FUNC_NAME = 'split_vec';\nexport const PAY_JOIN_COIN_FUNC_NAME = 'join';\nexport const COIN_TYPE_ARG_REGEX = /^0x2::coin::Coin<(.+)>$/;\n\ntype ObjectData = ObjectDataFull | SuiObjectInfo;\ntype ObjectDataFull = SuiObjectResponse | SuiMoveObject;\n\nexport function isObjectDataFull(\n  resp: ObjectData | ObjectDataFull,\n): resp is SuiObjectResponse {\n  return !!(resp as SuiObjectResponse).data || !!(resp as SuiMoveObject).type;\n}\n\nexport const CoinMetadataStruct = object({\n  decimals: number(),\n  name: string(),\n  symbol: string(),\n  description: string(),\n  iconUrl: nullable(string()),\n  id: nullable(string()),\n});\n\nexport type CoinMetadata = Infer<typeof CoinMetadataStruct>;\n\n/**\n * Utility class for 0x2::coin\n * as defined in https://github.com/MystenLabs/sui/blob/ca9046fd8b1a9e8634a4b74b0e7dabdc7ea54475/sui_programmability/framework/sources/Coin.move#L4\n */\nexport class Coin {\n  static isCoin(data: ObjectData): boolean {\n    return Coin.getType(data)?.match(COIN_TYPE_ARG_REGEX) != null;\n  }\n\n  static getCoinType(type: string) {\n    const [, res] = type.match(COIN_TYPE_ARG_REGEX) ?? [];\n    return res || null;\n  }\n\n  static getCoinTypeArg(obj: ObjectData) {\n    const type = Coin.getType(obj);\n    return type ? Coin.getCoinType(type) : null;\n  }\n\n  static isSUI(obj: ObjectData) {\n    const arg = Coin.getCoinTypeArg(obj);\n    return arg ? Coin.getCoinSymbol(arg) === 'SUI' : false;\n  }\n\n  static getCoinSymbol(coinTypeArg: string) {\n    return coinTypeArg.substring(coinTypeArg.lastIndexOf(':') + 1);\n  }\n\n  static getCoinStructTag(coinTypeArg: string): StructTag {\n    return {\n      address: normalizeSuiObjectId(coinTypeArg.split('::')[0]),\n      module: coinTypeArg.split('::')[1],\n      name: coinTypeArg.split('::')[2],\n      typeParams: [],\n    };\n  }\n\n  public static getID(obj: ObjectData): string {\n    if ('fields' in obj) {\n      return obj.fields.id.id;\n    }\n    return getObjectId(obj);\n  }\n\n  static totalBalance(coins: CoinStruct[]): bigint {\n    return coins.reduce(\n      (partialSum, c) => partialSum + Coin.getBalanceFromCoinStruct(c),\n      BigInt(0),\n    );\n  }\n\n  /**\n   * Sort coin by balance in an ascending order\n   */\n  static sortByBalance(coins: CoinStruct[]): CoinStruct[] {\n    return [...coins].sort((a, b) =>\n      Coin.getBalanceFromCoinStruct(a) < Coin.getBalanceFromCoinStruct(b)\n        ? -1\n        : Coin.getBalanceFromCoinStruct(a) > Coin.getBalanceFromCoinStruct(b)\n        ? 1\n        : 0,\n    );\n  }\n\n  static getBalanceFromCoinStruct(coin: CoinStruct): bigint {\n    return BigInt(coin.balance);\n  }\n\n  static getBalance(data: ObjectDataFull): bigint | undefined {\n    if (!Coin.isCoin(data)) {\n      return undefined;\n    }\n    const balance = getObjectFields(data)?.balance;\n    return BigInt(balance);\n  }\n\n  private static getType(data: ObjectData): string | null | undefined {\n    if (isObjectDataFull(data)) {\n      return getObjectType(data);\n    }\n    return data.type;\n  }\n}\n\nexport type DelegationData = SuiMoveObject & {\n  dataType: 'moveObject';\n  type: '0x2::delegation::Delegation';\n  fields: {\n    active_delegation: Option<number>;\n    delegate_amount: number;\n    next_reward_unclaimed_epoch: number;\n    validator_address: string;\n    info: {\n      id: string;\n      version: number;\n    };\n    ending_epoch: Option<number>;\n  };\n};\n\nexport type DelegationSuiObject = Omit<SuiObjectData, 'data'> & {\n  data: DelegationData;\n};\n\n// Class for delegation.move\n// see https://github.com/MystenLabs/fastnft/blob/161aa27fe7eb8ecf2866ec9eb192e768f25da768/crates/sui-framework/sources/governance/delegation.move\nexport class Delegation {\n  public static readonly SUI_OBJECT_TYPE = '0x2::delegation::Delegation';\n  private suiObject: DelegationSuiObject;\n\n  public static isDelegationSuiObject(\n    obj: SuiObjectData,\n  ): obj is DelegationSuiObject {\n    return 'type' in obj && obj.type === Delegation.SUI_OBJECT_TYPE;\n  }\n\n  constructor(obj: DelegationSuiObject) {\n    this.suiObject = obj;\n  }\n\n  public nextRewardUnclaimedEpoch() {\n    return this.suiObject.data.fields.next_reward_unclaimed_epoch;\n  }\n\n  public activeDelegation() {\n    return BigInt(getOption(this.suiObject.data.fields.active_delegation) || 0);\n  }\n\n  public delegateAmount() {\n    return this.suiObject.data.fields.delegate_amount;\n  }\n\n  public endingEpoch() {\n    return getOption(this.suiObject.data.fields.ending_epoch);\n  }\n\n  public validatorAddress() {\n    return this.suiObject.data.fields.validator_address;\n  }\n\n  public isActive() {\n    return this.activeDelegation() > 0 && !this.endingEpoch();\n  }\n\n  public hasUnclaimedRewards(epoch: number) {\n    return (\n      this.nextRewardUnclaimedEpoch() <= epoch &&\n      (this.isActive() || (this.endingEpoch() || 0) > epoch)\n    );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { isValidSuiAddress } from '../utils/sui-types';\nimport { extractStructTag } from '../types/index';\nimport {\n  ID_STRUCT_NAME,\n  MOVE_STDLIB_ADDRESS,\n  OBJECT_MODULE_NAME,\n  SUI_FRAMEWORK_ADDRESS,\n} from '../framework/framework';\nimport type { SuiJsonValue, SuiMoveNormalizedType } from '../client/index';\n\nconst STD_ASCII_MODULE_NAME = 'ascii';\nconst STD_ASCII_STRUCT_NAME = 'String';\n\nconst STD_UTF8_MODULE_NAME = 'string';\nconst STD_UTF8_STRUCT_NAME = 'String';\n\nconst STD_OPTION_MODULE_NAME = 'option';\nconst STD_OPTION_STRUCT_NAME = 'Option';\n\nconst RESOLVED_SUI_ID = {\n  address: SUI_FRAMEWORK_ADDRESS,\n  module: OBJECT_MODULE_NAME,\n  name: ID_STRUCT_NAME,\n};\nconst RESOLVED_ASCII_STR = {\n  address: MOVE_STDLIB_ADDRESS,\n  module: STD_ASCII_MODULE_NAME,\n  name: STD_ASCII_STRUCT_NAME,\n};\nconst RESOLVED_UTF8_STR = {\n  address: MOVE_STDLIB_ADDRESS,\n  module: STD_UTF8_MODULE_NAME,\n  name: STD_UTF8_STRUCT_NAME,\n};\n\nconst RESOLVED_STD_OPTION = {\n  address: MOVE_STDLIB_ADDRESS,\n  module: STD_OPTION_MODULE_NAME,\n  name: STD_OPTION_STRUCT_NAME,\n};\n\nconst isSameStruct = (a: any, b: any) =>\n  a.address === b.address && a.module === b.module && a.name === b.name;\n\nexport function isTxContext(param: SuiMoveNormalizedType): boolean {\n  const struct = extractStructTag(param)?.Struct;\n  return (\n    struct?.address === '0x2' &&\n    struct?.module === 'tx_context' &&\n    struct?.name === 'TxContext'\n  );\n}\n\nfunction expectType(typeName: string, argVal?: SuiJsonValue) {\n  if (typeof argVal === 'undefined') {\n    return;\n  }\n  if (typeof argVal !== typeName) {\n    throw new Error(\n      `Expect ${argVal} to be ${typeName}, received ${typeof argVal}`,\n    );\n  }\n}\n\nconst allowedTypes = [\n  'Address',\n  'Bool',\n  'U8',\n  'U16',\n  'U32',\n  'U64',\n  'U128',\n  'U256',\n];\n\nexport function getPureSerializationType(\n  normalizedType: SuiMoveNormalizedType,\n  argVal: SuiJsonValue | undefined,\n): string | undefined {\n  if (\n    typeof normalizedType === 'string' &&\n    allowedTypes.includes(normalizedType)\n  ) {\n    if (normalizedType in ['U8', 'U16', 'U32', 'U64', 'U128', 'U256']) {\n      expectType('number', argVal);\n    } else if (normalizedType === 'Bool') {\n      expectType('boolean', argVal);\n    } else if (normalizedType === 'Address') {\n      expectType('string', argVal);\n      if (argVal && !isValidSuiAddress(argVal as string)) {\n        throw new Error('Invalid Sui Address');\n      }\n    }\n    return normalizedType.toLowerCase();\n  } else if (typeof normalizedType === 'string') {\n    throw new Error(\n      `Unknown pure normalized type ${JSON.stringify(normalizedType, null, 2)}`,\n    );\n  }\n\n  if ('Vector' in normalizedType) {\n    if (\n      (argVal === undefined || typeof argVal === 'string') &&\n      normalizedType.Vector === 'U8'\n    ) {\n      return 'string';\n    }\n\n    if (argVal !== undefined && !Array.isArray(argVal)) {\n      throw new Error(\n        `Expect ${argVal} to be a array, received ${typeof argVal}`,\n      );\n    }\n\n    const innerType = getPureSerializationType(\n      normalizedType.Vector,\n      // undefined when argVal is empty\n      argVal ? argVal[0] : undefined,\n    );\n\n    if (innerType === undefined) {\n      return;\n    }\n\n    return `vector<${innerType}>`;\n  }\n\n  if ('Struct' in normalizedType) {\n    if (isSameStruct(normalizedType.Struct, RESOLVED_ASCII_STR)) {\n      return 'string';\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_UTF8_STR)) {\n      return 'utf8string';\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_SUI_ID)) {\n      return 'address';\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_STD_OPTION)) {\n      const optionToVec: SuiMoveNormalizedType = {\n        Vector: normalizedType.Struct.typeArguments[0],\n      };\n      return getPureSerializationType(optionToVec, argVal);\n    }\n  }\n\n  return undefined;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toB58 } from '@mysten/bcs';\nimport type { Infer } from 'superstruct';\nimport {\n  array,\n  assert,\n  define,\n  integer,\n  is,\n  literal,\n  nullable,\n  object,\n  optional,\n  string,\n  union,\n} from 'superstruct';\nimport { hashTypedData } from './hash';\nimport { SuiObjectRef } from '../types/index';\nimport { builder } from './bcs';\nimport { TransactionType, TransactionBlockInput } from './Transactions';\nimport { BuilderCallArg, PureCallArg } from './Inputs';\nimport { create } from './utils';\nimport { normalizeSuiAddress } from '../utils/sui-types';\n\nexport const TransactionExpiration = optional(\n  nullable(\n    union([\n      object({ Epoch: integer() }),\n      object({ None: union([literal(true), literal(null)]) }),\n    ]),\n  ),\n);\nexport type TransactionExpiration = Infer<typeof TransactionExpiration>;\n\nconst StringEncodedBigint = define<string>('StringEncodedBigint', (val) => {\n  if (!['string', 'number', 'bigint'].includes(typeof val)) return false;\n\n  try {\n    BigInt(val as string);\n    return true;\n  } catch {\n    return false;\n  }\n});\n\nconst GasConfig = object({\n  budget: optional(StringEncodedBigint),\n  price: optional(StringEncodedBigint),\n  payment: optional(array(SuiObjectRef)),\n  owner: optional(string()),\n});\ntype GasConfig = Infer<typeof GasConfig>;\n\nexport const SerializedTransactionDataBuilder = object({\n  version: literal(1),\n  sender: optional(string()),\n  expiration: TransactionExpiration,\n  gasConfig: GasConfig,\n  inputs: array(TransactionBlockInput),\n  transactions: array(TransactionType),\n});\nexport type SerializedTransactionDataBuilder = Infer<\n  typeof SerializedTransactionDataBuilder\n>;\n\nfunction prepareSuiAddress(address: string) {\n  return normalizeSuiAddress(address).replace('0x', '');\n}\n\nexport class TransactionBlockDataBuilder {\n  static fromKindBytes(bytes: Uint8Array) {\n    const kind = builder.de('TransactionKind', bytes);\n    const programmableTx = kind?.ProgrammableTransaction;\n    if (!programmableTx) {\n      throw new Error('Unable to deserialize from bytes.');\n    }\n\n    const serialized = create(\n      {\n        version: 1,\n        // @ts-ignore\n        gasConfig: {},\n        inputs: programmableTx.inputs.map((value: unknown, index: number) =>\n          create(\n            {\n              kind: 'Input',\n              value,\n              index,\n              type: is(value, PureCallArg) ? 'pure' : 'object',\n            },\n            TransactionBlockInput,\n          ),\n        ),\n        transactions: programmableTx.transactions,\n      },\n      SerializedTransactionDataBuilder,\n    );\n\n    return TransactionBlockDataBuilder.restore(serialized);\n  }\n\n  static fromBytes(bytes: Uint8Array) {\n    const rawData = builder.de('TransactionData', bytes);\n    const data = rawData?.V1;\n    const programmableTx = data?.kind?.ProgrammableTransaction;\n    if (!data || !programmableTx) {\n      throw new Error('Unable to deserialize from bytes.');\n    }\n\n    const serialized = create(\n      {\n        version: 1,\n        sender: data.sender,\n        expiration: data.expiration,\n        gasConfig: data.gasData,\n        inputs: programmableTx.inputs.map((value: unknown, index: number) =>\n          create(\n            {\n              kind: 'Input',\n              value,\n              index,\n              type: is(value, PureCallArg) ? 'pure' : 'object',\n            },\n            TransactionBlockInput,\n          ),\n        ),\n        transactions: programmableTx.transactions,\n      },\n      SerializedTransactionDataBuilder,\n    );\n\n    // @ts-ignore\n    return TransactionBlockDataBuilder.restore(serialized);\n  }\n\n  static restore(data: SerializedTransactionDataBuilder) {\n    assert(data, SerializedTransactionDataBuilder);\n    const transactionData = new TransactionBlockDataBuilder();\n    Object.assign(transactionData, data);\n    return transactionData;\n  }\n\n  /**\n   * Generate transaction digest.\n   *\n   * @param bytes BCS serialized transaction data\n   * @returns transaction digest.\n   */\n  static getDigestFromBytes(bytes: Uint8Array) {\n    const hash = hashTypedData('TransactionData', bytes);\n    return toB58(hash);\n  }\n\n  version = 1 as const;\n  sender?: string;\n  expiration?: TransactionExpiration;\n  gasConfig: GasConfig;\n  inputs: TransactionBlockInput[];\n  transactions: TransactionType[];\n\n  constructor(clone?: SerializedTransactionDataBuilder) {\n    this.sender = clone?.sender;\n    this.expiration = clone?.expiration;\n    // @ts-ignore\n    this.gasConfig = clone?.gasConfig ?? {};\n    this.inputs = clone?.inputs ?? [];\n    this.transactions = clone?.transactions ?? [];\n  }\n\n  build({\n    maxSizeBytes = Infinity,\n    overrides,\n    onlyTransactionKind,\n  }: {\n    maxSizeBytes?: number;\n    overrides?: Pick<\n      Partial<TransactionBlockDataBuilder>,\n      'sender' | 'gasConfig' | 'expiration'\n    >;\n    onlyTransactionKind?: boolean;\n  } = {}) {\n    // Resolve inputs down to values:\n    const inputs = this.inputs.map((input) => {\n      assert(input.value, BuilderCallArg);\n      return input.value;\n    });\n\n    const kind = {\n      ProgrammableTransaction: {\n        inputs,\n        transactions: this.transactions,\n      },\n    };\n\n    if (onlyTransactionKind) {\n      return builder\n        .ser('TransactionKind', kind, { maxSize: maxSizeBytes })\n        .toBytes();\n    }\n\n    const expiration = overrides?.expiration ?? this.expiration;\n    const sender = overrides?.sender ?? this.sender;\n    const gasConfig = { ...this.gasConfig, ...overrides?.gasConfig };\n\n    if (!sender) {\n      throw new Error('Missing transaction sender');\n    }\n\n    if (!gasConfig.budget) {\n      throw new Error('Missing gas budget');\n    }\n\n    if (!gasConfig.payment) {\n      throw new Error('Missing gas payment');\n    }\n\n    if (!gasConfig.price) {\n      throw new Error('Missing gas price');\n    }\n\n    const transactionData = {\n      sender: prepareSuiAddress(sender),\n      expiration: expiration ? expiration : { None: true },\n      gasData: {\n        payment: gasConfig.payment,\n        owner: prepareSuiAddress(this.gasConfig.owner ?? sender),\n        price: BigInt(gasConfig.price),\n        budget: BigInt(gasConfig.budget),\n      },\n      kind: {\n        ProgrammableTransaction: {\n          inputs,\n          transactions: this.transactions,\n        },\n      },\n    };\n\n    return builder\n      .ser(\n        'TransactionData',\n        { V1: transactionData },\n        { maxSize: maxSizeBytes },\n      )\n      .toBytes();\n  }\n\n  getDigest() {\n    const bytes = this.build({ onlyTransactionKind: false });\n    return TransactionBlockDataBuilder.getDigestFromBytes(bytes);\n  }\n\n  snapshot(): SerializedTransactionDataBuilder {\n    // @ts-ignore\n    return create(this, SerializedTransactionDataBuilder);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2b';\n\n/**\n * Generates a Blake2b hash of typed data as a base64 string.\n *\n * @param typeTag type tag (e.g. TransactionData, SenderSignedData)\n * @param data data to hash\n */\nexport function hashTypedData(typeTag: string, data: Uint8Array): Uint8Array {\n\tconst typeTagBytes = Array.from(`${typeTag}::`).map((e) => e.charCodeAt(0));\n\n\tconst dataWithTag = new Uint8Array(typeTagBytes.length + data.length);\n\tdataWithTag.set(typeTagBytes);\n\tdataWithTag.set(data, typeTagBytes.length);\n\n\treturn blake2b(dataWithTag, { dkLen: 32 });\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport class FaucetRateLimitError extends Error {}\n\ntype FaucetCoinInfo = {\n\tamount: number;\n\tid: string;\n\ttransferTxDigest: string;\n};\n\ntype FaucetResponse = {\n\ttransferredGasObjects: FaucetCoinInfo[];\n\terror?: string | null;\n};\n\ntype BatchFaucetResponse = {\n\ttask?: string | null;\n\terror?: string | null;\n};\n\ntype BatchSendStatusType = 'INPROGRESS' | 'SUCCEEDED' | 'DISCARDED';\n\ntype BatchStatusFaucetResponse = {\n\tstatus: BatchSendStatusType;\n\terror?: string | null;\n};\n\nasync function faucetRequest(\n\thost: string,\n\tpath: string,\n\tbody: Record<string, any>,\n\theaders?: HeadersInit,\n) {\n\tconst endpoint = new URL(path, host).toString();\n\tconst res = await fetch(endpoint, {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify(body),\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(headers || {}),\n\t\t},\n\t});\n\n\tif (res.status === 429) {\n\t\tthrow new FaucetRateLimitError(\n\t\t\t`Too many requests from this client have been sent to the faucet. Please retry later`,\n\t\t);\n\t}\n\n\ttry {\n\t\tconst parsed = await res.json();\n\t\tif (parsed.error) {\n\t\t\tthrow new Error(`Faucet returns error: ${parsed.error}`);\n\t\t}\n\t\treturn parsed;\n\t} catch (e) {\n\t\tthrow new Error(\n\t\t\t`Encountered error when parsing response from faucet, error: ${e}, status ${res.status}, response ${res}`,\n\t\t);\n\t}\n}\n\nexport async function requestSuiFromFaucetV0(input: {\n\thost: string;\n\trecipient: string;\n\theaders?: HeadersInit;\n}): Promise<FaucetResponse> {\n\treturn faucetRequest(\n\t\tinput.host,\n\t\t'/gas',\n\t\t{\n\t\t\tFixedAmountRequest: {\n\t\t\t\trecipient: input.recipient,\n\t\t\t},\n\t\t},\n\t\tinput.headers,\n\t);\n}\n\nexport async function requestSuiFromFaucetV1(input: {\n\thost: string;\n\trecipient: string;\n\theaders?: HeadersInit;\n}): Promise<BatchFaucetResponse> {\n\treturn faucetRequest(\n\t\tinput.host,\n\t\t'/v1/gas',\n\t\t{\n\t\t\tFixedAmountRequest: {\n\t\t\t\trecipient: input.recipient,\n\t\t\t},\n\t\t},\n\t\tinput.headers,\n\t);\n}\n\nexport async function getFaucetRequestStatus(input: {\n\thost: string;\n\ttaskId: string;\n\theaders?: HeadersInit;\n}): Promise<BatchStatusFaucetResponse> {\n\treturn faucetRequest(\n\t\tinput.host,\n\t\t'/v1/status',\n\t\t{\n\t\t\ttask_id: {\n\t\t\t\ttask_id: input.taskId,\n\t\t\t},\n\t\t},\n\t\tinput.headers,\n\t);\n}\n\nexport function getFaucetHost(network: 'testnet' | 'devnet' | 'localnet') {\n\tswitch (network) {\n\t\tcase 'testnet':\n\t\t\treturn 'https://faucet.testnet.sui.io';\n\t\tcase 'devnet':\n\t\t\treturn 'https://faucet.devnet.sui.io';\n\t\tcase 'localnet':\n\t\t\treturn 'http://127.0.0.1:9123';\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown network: ${network}`);\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2b';\nimport type { Keypair } from '../cryptography/keypair';\nimport { toSerializedSignature } from '../cryptography/signature';\nimport type { SerializedSignature } from '../cryptography/signature';\nimport type { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport { SignerWithProvider } from './signer-with-provider';\nimport type { SuiClient } from '../client/index';\n\nexport class RawSigner extends SignerWithProvider {\n  private readonly keypair: Keypair;\n\n  constructor(keypair: Keypair, client: JsonRpcProvider | SuiClient) {\n    super(client);\n    this.keypair = keypair;\n  }\n\n  async getAddress(): Promise<string> {\n    return this.keypair.getPublicKey().toSuiAddress();\n  }\n\n  static async getDigest(data: Uint8Array): Promise<Uint8Array> {\n    return blake2b(data, { dkLen: 32 });\n  }\n\n  async getSerializedSignature(signature: Uint8Array): Promise<SerializedSignature> {\n    const signatureScheme = this.keypair.getKeyScheme();\n    const pubkey = this.keypair.getPublicKey();\n    return toSerializedSignature({\n      signatureScheme,\n      signature,\n      pubKey: pubkey,\n    });\n  }\n\n  async signData(data: Uint8Array): Promise<SerializedSignature> {\n    const pubkey = this.keypair.getPublicKey();\n    const digest = blake2b(data, { dkLen: 32 });\n    const signature = this.keypair.signData(digest);\n    const signatureScheme = this.keypair.getKeyScheme();\n\n    return toSerializedSignature({\n      signatureScheme,\n      signature,\n      pubKey: pubkey,\n    });\n  }\n\n  connect(client: SuiClient | JsonRpcProvider): SignerWithProvider {\n    return new RawSigner(this.keypair, client);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport type { TransactionBlock } from '../builder/TransactionBlock';\nimport { isTransactionBlock } from '../builder/TransactionBlock';\nimport { TransactionBlockDataBuilder } from '../builder/TransactionBlockData';\nimport type { SerializedSignature } from '../cryptography/signature';\nimport type { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport type { HttpHeaders } from '../rpc/client';\nimport type {\n  ExecuteTransactionRequestType,\n  DevInspectResults,\n  DryRunTransactionBlockResponse,\n  SuiTransactionBlockResponse,\n  SuiTransactionBlockResponseOptions,\n} from '../client/index';\nimport { getTotalGasUsedUpperBound } from '../types/index';\nimport { IntentScope, messageWithIntent } from '../cryptography/intent';\nimport type { Signer } from './signer';\nimport type { SignedTransaction, SignedMessage } from './types';\nimport type { SuiClient } from '../client/index';\nimport { bcs } from '../bcs/index';\n\n///////////////////////////////\n// Exported Abstracts\nexport abstract class SignerWithProvider implements Signer {\n  /**\n   * @deprecated Use `client` instead.\n   */\n  get provider(): JsonRpcProvider | SuiClient {\n    return this.client;\n  }\n\n  readonly client: SuiClient;\n\n  ///////////////////\n  // Sub-classes MUST implement these\n\n  // Returns the checksum address\n  abstract getAddress(): Promise<string>;\n\n  /**\n   * Returns the signature for the data and the public key of the signer\n   */\n  abstract signData(data: Uint8Array): Promise<SerializedSignature>;\n\n  // Returns a new instance of the Signer, connected to provider.\n  // This MAY throw if changing providers is not supported.\n  abstract connect(client: SuiClient | JsonRpcProvider): SignerWithProvider;\n\n  ///////////////////\n  // Sub-classes MAY override these\n\n  /**\n   * Request gas tokens from a faucet server and send to the signer\n   * address\n   * @param httpHeaders optional request headers\n   * @deprecated Use `@mysten/sui.js/faucet` instead.\n   */\n  async requestSuiFromFaucet(httpHeaders?: HttpHeaders) {\n    if (!('requestSuiFromFaucet' in this.provider)) {\n      throw new Error(\n        'To request SUI from faucet, please use @mysten/sui.js/faucet instead',\n      );\n    }\n\n    return this.provider.requestSuiFromFaucet(\n      await this.getAddress(),\n      httpHeaders,\n    );\n  }\n\n  constructor(client: JsonRpcProvider | SuiClient) {\n    this.client = client as SuiClient;\n  }\n\n  /**\n   * Sign a message using the keypair, with the `PersonalMessage` intent.\n   */\n  async signMessage(input: { message: Uint8Array }): Promise<SignedMessage> {\n    const signature = await this.signData(\n      messageWithIntent(\n        IntentScope.PersonalMessage,\n        bcs.ser(['vector', 'u8'], input.message).toBytes(),\n      ),\n    );\n\n    return {\n      messageBytes: toB64(input.message),\n      signature,\n    };\n  }\n\n  protected async prepareTransactionBlock(\n    transactionBlock: Uint8Array | TransactionBlock,\n  ) {\n    if (isTransactionBlock(transactionBlock)) {\n      // If the sender has not yet been set on the transaction, then set it.\n      // NOTE: This allows for signing transactions with mis-matched senders, which is important for sponsored transactions.\n      transactionBlock.setSenderIfNotSet(await this.getAddress());\n      return await transactionBlock.build({\n        client: this.client,\n      });\n    }\n    if (transactionBlock instanceof Uint8Array) {\n      return transactionBlock;\n    }\n    throw new Error('Unknown transaction format');\n  }\n\n  async getIntentMessage(input: {\n    transactionBlock: Uint8Array | TransactionBlock;\n  }): Promise<Array<Uint8Array>> {\n    const transactionBlockBytes = await this.prepareTransactionBlock(\n      input.transactionBlock,\n    );\n\n    const intent = messageWithIntent(\n      IntentScope.TransactionData,\n      transactionBlockBytes,\n    );\n    return [intent, transactionBlockBytes]\n  }\n\n  /**\n   * Sign a transaction.\n   */\n  async signTransactionBlock(input: {\n    transactionBlock: Uint8Array | TransactionBlock;\n  }): Promise<SignedTransaction> {\n    const transactionBlockBytes = await this.prepareTransactionBlock(\n      input.transactionBlock,\n    );\n\n    const intentMessage = messageWithIntent(\n      IntentScope.TransactionData,\n      transactionBlockBytes,\n    );\n    const signature = await this.signData(intentMessage);\n\n    return {\n      transactionBlockBytes: toB64(transactionBlockBytes),\n      signature,\n    };\n  }\n\n  /**\n   * Sign a transaction block and submit to the Fullnode for execution.\n   *\n   * @param options specify which fields to return (e.g., transaction, effects, events, etc).\n   * By default, only the transaction digest will be returned.\n   * @param requestType WaitForEffectsCert or WaitForLocalExecution, see details in `ExecuteTransactionRequestType`.\n   * Defaults to `WaitForLocalExecution` if options.show_effects or options.show_events is true\n   */\n  async signAndExecuteTransactionBlock(input: {\n    transactionBlock: Uint8Array | TransactionBlock;\n    /** specify which fields to return (e.g., transaction, effects, events, etc). By default, only the transaction digest will be returned. */\n    options?: SuiTransactionBlockResponseOptions;\n    /** `WaitForEffectsCert` or `WaitForLocalExecution`, see details in `ExecuteTransactionRequestType`.\n     * Defaults to `WaitForLocalExecution` if options.show_effects or options.show_events is true\n     */\n    requestType?: ExecuteTransactionRequestType;\n  }): Promise<SuiTransactionBlockResponse> {\n    const { transactionBlockBytes, signature } =\n      await this.signTransactionBlock({\n        transactionBlock: input.transactionBlock,\n      });\n\n    return await this.client.executeTransactionBlock({\n      transactionBlock: transactionBlockBytes,\n      signature,\n      options: input.options,\n      requestType: input.requestType,\n    });\n  }\n\n  /**\n   * Derive transaction digest from\n   * @param tx BCS serialized transaction data or a `Transaction` object\n   * @returns transaction digest\n   */\n  async getTransactionBlockDigest(\n    tx: Uint8Array | TransactionBlock,\n  ): Promise<string> {\n    if (isTransactionBlock(tx)) {\n      tx.setSenderIfNotSet(await this.getAddress());\n      return tx.getDigest({ client: this.client });\n    } else if (tx instanceof Uint8Array) {\n      return TransactionBlockDataBuilder.getDigestFromBytes(tx);\n    } else {\n      throw new Error('Unknown transaction format.');\n    }\n  }\n\n  /**\n   * Runs the transaction in dev-inpsect mode. Which allows for nearly any\n   * transaction (or Move call) with any arguments. Detailed results are\n   * provided, including both the transaction effects and any return values.\n   */\n  async devInspectTransactionBlock(\n    input: Omit<\n      Parameters<JsonRpcProvider['devInspectTransactionBlock']>[0],\n      'sender'\n    >,\n  ): Promise<DevInspectResults> {\n    const address = await this.getAddress();\n    return this.client.devInspectTransactionBlock({\n      sender: address,\n      ...input,\n    });\n  }\n\n  /**\n   * Dry run a transaction and return the result.\n   */\n  async dryRunTransactionBlock(input: {\n    transactionBlock: TransactionBlock | string | Uint8Array;\n  }): Promise<DryRunTransactionBlockResponse> {\n    let dryRunTxBytes: Uint8Array;\n    if (isTransactionBlock(input.transactionBlock)) {\n      input.transactionBlock.setSenderIfNotSet(await this.getAddress());\n      dryRunTxBytes = await input.transactionBlock.build({\n        client: this.client,\n      });\n    } else if (typeof input.transactionBlock === 'string') {\n      dryRunTxBytes = fromB64(input.transactionBlock);\n    } else if (input.transactionBlock instanceof Uint8Array) {\n      dryRunTxBytes = input.transactionBlock;\n    } else {\n      throw new Error('Unknown transaction format');\n    }\n\n    return this.client.dryRunTransactionBlock({\n      transactionBlock: dryRunTxBytes,\n    });\n  }\n\n  /**\n   * Returns the estimated gas cost for the transaction\n   * @param tx The transaction to estimate the gas cost. When string it is assumed it's a serialized tx in base64\n   * @returns total gas cost estimation\n   * @throws whens fails to estimate the gas cost\n   */\n  async getGasCostEstimation(\n    ...args: Parameters<SignerWithProvider['dryRunTransactionBlock']>\n  ) {\n    const txEffects = await this.dryRunTransactionBlock(...args);\n\t// @ts-ignore\n    const gasEstimation = getTotalGasUsedUpperBound(txEffects.effects);\n    if (typeof gasEstimation === 'undefined') {\n      throw new Error('Failed to estimate the gas cost from transaction');\n    }\n    return gasEstimation;\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport { IntentScope } from '../cryptography/intent';\nimport { messageWithIntent } from '../cryptography/intent';\nimport type { SerializedSignature } from '../cryptography/signature';\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { toSingleSignaturePubkeyPair } from '../cryptography/utils';\nimport { bcs } from '../bcs/index';\n\n// TODO: This might actually make sense to eventually move to the `Keypair` instances themselves, as\n// it could allow the Sui to be tree-shaken a little better, possibly allowing keypairs that are\n// not used (and their deps) to be entirely removed from the bundle.\n\n/** Verify data that is signed with the expected scope. */\nexport async function verifyMessage(\n  message: Uint8Array | string,\n  serializedSignature: SerializedSignature,\n  scope: IntentScope,\n) {\n  const signature = toSingleSignaturePubkeyPair(serializedSignature);\n\n  if (scope === IntentScope.PersonalMessage) {\n    const messageBytes = messageWithIntent(\n      scope,\n      bcs\n        .ser(\n          ['vector', 'u8'],\n          typeof message === 'string' ? fromB64(message) : message,\n        )\n        .toBytes(),\n    );\n\n    if (\n      await signature.pubKey.verify(\n        blake2b(messageBytes, { dkLen: 32 }),\n        signature.signature,\n      )\n    ) {\n      return true;\n    }\n\n    // Fallback for backwards compatibility, old versions of the SDK\n    // did not properly wrap PersonalMessages in a PersonalMessage bcs Struct\n    const unwrappedMessageBytes = messageWithIntent(\n      scope,\n      typeof message === 'string' ? fromB64(message) : message,\n    );\n\n    return signature.pubKey.verify(\n      blake2b(unwrappedMessageBytes, { dkLen: 32 }),\n      signature.signature,\n    );\n  }\n\n  const messageBytes = messageWithIntent(\n    scope,\n    typeof message === 'string' ? fromB64(message) : message,\n  );\n\n  return signature.pubKey.verify(\n    blake2b(messageBytes, { dkLen: 32 }),\n    signature.signature,\n  );\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nconst ELLIPSIS = '\\u{2026}';\n\nexport function formatAddress(address: string) {\n  if (address.length <= 6) {\n    return address;\n  }\n\n  const offset = address.startsWith('0x') ? 2 : 0;\n\n  return `0x${address.slice(offset, offset + 4)}${ELLIPSIS}${address.slice(\n    -4,\n  )}`;\n}\n\nexport function formatDigest(digest: string) {\n  // Use 10 first characters\n  return `${digest.slice(0, 10)}${ELLIPSIS}`;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { normalizeSuiObjectId } from '../utils/sui-types';\nimport { TransactionBlock } from '../builder/index';\nimport type { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport { getObjectReference } from '../types/index';\nimport type { SuiClient } from '../client/index';\nimport { SUI_SYSTEM_ADDRESS } from './framework';\n\n/**\n * Address of the Sui System object.\n * Always the same in every Sui network (local, devnet, testnet).\n */\nexport const SUI_SYSTEM_STATE_OBJECT_ID: string = normalizeSuiObjectId('0x5');\n\nexport const SUI_SYSTEM_MODULE_NAME = 'sui_system';\nexport const ADD_STAKE_FUN_NAME = 'request_add_stake';\nexport const ADD_STAKE_LOCKED_COIN_FUN_NAME =\n  'request_add_stake_with_locked_coin';\nexport const WITHDRAW_STAKE_FUN_NAME = 'request_withdraw_stake';\n\n/**\n * Utility class for `0x5` object\n */\nexport class SuiSystemStateUtil {\n  /**\n   * Create a new transaction for staking coins ready to be signed and executed with `signer-and-provider`.\n   *\n   * @param coins the coins to be staked\n   * @param amount the amount to stake\n   * @param gasBudget omittable only for DevInspect mode\n   */\n  public static async newRequestAddStakeTxn(\n    client: JsonRpcProvider | SuiClient,\n    coins: string[],\n    amount: bigint,\n    validatorAddress: string,\n  ): Promise<TransactionBlock> {\n    // TODO: validate coin types and handle locked coins\n    const tx = new TransactionBlock();\n\n    const coin = tx.splitCoins(tx.gas, [tx.pure(amount)]);\n    tx.moveCall({\n      target: `${SUI_SYSTEM_ADDRESS}::${SUI_SYSTEM_MODULE_NAME}::${ADD_STAKE_FUN_NAME}`,\n      arguments: [\n        tx.object(SUI_SYSTEM_STATE_OBJECT_ID),\n        coin,\n        tx.pure(validatorAddress),\n      ],\n    });\n    const coinObjects = await client.multiGetObjects({\n      ids: coins,\n      // @ts-ignore\n      options: {\n        showOwner: true,\n      },\n    });\n    tx.setGasPayment(coinObjects.map((obj) => getObjectReference(obj)!));\n    return tx;\n  }\n\n  /**\n   * Create a new transaction for withdrawing coins ready to be signed and\n   * executed with `signer-and-provider`.\n   *\n   * @param stake the stake object created in the requestAddStake txn\n   * @param stakedCoinId the coins to withdraw\n   * @param gasBudget omittable only for DevInspect mode\n   */\n  public static async newRequestWithdrawlStakeTxn(\n    stake: string,\n    stakedCoinId: string,\n  ): Promise<TransactionBlock> {\n    const tx = new TransactionBlock();\n    tx.moveCall({\n      target: `${SUI_SYSTEM_ADDRESS}::${SUI_SYSTEM_MODULE_NAME}::${WITHDRAW_STAKE_FUN_NAME}`,\n      arguments: [\n        tx.object(SUI_SYSTEM_STATE_OBJECT_ID),\n        tx.object(stake),\n        tx.object(stakedCoinId),\n      ],\n    });\n\n    return tx;\n  }\n}\n","import * as bip39 from '@scure/bip39';\nimport * as english from '@scure/bip39/wordlists/english';\nimport { TransactionBlock } from './builder';\n// import { Ed25519Keypair } from './cryptography/ed25519-keypair';\nimport { Ed25519Keypair } from '.';\n// import { NftClient } from './nft_client';\nimport { JsonRpcProvider } from '.';\nimport { Connection } from './rpc/connection';\nimport { RawSigner } from './signers/raw-signer';\nimport {\n  Coin,\n  CoinStruct,\n  DryRunTransactionBlockResponse,\n  getObjectDisplay,\n  ObjectId,\n  PaginatedCoins,\n  SuiAddress,\n  SuiObjectResponse,\n  SuiTransactionBlockResponse,\n  SUI_TYPE_ARG,\n} from '.';\nimport { normalizeSuiAddress, SuiObjectData } from '.';\nimport { NftClient } from './nft-client';\nimport { calculateAPY, calculateStakeShare } from './stakeHelperFunctions';\nimport { fetchKiosk, getOwnedKiosks } from '@mysten/kiosk';\n\nconst COIN_TYPE = 784;\nconst MAX_ACCOUNTS = 20;\nconst MAX_COINS_PER_REQUEST = 100;\n\nconst dedupe = (arr: string[]) => Array.from(new Set(arr));\n\nexport interface AccountMetaData {\n  derivationPath: string; //\"44'/784'/1'/0'/0'\"\n  address: string;\n  publicKey?: string;\n}\n\nexport interface Wallet {\n  code: string; // mnemonic\n  accounts: AccountMetaData[];\n}\n\nexport class WalletClient {\n  provider: JsonRpcProvider;\n  nftClient: NftClient;\n\n  constructor(nodeUrl: string, faucetUrl: string) {\n    this.provider = new JsonRpcProvider(\n      new Connection({\n        fullnode: nodeUrl,\n        faucet: faucetUrl,\n      }),\n    );\n    this.nftClient = new NftClient(this.provider);\n  }\n\n  /**\n   * Creates new account with bip44 path and mnemonics,\n   * @param path. (e.g. m/44'/784'/0'/0'/0')\n   * Detailed description: {@link https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki}\n   * @param mnemonics.\n   * @returns Ed25519Keypair\n   */\n  //Use deriveKeypair() in ed25519-keypair.ts\n  //Giving error for different derivation path other than standard 0\n  static fromDerivePath(\n    mnemonics: string,\n    derivationPath?: string,\n  ): Ed25519Keypair {\n    // const normalizeMnemonics = mnemonics\n    //     .trim()\n    //     .split(/\\s+/)\n    //     .map((part) => part.toLowerCase())\n    //     .join(\" \");\n\n    // const { key } = derivePath(path, Buffer.from(bip39.mnemonicToSeedSync(normalizeMnemonics)).toString(\"hex\"));\n\n    // return Ed25519Keypair.fromSeed(new Uint8Array(key));\n    return Ed25519Keypair.deriveKeypair(mnemonics, derivationPath);\n  }\n\n  /**\n   * returns an Ed25519Keypair object given a private key and\n   * address of the account\n   *\n   * @param privateKey Private key of an account as a Buffer\n   * @returns Ed25519Keypair object\n   */\n  static getAccountFromPrivateKey(privateKey: Buffer): Ed25519Keypair {\n    return Ed25519Keypair.fromSeed(privateKey.slice(0, 32));\n  }\n\n  /**\n   * Each mnemonic phrase corresponds to a single wallet\n   * Wallet can contain multiple accounts\n   * An account corresponds to a key pair + address\n   *\n   * Get all the accounts of a user from their mnemonic phrase\n   *\n   * @param code The mnemonic phrase (12 word)\n   * @returns Wallet object containing all accounts of a user\n   */\n\n  async importWallet(code: string): Promise<Wallet> {\n    const accountMetaData: AccountMetaData[] = [];\n    for (let i = 0; i < MAX_ACCOUNTS; i += 1) {\n      /* eslint-disable no-await-in-loop */\n      const derivationPath = `m/44'/${COIN_TYPE}'/${i}'/0'/0'`;\n      const keypair = WalletClient.fromDerivePath(code, derivationPath);\n      const address = keypair.getPublicKey().toSuiAddress();\n      const publicKey = Buffer.from(keypair.getPublicKey().toBytes()).toString(\n        'hex',\n      );\n      // check if this account exists on Sui or not\n      let response: any;\n      try {\n        response = await this.provider.getAllBalances({\n          owner: address,\n        });\n      } catch (err) {\n        response = undefined;\n      }\n      if (!response) {\n        accountMetaData.push({\n          derivationPath,\n          address: address.startsWith('0x') ? address : '0x' + address,\n          publicKey: publicKey.startsWith('0x') ? publicKey : '0x' + publicKey,\n        });\n        break;\n      }\n      if (Object.keys(response).length !== 0 || i === 0) {\n        accountMetaData.push({\n          derivationPath,\n          address: address.startsWith('0x') ? address : '0x' + address,\n          publicKey: publicKey.startsWith('0x') ? publicKey : '0x' + publicKey,\n        });\n        // NOTE: breaking because multiple address support is not available currently\n      } else {\n        break;\n      }\n      /* eslint-enable no-await-in-loop */\n    }\n    return { code, accounts: accountMetaData };\n  }\n\n  /**\n   * Creates a new wallet which contains a single account,\n   * which is registered on Sui\n   *\n   * @returns A wallet object\n   */\n  async createWallet(code?: string): Promise<Wallet> {\n    if (!code) {\n      // mnemonic\n      code = bip39.generateMnemonic(english.wordlist);\n    }\n    const accountMetadata = await this.createNewAccount(code, 0);\n    return { code, accounts: [accountMetadata] };\n  }\n\n  /**\n   * Creates a new account in the provided wallet\n   *\n   * @param code mnemonic phrase of the wallet\n   * @returns\n   */\n  async createNewAccount(\n    code: string,\n    index: number,\n  ): Promise<AccountMetaData> {\n    if (index >= MAX_ACCOUNTS) {\n      throw new Error('Max no. of accounts reached');\n    }\n    const derivationPath = `m/44'/${COIN_TYPE}'/${index}'/0'/0'`;\n    const keypair = WalletClient.fromDerivePath(code, derivationPath);\n    const address = keypair.getPublicKey().toSuiAddress();\n    const pubKey = Buffer.from(keypair.getPublicKey().toBytes()).toString(\n      'hex',\n    );\n    return {\n      derivationPath,\n      address: address.startsWith('0x') ? address : '0x' + address,\n      publicKey: pubKey.startsWith('0x') ? pubKey : '0x' + pubKey,\n    };\n  }\n\n  async transferSui(\n    amount: number,\n    suiAccount: Ed25519Keypair,\n    receiverAddress: SuiAddress,\n  ) {\n    const keypair = suiAccount;\n    const tx = new TransactionBlock();\n    const coin = tx.splitCoins(tx.gas, [tx.pure(amount)]);\n    tx.transferObjects([coin], tx.pure(receiverAddress));\n    const signer = new RawSigner(keypair, this.provider);\n    return await signer.signAndExecuteTransactionBlock({\n      transactionBlock: tx,\n    });\n  }\n\n  async getBalance(address: string, typeArg: string = SUI_TYPE_ARG) {\n    const objects = await this.provider.getBalance({\n      owner: address,\n      coinType: typeArg,\n    });\n    return objects.totalBalance;\n  }\n\n  async airdrop(address: string) {\n    return await this.provider.requestSuiFromFaucet(address);\n  }\n\n  async getCoinsWithRequiredBalance(\n    address: string,\n    amount: number,\n    cursor?: string,\n    limit?: number,\n  ) {\n    const input: any = {\n      owner: address,\n    };\n\n    if (cursor) input.cursor = cursor;\n    if (limit) input.limit = limit;\n\n    const coinsNeeded = await this.provider.getCoins(input);\n    const coins: (ObjectId | undefined)[] = coinsNeeded.data\n      .map((coin) =>\n        coin.balance && parseInt(coin.balance) >= amount\n          ? coin.coinObjectId\n          : undefined,\n      )\n      .filter((d) => d);\n    return coins;\n  }\n\n  async getStake(address: string) {\n    return await this.provider.getStakes({\n      owner: address,\n    });\n  }\n\n  async getGasObjectsOwnedByAddress(address: string) {\n    const objects = await this.provider.getOwnedObjects({\n      owner: address,\n      // @ts-ignore\n      options: { showType: true, showContent: true, showOwner: true },\n    });\n    return objects.data.filter((obj) => Coin.isCoin(obj));\n  }\n\n  async getGasObject(address: string) {\n    const gasObj = await this.getGasObjectsOwnedByAddress(address);\n    if (gasObj.length === 0) {\n      throw new Error('Not Enough Gas');\n    }\n    const details = gasObj[0].data as SuiObjectData;\n    const gasObjId: ObjectId = details.objectId;\n    return gasObjId;\n  }\n\n  async getCustomCoins(address: string) {\n    const objects = await this.provider.getAllCoins({\n      owner: address,\n    });\n    let coinIds = await Promise.all(\n      objects.data.map(async (c) => {\n        let coinData;\n\n        try {\n          coinData = await this.provider.getCoinMetadata({\n            coinType: c.coinType,\n          });\n        } catch (getCoinErr) {\n          console.warn('[SDK]', getCoinErr);\n        }\n\n        if (!coinData && c.coinType !== SUI_TYPE_ARG) return;\n        if (c.coinType === SUI_TYPE_ARG) {\n          return {\n            Id: c.coinObjectId,\n            symbol: Coin.getCoinSymbol(c.coinType),\n            name: Coin.getCoinSymbol(c.coinType),\n            balance: Number(c.balance),\n            decimals: 9,\n            iconUrl: null,\n            coinTypeArg: c.coinType,\n          };\n        }\n\n        return {\n          Id: c.coinObjectId,\n          symbol: coinData.symbol,\n          name: coinData.name,\n          balance: Number(c.balance),\n          decimals: coinData.decimals,\n          iconUrl: coinData.iconUrl,\n          coinTypeArg: c.coinType,\n        };\n      }),\n    );\n\n    // removing any undefined/null values\n    coinIds = coinIds.filter((d) => d);\n\n    return coinIds;\n  }\n\n  /**\n   *\n   * @param coinType coin type path\n   * @param address address to get the coins for\n   * @returns coins array\n   */\n  // Fetch all coins for an address, this will keep calling the API until all coins are fetched\n  async getCoins(coinType: string, address?: SuiAddress | null) {\n    let cursor: string | null = null;\n    const allData: CoinStruct[] = [];\n    // keep fetching until cursor is null or undefined\n    do {\n      const { data, nextCursor }: PaginatedCoins = await this.provider.getCoins(\n        {\n          owner: address!,\n          coinType,\n          cursor,\n          limit: MAX_COINS_PER_REQUEST,\n        },\n      );\n\n      if (!data || !data.length) {\n        break;\n      }\n\n      allData.push(...data);\n      cursor = nextCursor;\n    } while (cursor);\n\n    return allData;\n  }\n\n  async getCoinBalance(coinType: string, address?: SuiAddress | null) {\n    return await this.provider.getBalance({ owner: address!, coinType });\n  }\n\n  async getAllBalances(address?: SuiAddress | null) {\n    return await this.provider.getAllBalances({ owner: address! });\n  }\n\n  async getActiveValidators() {\n    return (await this.provider.getLatestSuiSystemState()).activeValidators;\n  }\n\n  async getCoinMetadata(coinType: string) {\n    return await this.provider.getCoinMetadata({ coinType });\n  }\n\n  /**\n   * Dry run a transaction and return the result.\n   * @param tx the transaction bytes in Uint8Array\n   * @returns The transaction effects\n   */\n  async dryRunTransaction(\n    tx: Uint8Array,\n  ): Promise<DryRunTransactionBlockResponse> {\n    return this.provider.dryRunTransactionBlock({ transactionBlock: tx });\n  }\n\n  async simulateTransaction(\n    tx: Uint8Array,\n  ): Promise<DryRunTransactionBlockResponse> {\n    return await this.dryRunTransaction(tx);\n  }\n\n  async getTransactions(\n    address: SuiAddress,\n    limit: number = 50,\n    cursor: string | undefined = undefined,\n  ) {\n    // combine from and to transactions\n    const [txnIds, fromTxnIds] = await Promise.all([\n      this.provider.queryTransactionBlocks({\n        filter: {\n          ToAddress: address!,\n        },\n        // @ts-ignore\n        options: {\n          showInput: true,\n          showEffects: true,\n          showEvents: true,\n        },\n        cursor,\n        limit,\n      }),\n      this.provider.queryTransactionBlocks({\n        filter: {\n          FromAddress: address!,\n        },\n        // @ts-ignore\n        options: {\n          showInput: true,\n          showEffects: true,\n          showEvents: true,\n        },\n        cursor,\n        limit,\n      }),\n    ]);\n\n    const inserted = new Map();\n    const uniqueList: SuiTransactionBlockResponse[] = [];\n\n    [...txnIds.data, ...fromTxnIds.data]\n      .sort((a, b) => Number(b.timestampMs ?? 0) - Number(a.timestampMs ?? 0))\n      .forEach((txb) => {\n        if (inserted.get(txb.digest)) return;\n        uniqueList.push(txb);\n        inserted.set(txb.digest, true);\n      });\n\n    return uniqueList;\n  }\n\n  // Function to get the object metadata of a given objectId\n  async getObject(objectId: string) {\n    const normalizedObjId = objectId && normalizeSuiAddress(objectId);\n    const objData = await this.provider.getObject({\n      id: normalizedObjId!,\n      options: {\n        showType: true,\n        showContent: true,\n        showOwner: true,\n        showDisplay: true,\n        showPreviousTransaction: false,\n        showStorageRebate: false,\n        showBcs: false,\n      },\n    });\n\n    return objData;\n  }\n\n  // Function to get the metadata of a an nft with the given object id\n  async getNftMetadata(objectID: string) {\n    const resp = await this.getObject(objectID);\n\n    if (!resp) return null;\n    if (!resp.data) return null;\n\n    const display = getObjectDisplay(resp);\n\n    if (!display.data) {\n      return null;\n    }\n\n    const {\n      name,\n      description,\n      creator,\n      image_url,\n      link,\n      project_url,\n      collection_name,\n      collection_image,\n    } = display.data;\n\n    // return display object doesn't have image url\n    if (!image_url) return null;\n\n    return {\n      name: name || null,\n      collection: collection_name || null,\n      collection_image: collection_image || null,\n      description: description || null,\n      imageUrl: image_url || null,\n      link: link || null,\n      projectUrl: project_url || null,\n      creator: creator || null,\n      data: resp.data,\n    };\n  }\n\n  // Function to parge the ipfs url of nft metadata (same as we do with aptos nfts ipfs urls)\n  parseIpfsUrl(ipfsUrl: string) {\n    return ipfsUrl.replace(/^ipfs:\\/\\//, 'https://ipfs.io/ipfs/');\n  }\n\n  async getKioskNfts(kioskId: ObjectId) {\n    const kiosk = await this.provider.getDynamicFields({ parentId: kioskId });\n    return kiosk.data\n      .filter((item) => item.name.type === '0x2::kiosk::Item')\n      .map((item) => ({ kioskId, nft: item.name.value.id }));\n  }\n\n  /**\n   * This function retrieves the contents of kiosks owned by a given address on the OriginByte\n   * contract.\n   * @param {SuiAddress} address - The `address` parameter is a `SuiAddress` type\n   * @returns The function `getOriginByteKioskContents` returns the contents of the objects within the\n   * kiosks owned by the provided address. The contents are fetched by first finding the kiosk IDs\n   * owned by the address, then finding the object IDs within each kiosk, and finally fetching the\n   * contents of the objects within each kiosk. The function returns the fetched kiosk content.\n   */\n  async getOriginByteKioskContents(address: SuiAddress) {\n    // OriginByte contract address for mainnet (we only support mainnet)\n    const ORIGINBYTE_KIOSK_MODULE =\n      '0x95a441d389b07437d00dd07e0b6f05f513d7659b13fd7c5d3923c7d9d847199b::ob_kiosk';\n    const ORIGINBYTE_KIOSK_OWNER_TOKEN = `${ORIGINBYTE_KIOSK_MODULE}::OwnerToken`;\n\n    const objects = await this.provider.getOwnedObjects({\n      owner: address,\n      filter: {\n        StructType: ORIGINBYTE_KIOSK_OWNER_TOKEN,\n      },\n      options: {\n        showType: true,\n        showDisplay: true,\n        showContent: true,\n        showBcs: true,\n        showOwner: true,\n        showPreviousTransaction: true,\n        showStorageRebate: true,\n      },\n    });\n\n    const kioskInfo = objects?.data[0]?.data?.content;\n\n    // find list of kiosk IDs owned by address\n    const obKioskIds =\n      objects?.data.map(\n        (obj) =>\n          obj.data?.content &&\n          'fields' in obj.data.content &&\n          obj.data.content.fields.kiosk,\n      ) ?? [];\n\n    if (!obKioskIds.length) return [];\n\n    // fetch the user's kiosks\n    const ownedKiosks = await this.provider.multiGetObjects({\n      ids: obKioskIds,\n      options: {\n        showType: true,\n        showDisplay: true,\n        showContent: true,\n        showBcs: true,\n        showOwner: true,\n        showPreviousTransaction: true,\n        showStorageRebate: true,\n      },\n    });\n\n    // find object IDs within a kiosk\n    const kioskObjectIds = await Promise.all(\n      ownedKiosks.map(async (kiosk) => {\n        if (!kiosk.data?.objectId) return [];\n        const objects = await this.provider.getDynamicFields({\n          parentId: kiosk.data.objectId,\n        });\n        return objects.data.map((obj) => obj.objectId);\n      }),\n    );\n\n    // fetch the contents of the objects within a kiosk\n    const kioskContent = await this.provider.multiGetObjects({\n      ids: kioskObjectIds.flat(),\n      options: {\n        showType: true,\n        showDisplay: true,\n        showContent: true,\n        showBcs: true,\n        showOwner: true,\n        showPreviousTransaction: true,\n        showStorageRebate: true,\n      },\n    });\n\n    return { kioskContent, kioskInfo };\n  }\n\n  async getSuiKioskContents(address: SuiAddress) {\n    // @ts-ignore adding this because type issue with JsonRpcProvider\n    const ownedKiosks = await getOwnedKiosks(this.provider, address);\n    const kioskContents = await Promise.all(\n      ownedKiosks.kioskOwnerCaps.map(async ({ objectId, kioskId }) => {\n        const data = await fetchKiosk(\n          // @ts-ignore adding this because type issue with JsonRpcProvider\n          this.provider,\n          kioskId,\n          { limit: 1000 },\n          {},\n        );\n        return {\n          data,\n          kioskId,\n          kioskOwnerCapId: objectId,\n        };\n      }),\n    );\n\n    const items = kioskContents.flatMap((k) => k.data.data.items);\n    const ids = items.map((item) => item.objectId);\n\n    // fetch the contents of the objects within a kiosk\n    const kioskContent: (SuiObjectResponse & {\n      kioskInfo?: { kioskId: string; kioskOwnerCapId: string };\n    })[] = await this.provider.multiGetObjects({\n      ids,\n      // @ts-ignore\n      options: {\n        showContent: true,\n        showDisplay: true,\n        showType: true,\n      },\n    });\n\n    kioskContent.forEach((data) => {\n      kioskContents.forEach((k) => {\n        if (!k.data.data.itemIds.includes(data.data.objectId)) return;\n        data.kioskInfo = {\n          kioskId: k.kioskId,\n          kioskOwnerCapId: k.kioskOwnerCapId,\n        };\n      });\n    });\n\n    return kioskContent;\n  }\n\n  /**\n   * This function retrieves NFTs owned by a given address and their metadata, as well as kiosk NFTs\n   * and their metadata if specified.\n   * @param {SuiAddress} address - The address of the owner whose NFTs are being fetched.\n   * @param {boolean} [shouldFetchKioskContents] - `shouldFetchKioskContents` is an optional boolean\n   * @param {string} after - last fetched key\n   * @param {number} limit - limit total count\n   * parameter that determines whether or not to fetch kiosk contents for the given `address`. If\n   * `shouldFetchKioskContents` is `true`, the function will call\n   * `this.getOriginByteKioskContents(address)` to fetch kiosk contents\n   * shouldFetchKioskContents will be true only for mainnet\n   * @returns The function `getNfts` returns an array of objects containing metadata for NFTs owned by\n   * a given address, as well as metadata for NFTs stored in a kiosk.\n   * Each object in the array contains the following properties: `nftMeta` (an object\n   * containing metadata for the NFT), `objectId` and `type`\n   */\n  async getNfts(\n    address: SuiAddress,\n    shouldFetchKioskContents: boolean = true,\n    after: string | undefined = undefined,\n    limit: number | undefined = undefined,\n  ) {\n    const args: any = {\n      owner: address,\n      filter: {\n        MatchNone: [{ StructType: '0x2::coin::Coin' }],\n      },\n      options: {\n        showType: true,\n        showDisplay: true,\n        showContent: true,\n        showBcs: false,\n        showOwner: false,\n        showPreviousTransaction: false,\n        showStorageRebate: false,\n      },\n    };\n\n    if (after) {\n      args.cursor = after;\n    }\n\n    if (limit) {\n      args.limit = limit;\n    }\n\n    let objects = await this.provider.getOwnedObjects(args);\n\n    let obKioskContents;\n    if (shouldFetchKioskContents) {\n      obKioskContents = await this.getOriginByteKioskContents(address);\n    }\n    const filteredKioskContents =\n      obKioskContents.kioskContent\n        ?.filter(\n          ({ data }) =>\n            typeof data === 'object' && 'display' in data && data.display.data,\n        )\n        .map(({ data }) => data as SuiObjectData) || [];\n\n    const nfts = objects?.data\n      .filter(\n        ({ data }) =>\n          typeof data === 'object' && 'display' in data && data.display.data,\n      )\n      .map(({ data }) => data as SuiObjectData);\n\n    const nftsWithMetadataArray: any = [];\n\n    await Promise.all(\n      nfts.map(async (nft) => {\n        const nftMeta = await this.getNftMetadata(nft.objectId);\n        if (nftMeta) {\n          nftsWithMetadataArray.push({\n            nftMeta,\n            objectId: nft.objectId,\n            type: 'nft',\n          });\n        } else {\n          const nftDisplayData: any = nft.display.data;\n          nftsWithMetadataArray.push({\n            nftMeta: {\n              ...nftDisplayData,\n              imageUrl: nftDisplayData?.image_url,\n            },\n            objectId: nft.objectId,\n            type: 'nft',\n          });\n        }\n      }),\n    );\n\n    filteredKioskContents.forEach((nft) => {\n      const nftDisplayData: any = nft.display?.data;\n\n      if (nftDisplayData) {\n        nftsWithMetadataArray.push({\n          ...nft,\n          nftMeta: {\n            ...nftDisplayData,\n            imageUrl: nftDisplayData?.image_url,\n          },\n          objectId: nft.objectId,\n          type: 'kiosk-nft',\n          kioskInfo: obKioskContents.kioskInfo,\n          nftType: nft.type,\n        });\n      }\n    });\n\n    // fetch sui kiosk nfts\n    const suiKioskContents = await this.getSuiKioskContents(address);\n\n    suiKioskContents.forEach(({ data, kioskInfo }) => {\n      if (!data) return;\n\n      // store nft data\n      const nftDisplayData: any = data.display?.data;\n\n      // if nft data is not available, skip\n      if (!nftDisplayData) return;\n\n      // push nft data to array\n      nftsWithMetadataArray.push({\n        ...data,\n        nftMeta: {\n          ...nftDisplayData,\n          imageUrl: nftDisplayData?.image_url,\n        },\n        objectId: data.objectId,\n        type: 'kiosk-nft',\n        kioskInfo,\n        nftType: data.type,\n      });\n    });\n\n    return {\n      nftsWithMetadataArray,\n      cursor: objects.nextCursor,\n      hasNextPage: objects.hasNextPage,\n    };\n  }\n\n  // get the current system state (required to get total staked sui value and validators data)\n  async getSystemState() {\n    const state = await this.provider.getLatestSuiSystemState();\n    return state;\n  }\n\n  // get total staked sui value\n  async getTotalStake() {\n    const data = await this.getSystemState();\n    if (!data) return 0;\n\n    return data.activeValidators.reduce(\n      (acc: any, curr: any) => (acc += BigInt(curr.stakingPoolSuiBalance)),\n      0n,\n    );\n  }\n\n  async getValidatorsList(\n    sortKey: string = 'stakeShare',\n    sortAscending?: boolean,\n  ) {\n    const data = await this.getSystemState();\n    if (!data) return [];\n\n    const totalStake = await this.getTotalStake();\n    const { apys } = await this.provider.getValidatorsApy();\n    const sortedAsc = data.activeValidators\n      .map((validator) => ({\n        name: validator.name,\n        address: validator.suiAddress,\n        imageUrl: validator.imageUrl,\n        apy: calculateAPY(\n          apys.filter((d) => d.address === validator.suiAddress)[0]?.apy || 0,\n        ),\n        stakeShare: calculateStakeShare(\n          BigInt(validator.stakingPoolSuiBalance),\n          BigInt(totalStake),\n        ),\n        totalStaked: validator.stakingPoolSuiBalance,\n        epoch: data.epoch,\n      }))\n      .sort((a, b) => {\n        if (sortKey === 'name') {\n          return a[sortKey].localeCompare(b[sortKey], 'en', {\n            sensitivity: 'base',\n            numeric: true,\n          });\n        }\n        return a[sortKey] - b[sortKey];\n      });\n    return sortAscending ? sortedAsc : sortedAsc.reverse();\n  }\n\n  async getDelegatedStake(address: string) {\n    const stakedAmount = await this.provider.getStakes({ owner: address });\n    return stakedAmount;\n  }\n\n  // Get time between current epoch and specified epoch\n  // Get the period between the current epoch and next epoch\n  async getTimeBeforeEpochNumber(epoch: number) {\n    const data = await this.getSystemState();\n    // Current epoch\n    let currentEpoch: string | number = data?.epoch || '0';\n    let currentEpochStartTime: string | number =\n      data?.epochStartTimestampMs || '0';\n    let epochPeriod: string | number = data?.epochDurationMs || '0';\n\n    currentEpoch = parseInt(currentEpoch);\n    currentEpochStartTime = parseInt(currentEpochStartTime);\n    epochPeriod = parseInt(epochPeriod);\n\n    const timeBeforeSpecifiedEpoch =\n      epoch > currentEpoch && epoch > 0 && epochPeriod > 0\n        ? currentEpochStartTime + (epoch - currentEpoch) * epochPeriod\n        : 0;\n\n    return {\n      ...data,\n      data: timeBeforeSpecifiedEpoch,\n    };\n  }\n\n  static getAccountFromMetaData(mnemonic: string, metadata: AccountMetaData) {\n    const keypair: any = Ed25519Keypair.deriveKeypair(\n      mnemonic,\n      metadata.derivationPath,\n    );\n    return keypair;\n  }\n\n  /**\n   * returns an Ed25519Keypair at position m/44'/784'/0'/0'/0'\n   *\n   * @param mnemonic mnemonic phrase of the wallet\n   * @returns Ed25519Keypair\n   */\n  static getAccountFromMnemonic(mnemonic: string) {\n    const keypair: Ed25519Keypair = Ed25519Keypair.deriveKeypair(mnemonic);\n    return keypair;\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport {\n  SuiObjectData,\n  is,\n  getObjectFields,\n  getObjectType,\n  getSuiObjectData,\n} from '.';\n\nimport type { SuiObjectResponse, JsonRpcProvider, SuiMoveObject } from '.';\n\nexport interface WithIds {\n  objectIds: string[];\n}\n\ntype FetchFnParser<RpcResponse, DataModel> = (\n  typedData: RpcResponse,\n  suiObject: SuiObjectData,\n  rpcResponse: SuiObjectResponse,\n) => DataModel | undefined;\n\ntype SuiObjectParser<RpcResponse, DataModel> = {\n  parser: FetchFnParser<RpcResponse, DataModel>;\n  regex: RegExp;\n};\n\ntype ID = {\n  id: string;\n};\n\ntype Bag = {\n  type: string;\n  fields: {\n    id: ID;\n    size: number;\n  };\n};\n\ntype NftRpcResponse = {\n  logical_owner: string;\n  bag: Bag;\n};\n\ntype NftRaw = {\n  id: string;\n  logicalOwner: string;\n  bagId: string;\n};\n\ntype DomainRpcBase<T> = {\n  id: ID;\n  name: {\n    type: string;\n    fields: {\n      dummy_field: boolean;\n    };\n  };\n  value: {\n    type: string;\n    fields: T;\n  };\n};\n\ntype UrlDomainRpcResponse = DomainRpcBase<{\n  url: string;\n}>;\n\ntype DisplayDomainRpcResponse = DomainRpcBase<{\n  description: string;\n  name: string;\n}>;\n\ntype NftDomains = {\n  url: string;\n  name: string;\n  description: string;\n};\n\nexport type Nft = {\n  nft: NftRaw;\n  fields?: Partial<NftDomains>;\n};\n\nconst NftRegex =\n  /(0x[a-f0-9]{39,40})::nft::Nft<0x[a-f0-9]{39,40}::([a-zA-Z]{1,})::([a-zA-Z]{1,})>/;\nconst UrlDomainRegex =\n  /0x2::dynamic_field::Field<(0x[a-f0-9]{39,40})::utils::Marker<(0x[a-f0-9]{39,40})::display::UrlDomain>, (0x[a-f0-9]{39,40})::display::UrlDomain>/;\nconst DisplayDomainRegex =\n  /0x2::dynamic_field::Field<(0x[a-f0-9]{39,40})::utils::Marker<(0x[a-f0-9]{39,40})::display::DisplayDomain>, (0x[a-f0-9]{39,40})::display::DisplayDomain>/;\n\nexport const NftParser: SuiObjectParser<NftRpcResponse, NftRaw> = {\n  parser: (data, suiData, rpcResponse) => {\n    if (\n      typeof rpcResponse.data === 'object' &&\n      'owner' in rpcResponse.data\n    ) {\n      const { owner } = rpcResponse.data;\n\n      const matches = (suiData.content as SuiMoveObject).type.match(NftRegex);\n      if (!matches) {\n        return undefined;\n      }\n      const packageObjectId = matches[1];\n      const packageModule = matches[2];\n      const packageModuleClassName = matches[3];\n\n      return {\n        owner,\n        type: suiData.content?.dataType,\n        id: rpcResponse.data.objectId,\n        packageObjectId,\n        packageModule,\n        packageModuleClassName,\n        rawResponse: rpcResponse,\n        logicalOwner: data.logical_owner,\n        bagId: data.bag.fields.id.id,\n      };\n    }\n    return undefined;\n  },\n  regex: NftRegex,\n};\n\nconst isTypeMatchRegex = (d: SuiObjectResponse, regex: RegExp) => {\n  const { data } = d;\n  if (is(data, SuiObjectData)) {\n    const { content } = data;\n    if (content && 'type' in content) {\n      return content.type.match(regex);\n    }\n  }\n  return false;\n};\n\nexport const parseDomains = (domains: SuiObjectResponse[]) => {\n  const response: Partial<NftDomains> = {};\n  const urlDomain = domains.find((d) => isTypeMatchRegex(d, UrlDomainRegex));\n  const displayDomain = domains.find((d) =>\n    isTypeMatchRegex(d, DisplayDomainRegex),\n  );\n\n  if (urlDomain && getObjectFields(urlDomain)) {\n    response.url = (\n      getObjectFields(urlDomain) as UrlDomainRpcResponse\n    ).value.fields.url;\n  }\n  if (displayDomain && getObjectFields(displayDomain)) {\n    response.description = (\n      getObjectFields(displayDomain) as DisplayDomainRpcResponse\n    ).value.fields.description;\n    response.name = (\n      getObjectFields(displayDomain) as DisplayDomainRpcResponse\n    ).value.fields.name;\n  }\n\n  return response;\n};\n\nexport class NftClient {\n  private provider: JsonRpcProvider;\n\n  constructor(provider: JsonRpcProvider) {\n    this.provider = provider;\n  }\n\n  parseObjects = async (objects: SuiObjectResponse[]): Promise<NftRaw[]> => {\n    const parsedObjects = objects\n      .map((object) => {\n        if (getObjectType(object)?.match(NftParser.regex)) {\n          return NftParser.parser(\n            getObjectFields(object) as NftRpcResponse,\n            getSuiObjectData(object)!,\n            object,\n          );\n        }\n        return undefined;\n      })\n      .filter((object): object is NftRaw => !!object);\n\n    return parsedObjects;\n  };\n\n  fetchAndParseObjectsById = async (ids: string[]): Promise<NftRaw[]> => {\n    if (ids.length === 0) {\n      return new Array<NftRaw>();\n    }\n    const objects = await this.provider.multiGetObjects({\n      ids,\n      // @ts-ignore\n      options: {\n        showType: true,\n        showContent: true,\n        showOwner: true,\n      },\n    });\n    return this.parseObjects(objects);\n  };\n\n  getBagContent = async (bagId: string) => {\n    const bagObjects = await this.provider.getDynamicFields({\n      parentId: bagId,\n    });\n    const objectIds = bagObjects.data.map((bagObject) => bagObject.objectId);\n    return this.provider.multiGetObjects({\n      ids: objectIds,\n      // @ts-ignore\n      options: {\n        showType: true,\n        showContent: true,\n        showOwner: true,\n      },\n    });\n  };\n\n  getNftsById = async (params: WithIds): Promise<Nft[]> => {\n    const nfts = await this.fetchAndParseObjectsById(params.objectIds);\n    const bags = await Promise.all(\n      nfts.map(async (nft) => {\n        const content = await this.getBagContent(nft.bagId);\n        return {\n          nftId: nft.id,\n          content: parseDomains(content),\n        };\n      }),\n    );\n    const bagsByNftId = new Map(bags.map((b) => [b.nftId, b]));\n\n    return nfts.map((nft) => {\n      const fields = bagsByNftId.get(nft.id);\n      return {\n        nft,\n        fields: fields?.content,\n      };\n    });\n  };\n}\n","import { SuiValidatorSummary, DelegatedStake } from './types';\n\nimport BigNumber from 'bignumber.js';\n\nexport const calculateStakeShare = (\n  validatorStake: bigint,\n  totalStake: bigint,\n  decimalPlaces = 2,\n) => {\n  const bn = new BigNumber(validatorStake.toString());\n  const bd = new BigNumber(totalStake.toString());\n  const percentage = bn\n    .div(bd)\n    .multipliedBy(100)\n    .decimalPlaces(decimalPlaces)\n    .toNumber();\n  return percentage;\n};\n\nexport function calculateAPY(apy: number, roundDecimals = 4) {\n  return parseFloat((apy * 100).toFixed(roundDecimals));\n}\n\n// Get staked Sui\nexport const getAllStakeSui = (allDelegation: DelegatedStake[]) => {\n  return (\n    allDelegation.reduce(\n      (acc, curr) =>\n        curr.stakes.reduce(\n          (total, { principal }) => total + BigInt(principal),\n          acc,\n        ),\n      0n,\n    ) || 0n\n  );\n};\n\n// Helper function to get the delegation by stakedSuiId\nexport const getDelegationDataByStakeId = (\n  delegationsStake: DelegatedStake[],\n  stakeSuiId: string,\n) => {\n  let stake = null;\n  for (const { stakes } of delegationsStake) {\n    stake =\n      stakes.find(({ stakedSuiId }) => stakedSuiId === stakeSuiId) || null;\n    if (stake) return stake;\n  }\n\n  return stake;\n};\n\n// Get Stake SUI by stakeSuiId\nexport const getStakeSuiBySuiId = (\n  allDelegation: DelegatedStake[],\n  stakeSuiId?: string | null,\n) => {\n  return (\n    allDelegation.reduce((acc, curr) => {\n      const total = BigInt(\n        curr.stakes.find(({ stakedSuiId }) => stakedSuiId === stakeSuiId)\n          ?.principal || 0,\n      );\n      return total + acc;\n    }, 0n) || 0n\n  );\n};\n\n// Get total Stake SUI for a specific validator address\nexport const getTokenStakeSuiForValidator = (\n  allDelegation: DelegatedStake[],\n  validatorAddress?: string | null,\n) => {\n  return (\n    allDelegation.reduce((acc, curr) => {\n      if (validatorAddress === curr.validatorAddress) {\n        return curr.stakes.reduce(\n          (total, { principal }) => total + BigInt(principal),\n          acc,\n        );\n      }\n      return acc;\n    }, 0n) || 0n\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAAA;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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","names":["VECTOR","import_bcs","import_bcs","import_bcs","writer","reader","import_bcs","import_bcs","module","VECTOR","module","bcs","encode","decode","import_bcs","import_bcs","AppId","IntentVersion","IntentScope","import_bcs","import_sha256","import_bcs","nacl","import_bcs","import_blake2b","import_utils","bytes","PublicKey","import_tweetnacl","import_bcs","bip39MnemonicToSeedSync","import_tweetnacl","import_bcs","import_bcs","import_blake2b","import_bcs","nacl","import_sha256","import_secp256k1","import_bcs","import_utils","import_blake2b","PublicKey","import_superstruct","import_superstruct","import_superstruct","import_superstruct","GasCostSummary","import_superstruct","value","import_superstruct","import_superstruct","import_superstruct","import_superstruct","import_superstruct","import_superstruct","import_sha256","import_p256","import_bip32","import_bcs","import_utils","import_blake2b","import_superstruct","import_client_js","client","import_superstruct","import_bcs","import_bcs","import_superstruct","import_bcs","import_superstruct","import_superstruct","superstructCreate","UpgradePolicy","module","import_superstruct","option","import_superstruct","import_bcs","import_superstruct","import_blake2b","chunk","object","import_blake2b","import_bcs","import_bcs","import_blake2b","messageBytes","import_bcs","import_superstruct","object","BigNumber","objects"]}